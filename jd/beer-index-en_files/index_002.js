!function(t,s){nav={init:function(e){this.renderCategorys(e),this.renderMainMenu(e),this.renderAd(e),this.bindEvent(),t.worldwide&&t.worldwide.config&&t.worldwide.config.isDefaultShowCategory?s("#categorys-2014 .dd").show():this.handlerHover()},handlerHover:function(){s("#categorys-2014").unbind("mouseenter").bind("mouseenter",function(e){s(this).find(".dd").css("display","block"),s(this).addClass("hover")}).bind("mouseleave",function(){s(this).find(".dd").css("display","none"),s(this).removeClass("hover")}),s("#categorys-2014 .dd").unbind("mouseenter").bind("mouseenter",function(){s(this).css("display","block")}).bind("mouseleave",function(){setTimeout(function(){if(s("#categorys-2014").hasClass("hover"))return!1;s(this).css("display","none")},200)})},bindEvent:function(){function t(){s("#categorys-2014").find(".dd-inner .item").removeClass("hover")}s("#categorys-2014").find(".dd-inner .item").bind("mouseenter",function(e){e.preventDefault(),s(this).addClass("hover").siblings().removeClass("hover"),s(this).find(".sub-menu .lazy").removeClass("hideImg");var t=s(this).find(".sub-menu"),a=s("#categorys-2014 .dd").offset().top,n=s(this).offset().top-a-2;t.css("top",-n)}),s("#navitems-2014").bind("mouseenter",function(e){e.preventDefault(),t()}),s("#categorys-2014").bind("mouseleave",function(e){e.preventDefault(),t()})},renderAd:function(e){s("#nav-ad").html(this.getAdTpl(e))},getAdTpl:function(e){if(!e||!e.indexHnAd||0==e.indexHnAd.length)return"";var t=e.indexHnAd[0];return['<a href="'+t.linkText+'" target="_blank" clstag="firsttype|keycount|jdworldwidev2|hxdhtgg1">','<img src="'+t.actImg+'" data-original="'+t.actImg+'" class="lazy"/>',"</a>"].join("")},renderMainMenu:function(e){s("#navitems-2014").html(this.getMainMenuTpl(e))},getMainMenuTpl:function(e){if(!e||!e.hnNavigationBar||0==e.hnNavigationBar.length)return"";var t=e.hnNavigationBar,a=[];a.push("<ul>");for(var n=0;n<t.length;n++){var s=t[n];a.push("<li>"),a.push('<a target="_blank" href="'+s.linkText+'" class="rNav" nav-idx="'+n+'" clstag="firsttype|keycount|jdworldwidev2|nav'+n+'">'),""!=s.text?a.push(s.text):""!=s.actImg&&"javascript:;"!=s.actImg&&a.push('<img src="'+s.actImg+'" class="nav-logo">'),""!=s.imgLogo&&"javascript:;"!=s.imgLogo&&a.push('<img src="'+s.imgLogo+'" class="nav-icon"/>'),a.push("</a>"),a.push("</li>")}return a.push("</ul>"),a.join("")},renderCategorys:function(e){s("#categorys-2014 .dd").html(this.getCategorysTpl(e))},getCategorysTpl:function(e){if(!e||!e.mainCategory||0==e.mainCategory.length)return"";var t=e.mainCategory,a=[];a.push('<div class="dd-inner">');for(var n=0;n<t.length;n++){var s=t[n];a.push('<div class="item">'),a.push("<h3>"),a.push('<i class="'+s.directoryIconV2+' nav2016"></i>'),a.push("<a "+(s.linkText?'target="_blank"  class="link" clstag="firsttype|keycount|jdworldwidev2|first1'+n+'"  href="'+s.linkText+'"':"")+">"+s.text+"</a>"),""!=s.imgLogo&&"javascript:;"!=s.imgLogo&&a.push('<img src="'+s.imgLogo+'" class="cat-icon"/>'),a.push('<b class="arrow-right nav2016"></b>'),a.push("</h3>");for(var i=0;i<s.mainTextLink.length;i++){var r=s.mainTextLink[i];a.push('<h4><a target="_blank" href="'+r.linkText+'" clstag="firsttype|keycount|jdworldwidev2|fl'+n+"-"+i+'">'+r.text+"</a></h4>")}a.push('<div class="sub-menu">'),a.push('<div class="sub-list">'),s.popTwoCategory=s.popTwoCategory||[];var o=s.popTwoCategory.length;for(i=0;i<o;i++){var l=s.popTwoCategory[i];if(a.push('<dl class="slBlock">'),a.push('<dt class="liTitle">'),a.push('<a href="'+l.linkText+'" target="_blank" clstag="firsttype|keycount|jdworldwidev2|fl'+n+"-p"+i+'">'+l.text+"</a>"),a.push("</dt>"),l.popThreeCategory)for(var d=l.popThreeCategory.length,h=0;h<d;h++){var u=l.popThreeCategory[h];a.push('<dd class="liItem '+(h==d-1?"lastItem":"")+'">'),a.push('<a href="'+u.linkText+'" target="_blank" clstag="firsttype|keycount|jdworldwidev2|fl'+n+"-p"+i+"-"+h+'">'+u.text+"</a>"),a.push("</dd>")}a.push('<span class="clr"></span>'),a.push("</dl>"),i<o-1&&a.push('<div class="split"></div>')}a.push("</div>"),a.push('<div class="sub-right">'),a.push('<ul class="sub-brands clearfix">'),s.categoryRecommendBrand=s.categoryRecommendBrand||[];for(i=0;i<s.categoryRecommendBrand.length;i++){var c=s.categoryRecommendBrand[i];if(a.push("<li>"),a.push('<a href="'+c.linkText+'" target="_blank" clstag="firsttype|keycount|jdworldwidev2|fl'+n+"-b"+i+'">'),a.push('<img src="'+c.imgLogo+'" data-original="'+c.imgLogo+'" class="lazy hideImg">'),a.push("</a>"),a.push("</li>"),s.categoryChannelLink&&8<=i)break}a.push("</ul>"),s.categoryChannelLink=s.categoryChannelLink||[];for(i=0;i<s.categoryChannelLink.length;i++){var g=s.categoryChannelLink[i];a.push('<a target="_blank" href="'+g.linkText+'"><img src="'+g.actImg+'" data-original="'+g.actImg+'" class="sub-ad lazy hideImg" clstag="firsttype|keycount|jdworldwidev2|fl'+g.actImg+'-ad"></a>')}a.push("</div>"),a.push("</div>"),a.push("</div>")}return a.push("</div>"),a.join("")}},t.worldwide=t.worldwide||{},t.worldwide.nav=nav}(window,jQuery);