(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"2WMd":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0,r("rE2o"),r("ioFf"),r("rGqo"),r("/SS/"),r("VRzm"),r("tUrg");var o=_interopRequireDefault(r("aP5i")),n=_interopRequireDefault(r("qF34")),a=_interopRequireDefault(r("7xuk")),i=_interopRequireDefault(r("S+ax")),u=_interopRequireDefault(r("oP/V")),l=_interopRequireDefault(r("FpJ4")),c=_interopRequireDefault(r("vZHt")),s=r("6OU5"),f=r("DJys"),p=_interopRequireDefault(r("t+or")),d=r("szSY"),m=r("8T6v"),y=function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t["default"]=e,t}(r("n5if"));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return function _arrayWithHoles(e){if(Array.isArray(e))return e}(e)||function _iterableToArrayLimit(e,t){var r=[],o=!0,n=!1,a=undefined;try{for(var i,u=e[Symbol.iterator]();!(o=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);o=!0);}catch(l){n=!0,a=l}finally{try{o||null==u["return"]||u["return"]()}finally{if(n)throw a}}return r}(e,t)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _=function(e){function PromotionalSimpleTop(){var e,t,r;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PromotionalSimpleTop);for(var o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return _possibleConstructorReturn(r,(t=r=_possibleConstructorReturn(this,(e=_getPrototypeOf(PromotionalSimpleTop)).call.apply(e,[this].concat(n))),function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(_assertThisInitialized(_assertThisInitialized(r)),"handleDomestictData",function(e){var t=e.link,o=e.pictureUrl,n=e.extension,a=990,u=80;return y.reportExpose({poi:"head|adtop|04",url:t}),r.setState({href:t,bgColor:n.remark,img:(0,i["default"])(o,{clip:"".concat(a,"x").concat(u)}),wideImg:(0,i["default"])(o)}),Promise.reject({isCustom:200,msg:"数据获取成功 不再获取国内数据"})}),t))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(PromotionalSimpleTop,o["default"].PureComponent),function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(PromotionalSimpleTop,[{key:"componentDidMount",value:function componentDidMount(){var e=this;(0,d.getCityIds)().then(function(t){var r,o=_slicedToArray(t,3),n=o[0],a=o[1];o[2];"CN"!==n&&(r=(f.REGION[n]||f.REGION.DEFAULT).code);return f.PROVINCE[a]&&(r=f.PROVINCE[a].code),r?e.getOverseasData(r).then(function(t){var r=t.data;return(0,s.isEmpty)(r)||e.syncState(r),Promise.reject({isCustom:200,msg:"国外数据获取失败 不再获取国内数据"})}):e.getDomestictData().then(e.handleDomestictData)})["catch"](function(e){e.isCustom?n["default"].info("%c ".concat(e.msg),"color:#6190E8"):n["default"].error(e)})}},{key:"dataCheck",value:function dataCheck(e){var t=e.code,r=e.data;return!(!Array.isArray(r)||(0,s.isEmpty)(r))&&(0===t&&r.some(function(e){return!!e.bigImageUrl}))}},{key:"syncState",value:function syncState(e){var t=(0,d.getRandomData)(e),r=t.href,o=t.ext1,n=t.bigImageUrl,a=t.imageUrl;y.reportExpose({poi:"head|adtop|04",url:r}),this.setState({href:r,bgColor:o,img:(0,i["default"])(a),wideImg:(0,i["default"])(n)})}},{key:"getOverseasData",value:function getOverseasData(e){var t=this;return new Promise(function(r){(0,a["default"])(m.PROMOTIONAL_TOP_OVERSEAS,{retryTimes:0,name:"jsonpOverseas",params:{locid:e},dataCheck:t.dataCheck}).then(function(e){(0,s.isEmpty)(e)||t.setState({isOverseas:!0}),r(e)})["catch"](function(e){r({code:0,msg:"ok",data:[]})})})}},{key:"getDomestictData",value:function getDomestictData(){return new Promise(function(e){(0,a["default"])(p["default"].TOP_URL,{name:"jsonpElevator",params:{uuid:c["default"].uuid,body:JSON.stringify({ids:p["default"].TOP_IDS,sourceCode:p["default"].TOP_SOURCECODE,pageId:p["default"].TOP_PAGEID}),functionId:p["default"].TOP_FUNCTIONID,appid:p["default"].TOP_APPID,client:"pc"}}).then(function(t){e(t.advertInfos[0].list[0])})})}},{key:"render",value:function render(){var e=this.state,t=e.img,r=e.wideImg,n=e.href,a=e.bgColor,i=e.isOverseas;return o["default"].createElement(l["default"],{img:t,href:n,wideImg:r,bgColor:a,label:"顶部推广",onClick:function onClick(){y.reportClick({poi:"head|adtop|04",url:n})},clstag:(0,d.generateClstag)("head|adtop_04"),className:(0,u["default"])({"promotional-top--overseas":i})})}}]),PromotionalSimpleTop}();t["default"]=_},DJys:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROVINCE=t.REGION=void 0;t.REGION={US:{value:"US",name:"美国",code:"840"},AU:{value:"AU",name:"澳大利亚",code:"36"},JP:{value:"JP",name:"日本",code:"392"},MY:{value:"MY",name:"马来西亚",code:"458"},SG:{value:"SG",name:"新加坡",code:"702"},CA:{value:"CA",name:"加拿大",code:"124"},GB:{value:"GB",name:"英国",code:"826"},ID:{value:"ID",name:"印度尼西亚",code:"360"},TH:{value:"TH",name:"泰国",code:"764"},RU:{value:"RU",name:"俄罗斯",code:"643"},DEFAULT:{value:"global",name:"全球通用",code:"784"}};t.PROVINCE={820000:{value:"820000",name:"中国澳门",code:"446"},810000:{value:"810000",name:"中国香港",code:"344"},710000:{value:"710000",name:"中国台湾",code:"158"}}},"t+or":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var o={TOP_URL:"//api.m.jd.com/api",TOP_IDS:"03704022",TOP_SOURCECODE:"pcDt",TOP_PAGEID:"pcDt",TOP_FUNCTIONID:"queryMaterialAdverts",TOP_APPID:"O2_channel"};t["default"]=o}}]);