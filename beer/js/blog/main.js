(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1714:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(4),a=n(5),o=n(8),i=n(6),s=n(7),c=n(1),l=n(0),u=n(1716),d=function(e){return function(t){var n,d;return d=n=function(n){function l(){return Object(r.a)(this,l),Object(o.a)(this,Object(i.a)(l).apply(this,arguments))}return Object(s.a)(l,n),Object(a.a)(l,[{key:"render",value:function(){var n="function"==typeof e?e(this.props):e;return Object(c.b)(u.a,n,Object(c.b)(t,this.props))}}]),l}(l.Component),n.displayName="ZaModule(".concat(t.displayName||t.name||"Component",")"),n.propTypes=t.propTypes,n.defaultProps=t.defaultProps,d}}},1715:function(e,t,n){var r=n(1797),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},1716:function(e,t,n){"use strict";var r=n(4),a=n(5),o=n(8),i=n(6),s=n(33),c=n(7),l=n(1),u=n(3),d=n.n(u),p=n(0),f=n(37),h=n(19),m=n(1749),b=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).handleViewed=function(){var e=n.props,t=e.extra,r=e.view;setTimeout(function(){h.default.trackCardShow(Object(s.default)(n),r||{},t)})},n.trackEvent=function(e,t,r){h.default.trackEvent(e,t,Object.assign({},n.props.extra,{},r))},n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.setModule()}},{key:"componentDidUpdate",value:function(){this.setModule()}},{key:"setModule",value:function(){var e=this.props,t=e.module,n=e.index,r=e.isAd,a=e.moduleName,o=e.content,i=e.list,s=e.card,c=e.attachedInfoBytes;if(t){var l=Object(f.findDOMNode)(this);l&&h.default.setModule(l,{module:t,index:n,is_ad:r,module_name:a},function(e,t,n,r){return t=t||{content:e},Object.assign({card:t},n&&{list:n},{},r&&{attached_info_bytes:r})}(o,s,i,c))}}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.trackCardShow,r=e.passTrackEvent,a=e.children,o=e.getContainer,i=e.onRef,s="string"==typeof a.type?a:Object(p.cloneElement)(a,r?{trackEvent:this.trackEvent}:null);return n?Object(l.b)(m.a,{id:t,onViewed:this.handleViewed,getTarget:o,ref:function(e){i&&i(e)}},s):s}}]),t}(p.Component);b.propTypes={id:d.a.string,module:d.a.string,moduleName:d.a.string,index:d.a.string,isAd:d.a.bool,content:d.a.object,extra:d.a.object,trackCardShow:d.a.bool,passTrackEvent:d.a.bool,attachedInfoBytes:d.a.string},b.defaultProps={id:null,module:null,moduleName:null,index:null,isAd:!1,content:null,extra:null,attachedInfoBytes:null,trackCardShow:!1,passTrackEvent:!0},t.a=b},1717:function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},1721:function(e,t,n){var r=n(1880),a=n(1885);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},1722:function(e,t,n){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var a=n(248),o=n(101);o.inherits=n(75);var i=n(1813),s=n(1768);o.inherits(d,i);for(var c=r(s.prototype),l=0;l<c.length;l++){var u=c[l];d.prototype[u]||(d.prototype[u]=s.prototype[u])}function d(e){if(!(this instanceof d))return new d(e);i.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",p)}function p(){this.allowHalfOpen||this._writableState.ended||a(f,this)}function f(e){e.end()}},1723:function(e,t,n){"use strict";var r=n(97);Object.defineProperty(t,"__esModule",{value:!0}),t.track=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).reduce(function(t,n){return t[(0,s.decamelize)(n)]=e[n],t},{});return c.default.stringify(t)}(t);n&&(e.indexOf("?")>-1?e+="&".concat(n):e+="?".concat(n));return Promise.race([g(e),new Promise(function(e){return setTimeout(e,1e3)})])},t.numberFormat=function(e){var t=e;e>999&&(t="".concat((e/1e3).toFixed(1),"K"));e>999999&&(t="".concat((e/1e6).toFixed(1),"M"));return t},t.numberFormatDot=function(e){return(e||0).toString().replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")},t.secondesFormat=function(e){if(Number.isNaN(parseInt(e,10)))return"00:00";return[parseInt(e/60,10),e%60].join(":").replace(/\b(\d)\b/g,"0$1")},t.get=y,t.isAdblockEnabled=function(){var e=document.createElement("div");e.className="adsbox",document.body.appendChild(e);var t="none"===getComputedStyle(e).display;return document.body.removeChild(e),t},t.deepClone=function e(t){if(!C(t))throw new Error("obj 不是一个对象！");var n=Array.isArray(t)?[]:{};Object.keys(t).forEach(function(r){"object"!==(0,o.default)(t[r])?n[r]=t[r]:n[r]=e(t[r])});return n},t.convertNullDeepClone=function e(t){if(!C(t))throw new Error("obj 不是一个对象！");var n=Array.isArray(t)?[]:{};Object.keys(t).forEach(function(r){"object"!==(0,o.default)(t[r])?n[r]=t[r]:null===t[r]?n[r]="":n[r]=e(t[r])});return n},t.imgInformationChange=w,t.AddWatermark=function(e){var t=w(e);if(t&&t.includes("adx4.")||!t)return t;return t.includes("600x250")?t.replace(/(.*)\./,"$1|adx4."):t.replace(/(.*)\./,"$1_adx4.")},t.imgUrlAddAdx4=function(e){if(e&&e.includes("adx4."))return e;return e&&e.match(/\d*\x\d*/)?e.replace(/(.*)\./,"$1|adx4."):e.replace(/(.*)\./,"$1_adx4.")},t.formatNumber=function(e){if("number"!=typeof e)return"";var t=String(e);return t.indexOf(".")>0?t.replace(/(\d)(?=(\d{3})+\.)/g,"$1,"):t.replace(/(\d)(?=(\d{3})+$)/g,"$1,")},t.numberToArr=function(e){for(var t="".concat(e).split("."),n=(0,a.default)(t,2),r=n[0],o=n[1],i=[],s=1;s<=r;s+=1)i.push(1);if(parseInt(o,10))return i.push(Number("0.".concat(o)).toFixed(1)),i;return i},t.isAdditionalCreative=function(e){return!!y(e,["canvas","creativeContent"])},t.getVersionAndOS=function(e){var t=e.iOS,n=e.Android,r=e.ZhihuIOSVersionName,a=e.ZhihuAndroidVersionName;if(t)return{OS:"IOS",version:r||""};if(n)return{OS:"ANDROID",version:a||""};return{OS:"",version:""}},t.compareVersion=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=O(e),r=O(t);if(Number(n.major)-Number(r.major)!=0)return Number(n.major)-Number(r.major)>0?1:-1;if(Number(n.minor)-Number(r.minor)!=0)return Number(n.minor)-Number(r.minor)>0?1:-1;if(Number(n.patch)-Number(r.patch)!=0)return Number(n.patch)-Number(r.patch)>0?1:-1;return 0},t.throttle=function(e,t,n){return function(){var r=Date.now(),a=parseInt(u.default.get(e))||0;r-a<t||(u.default.set(e,r),n())}},t.queryUrlString=t.patchURLTrackCI=t.replaceTrackConfig=t.getDownloadPluginTrackConfig=t.loadAnswerAdBanner=t.loadBanner=t.requestByFetch=t.request=t.str2Json=t.isThirdAd=t.onPartialShowedOnce=t.onCompletelyShowedOnce=t.onShowedOnce=t.isShowed=t.getEnv=void 0;var a=r(n(215)),o=r(n(785)),i=r(n(91)),s=n(12),c=r(n(34)),l=n(1871),u=r(n(30));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n(1857);t.requestByFetch=function(e){var t,n,r=e.url,a=e.params;return r?fetch(r,{method:"post",headers:{"X-Requested-With":"fetch"},body:(t=(0,s.decamelizeKeys)(a),Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&e.append(n,r),e},n||new FormData))}).catch(function(){}):Promise.reject(new Error("request but no url"))};t.loadBanner=function(e){var t=e.query,n=e.url;return fetch("".concat(n,"?").concat(c.default.stringify(t))).then(function(e){if(e.status>=400)throw new Error("Bad response from server");return e.json()}).then(function(e){return e.banner}).catch(function(e){console.error(e)})};t.loadAnswerAdBanner=function(e){var t=e.questionId,n=e.env,r=void 0===n?{}:n,a=r.xAppVersion,o=r.xAppZa,i=r.xNetworkType,s=r.xAppFlavor,c=r.appViewConfig,l=(c=void 0===c?{}:c)["X-SUGER"];return fetch("".concat("https://www.zhihu.com/commercial_api/banners_v3/app_answer_float","?question_token=").concat(t),{method:"GET",query:{question_token:t},headers:p({},a&&{"X-APP-VERSION":a},{},o&&{"X-APP-ZA":o},{},i&&{"X-NETWORK-TYPE":i},{},s&&{"x-app-flavor":s},{},l&&{"x-suger":l}),fetchOptions:{abParams:["ios_ad_cta","adr_cta","top_adpar","top_root_ac","top_slot_ad_pos","top_raf","top_ac_merge"]}}).then(function(e){if(e.status>=400)throw new Error("Bad response from server");return e.json()}).then(function(e){return e.banner}).catch(function(e){console.error(e)})};t.getDownloadPluginTrackConfig=function(e){var t=e.os,n=e.pageId,r=e.pageType;return fetch("https://www.zhihu.com/api/v4/brand/plugin/100/track?platform=".concat(t,"&content_type=").concat(r,"&url_token=").concat(n)).then(function(e){if(e.status>=400)throw new Error("Bad response from server");return e.json()}).catch(function(e){console.error(e)})};t.replaceTrackConfig=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e};return e?Object.keys(e).reduce(function(r,a){var o=e[a].map(function(e){return n(function(e,t){var n=t.sessionId,r=void 0===n?"":n,a=t.os,o=void 0===a?"":a,i=t.pageId,s=void 0===i?"":i,c=t.xSuger,l=void 0===c?"{}":c,u=t.callback,d=void 0===u?"":u,p=t.creativeId,f=void 0===p?"":p,h="string"==typeof l?JSON.parse(l):l,m=h.IDFA,b=void 0===m?"":m,v=h.IMEI,g=void 0===v?"":v,y=h.ANDROID_ID,C=void 0===y?"":y,w=h.OAID,O=void 0===w?"":w,k=d;return/[&\/?]/.test(d)&&(k=encodeURIComponent(k)),e.replace("__SESSIONID__",r).replace("__REQUESTID__",r).replace("__OS__",o).replace("__ATOKEN__",s).replace("__IDFA__",b).replace("__IMEI__",g).replace("__ANDROIDID__",C).replace("__OAID__",O).replace("__CREATIVEID__",f).replace("__CALLBACK__",k)}(e,t))});return p({},r,(0,i.default)({},a,o))},{}):{}};var f=function(e){if(!document.body.contains(e))return!1;var t=e.getBoundingClientRect(),n=document.documentElement;return t.top<(window.innerHeight||n.clientHeight)};t.isShowed=f;t.onShowedOnce=function(e,t,n){if(f(e))t.call(n);else var r=(0,l.subscribe)("scroll",function(){f(e)&&(t.call(n),r.unsubscribe())})};var h=function(e){if(!document.body.contains(e))return!1;var t=e.getBoundingClientRect(),n=document.documentElement;return t.bottom<(window.innerHeight||n.clientHeight)};t.onCompletelyShowedOnce=function(e,t,n){if(h(e))t.call(n);else var r=(0,l.subscribe)("scroll",function(){h(e)&&(t.call(n),r.unsubscribe())})};var m,b=function(e){return function(t){if(!document.body.contains(t))return!1;var n=t.getBoundingClientRect();return e(n)}},v=(m=function(e){var t=document.documentElement;return e.top+parseInt(.3*e.height)<(window.innerHeight||t.clientHeight)},function(e,t,n){if(b(m)(e))t.call(n);else var r=(0,l.subscribe)("scroll",function(){b(m)(e)&&(t.call(n),r.unsubscribe())})});t.onPartialShowedOnce=v;var g=function(e){return new Promise(function(t,n){var r=new Image;r.onload=t,r.addEventListener("error",n),r.src=e}).catch(function(e){console.log(e)})};function y(e,t,n){return(Array.isArray(t)?t:t.replace(/\[/g,".").replace(/\]/g,"").split(".")).reduce(function(e,t){return(e||{})[t]},e)||n}function C(e){return["[object Array]","[object Object]"].includes(Object.prototype.toString.call(e))}t.request=g;function w(e){return e&&e.includes("1200x500")?e.replace(/(.*)1200x500/,"$1600x250"):e}function O(e){var t=e.split("."),n={major:"0",minor:"0",patch:"0",tail:""};if(t[0]&&t[0].match(/\d+/)){var r=t[0].match(/\d+/);n.major=r[0]}if(t[1]&&t[1].match(/\d+/)){var a=t[1].match(/\d+/);n.minor=a[0]}if(t[2]&&t[2].match(/\d+/)){var o=t[2].match(/\d+/);n.patch=o[0]}var i=t[t.length-1];if(i&&i.match(/(\d+)(\D(.*))/)){var s=i.match(/(\d+)(\D(.*))/);n.tail=s[2]}return n}t.str2Json=function(e){try{return JSON.parse(e)}catch(e){return{}}};t.isThirdAd=function(e){return["google_pc_js","baidu_pc_js","qihoo_pc_js"].includes(e)};var k,j=(k={os:"",pc:""},function(){if(k.os)return k;var e=navigator.userAgent;return/iPhone|iPod|iPad/i.test(e)?k.os="ios":/android/i.test(e)?k.os="android":(k.os="pc",/Macintosh|OS X 10/i.test(e)?k.pc="mac":/Windows/i.test(e)&&(k.pc="windows")),k});t.getEnv=j;var _=function(e){if("string"!=typeof e||0===e.length)return{};var t=e.substr(e.indexOf("?")+1);return c.default.parse(t)};t.queryUrlString=_;t.patchURLTrackCI=function(e){var t=_(window.location.href).plugcb;if(!t)return e;var n=_(t).cid;return n?"".concat(e).concat(e.includes("?")?"&":"?","ci=").concat(n):e}},1727:function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},1730:function(e,t,n){var r=n(1756),a=n(1881),o=n(1882),i="[object Null]",s="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:i:c&&c in Object(e)?a(e):o(e)}},1731:function(e,t,n){var r=n(1755),a=n(1794);e.exports=function(e,t,n,o){var i=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=o?o(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),i?a(n,l,u):r(n,l,u)}return n}},1732:function(e,t,n){"use strict";var r=n(788),a=n(1903);e.exports={connections:{},EE:new r,enableResizeInfo:!1,enableScrollInfo:!1,listeners:{},removers:[],supportPassiveEvent:a}},1736:function(e,t,n){var r=n(1835),a=n(2064);function o(t,n){return delete e.exports[t],e.exports[t]=n,n}e.exports={Parser:r,Tokenizer:n(1836),ElementType:n(1737),DomHandler:a,get FeedHandler(){return o("FeedHandler",n(2066))},get Stream(){return o("Stream",n(2067))},get WritableStream(){return o("WritableStream",n(1840))},get ProxyHandler(){return o("ProxyHandler",n(2069))},get DomUtils(){return o("DomUtils",n(2070))},get CollectingHandler(){return o("CollectingHandler",n(2082))},DefaultHandler:a,get RssHandler(){return o("RssHandler",this.FeedHandler)},parseDOM:function(e,t){var n=new a(t);return new r(n,t).end(e),n.dom},parseFeed:function(t,n){var a=new e.exports.FeedHandler(n);return new r(a,n).end(t),a.dom},createDomStream:function(e,t,n){var o=new a(e,t,n);return new r(o,t)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},1737:function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},1738:function(e,t,n){var r=n(1796),a=n(1800);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},1739:function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},1740:function(e,t,n){var r=n(1802),a=n(1901),o=n(1738);e.exports=function(e){return o(e)?r(e):a(e)}},1741:function(e,t,n){var r=n(1909),a=n(1910),o=n(1911),i=n(1912),s=n(1913);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},1742:function(e,t,n){var r=n(1757);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1743:function(e,t,n){var r=n(1721)(Object,"create");e.exports=r},1744:function(e,t,n){var r=n(1928);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},1747:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",function(){return r})},1749:function(e,t,n){"use strict";var r=n(4),a=n(5),o=n(8),i=n(6),s=n(7),c=n(3),l=n.n(c),u=n(0),d=n(37),p=n(134),f=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(o.a)(this,Object(i.a)(t).call(this))).check=function(){var t=e.props.onViewed;!e.viewed&&e.isViewed()&&(e.unregisterEvent(),e.viewed=!0,t&&t())},e.subscriptions=[],e.viewed=!1,e}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.node=Object(d.findDOMNode)(this),this.registerEvent(),this.check()}},{key:"componentDidUpdate",value:function(e){this.props.id!==e.id&&(this.node=Object(d.findDOMNode)(this),this.viewed&&(this.viewed=!1,this.registerEvent()),this.check())}},{key:"componentWillUnmount",value:function(){this.unregisterEvent()}},{key:"isViewed",value:function(){if(!this.node)return!1;var e=this.node.getBoundingClientRect(),t=e.bottom,n=e.left;return t<=document.documentElement.clientHeight&&n>=0&&n<document.documentElement.clientWidth}},{key:"registerEvent",value:function(){var e=this,t=this.props.getTarget;"function"==typeof t?setTimeout(function(){e.subscriptions=[Object(p.subscribe)("scroll",e.check,{target:t()}),Object(p.subscribe)("resize",e.check)]}):this.subscriptions=[Object(p.subscribe)("scroll",this.check),Object(p.subscribe)("resize",this.check)]}},{key:"unregisterEvent",value:function(){this.subscriptions.forEach(function(e){e.unsubscribe()}),this.subscriptions=[]}},{key:"render",value:function(){return this.props.children}}]),t}(u.Component);f.propTypes={id:l.a.string,onViewed:l.a.func},f.defaultProps={id:null},t.a=f},1753:function(e,t,n){"use strict";e.exports=n(1989)},1755:function(e,t,n){var r=n(1794),a=n(1757),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var i=e[t];o.call(e,t)&&a(i,n)&&(void 0!==n||t in e)||r(e,t,n)}},1756:function(e,t,n){var r=n(1715).Symbol;e.exports=r},1757:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},1758:function(e,t){var n=Array.isArray;e.exports=n},1759:function(e,t){e.exports=function(e){return function(t){return e(t)}}},1760:function(e,t,n){(function(e){var r=n(1797),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=s}).call(this,n(71)(e))},1761:function(e,t,n){var r=n(1721)(n(1715),"Map");e.exports=r},1762:function(e,t,n){var r=n(1940),a=n(1807),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),r(i(e),function(t){return o.call(e,t)}))}:a;e.exports=s},1763:function(e,t,n){var r=n(1944),a=n(1761),o=n(1945),i=n(1946),s=n(1947),c=n(1730),l=n(1798),u=l(r),d=l(a),p=l(o),f=l(i),h=l(s),m=c;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||a&&"[object Map]"!=m(new a)||o&&"[object Promise]"!=m(o.resolve())||i&&"[object Set]"!=m(new i)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case u:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case f:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=m},1764:function(e,t,n){var r=n(1950);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},1765:function(e,t,n){"use strict";var r=n(97);Object.defineProperty(t,"__esModule",{value:!0}),t.isGdtAd=_,t.getGdtLandingUrl=S,t.zaTrack=v,t.zaSetModule=b,t.initCmTrack=j,t.initTrack=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,a=t.viewEntity,o=void 0===a?{}:a,i=t.modules,s=n||{},c=s.view,l=s.extra;b(e,o,i),setTimeout(function(){(0,f.onShowedOnce)(e,function(){v("cardShow",e,c,l)})},0),j(e,r)},t.openHybridAd=function(e,t,n){return N({data:e,node:t,clickPoint:n,type:"open"})},t.openHybrid=function(e,t){return new Promise(function(n){u.default.ready().then(function(){return u.default.supportsAction(e).then(function(r){r?u.default.dispatch(e,t).then(function(){return n(!0)},function(){return n(!1)}):n(!1)})},function(){return n(!1)})})},t.clickTrack=C,t.clickTrackExtra=function(e){var t=e.clickTracks;C(void 0===t?[]:t,null,"click_button")},t.viewTrack=O,t.closeTrack=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(Boolean).map(function(e){return y(e)}),t=Promise.all(e).catch(function(){return null});return Promise.race([t,new Promise(function(e){return setTimeout(e,500)})])},t.debugTrack=function(e,t){var n=e.debugTracks,r=void 0===n?[]:n,a=e.style;function o(e){var t=e.cl,n=e.ct,o=e.tw,i=e.th,s=e.bl,c=e.bt,l=e.bw,u=e.bh,d=e.bp;r.forEach(function(e){var r="et=ad_card_click&ev=".concat(t,"x").concat(n,"x").concat(o,"x").concat(i,"x").concat(d,"&etu=").concat(s,"x").concat(c,"x").concat(l,"x").concat(u,"&eru=").concat(a);(0,f.request)(e+(e.includes("?")?"&":"?")+r)})}try{var i=t.clientX,s=t.clientY,c=t.currentTarget,l=c.getBoundingClientRect(),d=l.top,p=l.left,h=l.width,m=l.height,b=(l.bottom,i-p),v=s-d,g=function(e){var t=(document.getElementsByClassName("AnswerToolbar-container")||[])[0];if(!t)return;return t.getBoundingClientRect().top-e}(d);u.default.supportsAction("answer/nextButtonInfo").then(function(e){e?u.default.dispatch("answer/nextButtonInfo").then(function(e){var t=e.x,n=e.y,r=e.h,a=e.w,i=t-p,s=n-d;o({cl:b,ct:v,tw:h,th:m,bl:i,bt:s,bw:a,bh:r,bp:g})}):o({cl:b,ct:v,tw:h,th:m,bp:g})})}catch(t){console.error(t)}},t.preloadHybridAd=function(e,t){return N({data:e,node:t,type:"preload"})},t.openFormAd=function(e){return N({data:e,type:"adOpenForm"})},t.dataOriginTrack=function(e,t){e&&e.length&&e.map(function(e){return(0,f.track)(e,{et:t?"page_adjson":"page_ads"})})},t.getHybridAd=x,t.viewExtraTrack=k,t.normalTracks=void 0;var a=r(n(215)),o=n(0),i=n(37),s=r(n(34)),c=r(n(1969)),l=r(n(19)),u=r(n(83)),d=n(12),p=r(n(1971)),f=n(1723),h={commonAd:"ad/open",preloadAd:"ad/preload",answerAd:"answer/openAd",adOpenForm:"ad/openForm"};function m(e){return e instanceof o.Component?(0,i.findDOMNode)(e):e}function b(e,t,n){var r=t.moduleName,a=void 0===r?"ExternalAdItem":r,o=t.index,i=n.card,s=i.zaAdInfoJson,c=i.type,u=void 0===c?"ExternalAd":c,d=i.id,p=i.token,f=n.otherModule,h=Object.assign({card:{content:{ad_info:s&&JSON.parse(s),type:u,id:d,token:p}}},f);l.default.setModule(m(e),{module:"ExternalAdItem",module_name:a,is_ad:!0,index:o},h)}function v(e,t,n,r){"cardShow"===e?l.default.trackCardShow(m(t),n,r):"trackEvent"===e&&l.default.trackEvent(m(t),n,r)}var g="sugar.zhihu.com";function y(e,t){var n=e,r=/^https?:\/\/[\w-.]+(:\d+)?/i.exec(e)[0];return r&&r.match("zhihu.com")&&(n="".concat(n,"&ets=").concat((new Date).getTime())),n=function(e){return"string"!=typeof e?e:e.replace(/__TS__/g,function(){return parseInt(Date.now()/1e3)})}(n),(0,f.track)(n,n.indexOf(g)>-1&&t?{fl:t}:void 0)}function C(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.filter(Boolean).map(function(e){var a="".concat(e).concat(n?"&et=".concat(n):"");return y(a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isExtendClick,r=t.clickEvent;if(0===e.indexOf("https://sugar.zhihu.com")&&n)try{var a=e.slice(),o=parseInt(Date.now()/1e3),i="".concat((0,c.default)(a).pathname,"+").concat(o),s=(new p.default).update(i).digest("hex"),l=r.clientX,u=r.clientY,d=r.currentTarget.getBoundingClientRect(),f=d.width,h=d.height,m=d.left,b=u-d.top,v="".concat(parseInt(l-m),"x").concat(parseInt(b),"x").concat(parseInt(f),"x").concat(parseInt(h));return"".concat(a,"&ev=").concat(v,"&emfen=").concat(s,"&emfts=").concat(o)}catch(t){return e}return e}(a,r),t)}),o=Promise.all(a).catch(function(){return null});return Promise.race([o,new Promise(function(e){return setTimeout(e,500)})])}function w(e,t){e&&e.length&&e.map(function(e){return y(e,t)})}function O(e,t,n,r){t&&t.length&&(0,f.onShowedOnce)(e,function(){t.map(function(e){return Promise.race([y(e,n),new Promise(function(e,t){return setTimeout(t,5e3)})]).then(function(){return{status:200}}).catch(function(){return{status:600}}).then(function(t){return{et:"third_imp",ev:t.status||601,etu:btoa(unescape(encodeURIComponent(e))),plugin:(0,f.isAdblockEnabled)()}}).then(function(e){if(e){var t=s.default.stringify(e);(r||[]).map(function(e){return e?(0,f.request)(t?"".concat(e).concat(e.includes("?")?"&":"?").concat(t):e):null})}})})})}function k(e,t){t&&t.length&&(0,f.onPartialShowedOnce)(e,function(){t.map(function(e){return y("".concat(e))})})}function j(e,t){var n=t.impressionTracks,r=t.debugTracks,a=t.viewTracks,o=t.viewXTracks,i=t.xAppFlavor;w(n,i),O(e,a,i,r),k(e,o)}function _(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").indexOf("c.gdt.qq.com")>-1}function S(e,t,n){if(!_(e)||!t||!n)return e;var r=t.getBoundingClientRect(),a=r.left,o=r.top,i=n.clientX-a,s=n.clientY-o,c={__DOWN_X__:Math.abs(i),__DOWN_Y__:Math.abs(s),__UP_X__:Math.abs(i),__UP_Y__:Math.abs(s)};return Object.keys(c).reduce(function(e,t){return e.replace(t,c[t])},e)}function x(e,t,n,r){console.log("We are sending a ".concat(t," request to Hybrid ").concat(e));var o=e.conversionTracks,i=(0,a.default)(e.creatives,1)[0],s=e.videoProgress,c=e.sdk,l=e.downloadSilent,u=void 0!==l&&l,p=e.isNewWebview,f=void 0!==p&&p,m=e.conversionTrackJs,b=e.isSpeeding,v=e.cdnMap,g=e.experimentInfo,y=e.extraConversionTracks,C=i.landingUrl,w=i.appPromotionUrl,O=i.deepUrl,k=i.packageName,j=i.brand,_=i.thumbnailExtraInfo,x=i.nativeUrl,E=void 0===x?"":x,N=i.canvas;return[h.commonAd,h.preloadAd,h.adOpenForm].includes(t)?{is_speeding:b,cdn_map:v,download_silent:u,conversion_tracks:o,sdk:(0,d.decamelizeKeys)(c),conversion_track_js:m,extra_conversion_tracks:(0,d.decamelizeKeys)(y),experiment_info:g,creative:{package_name:k,shouldUseNewWebView:f,landing_url:S(C,n,r),app_promotion_url:w,deep_url:O,thumbnail_extra_info:(0,d.decamelizeKeys)(_),video_progress:s,brand:j,native_url:E,canvas:(0,d.decamelizeKeys)(N)}}:{ad:{downloadSilent:u,conversionTracks:o,sdk:c,creatives:[{shouldUseNewWebView:f,landingUrl:S(C,n,r),conversionTracks:o,appPromotionUrl:w,deepUrl:O,brand:j,nativeUrl:E}]}}}var E=function(e){return"preload"===e?h.preloadAd:"adOpenForm"===e?h.adOpenForm:h.commonAd};function N(e){var t=e.data,n=e.node,r=e.clickPoint,a=e.type,o=E(a);return new Promise(function(e){u.default.ready().then(function(){return u.default.supportsAction(o).then(function(a){a?u.default.dispatch(o,{ad:x(t,o,n,r)}).then(function(){return e(!0)},function(){return e(!1)}):o===h.commonAd&&u.default.dispatch(h.answerAd,{ad:x(t,h.answerAd,n,r)}).then(function(){return e(!0)},function(){return e(!1)})})}).catch(function(){var e=t.landingUrl;if(e){var n=document.createElement("a");n.href=e,n.click()}})})}var A={videoTrack:function(e,t,n){t&&t.length&&(0,f.onShowedOnce)(e,function(){t.map(function(e){return y("".concat(e,"&et=auto_play"),n)})})},impressionTrack:w,viewTrack:O,extraConversionTrack:function(e,t){t&&t.length&&(0,f.onShowedOnce)(e,function(){t.map(function(e){return y("".concat(e))})})}};t.normalTracks=A},1766:function(e,t,n){(t=e.exports=n(1813)).Stream=t,t.Readable=t,t.Writable=n(1768),t.Duplex=n(1722),t.Transform=n(1815),t.PassThrough=n(1975)},1767:function(e,t,n){"use strict";(function(e){var r=n(214),a=r.Buffer,o=r.SlowBuffer,i=r.kMaxLength||2147483647;t.alloc=function(e,t,n){if("function"==typeof a.alloc)return a.alloc(e,t,n);if("number"==typeof n)throw new TypeError("encoding must not be number");if("number"!=typeof e)throw new TypeError("size must be a number");if(e>i)throw new RangeError("size is too large");var r=n,o=t;void 0===o&&(r=void 0,o=0);var s=new a(e);if("string"==typeof o)for(var c=new a(o,r),l=c.length,u=-1;++u<e;)s[u]=c[u%l];else s.fill(o);return s},t.allocUnsafe=function(e){if("function"==typeof a.allocUnsafe)return a.allocUnsafe(e);if("number"!=typeof e)throw new TypeError("size must be a number");if(e>i)throw new RangeError("size is too large");return new a(e)},t.from=function(t,n,r){if("function"==typeof a.from&&(!e.Uint8Array||Uint8Array.from!==a.from))return a.from(t,n,r);if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("string"==typeof t)return new a(t,n);if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer){var o=n;if(1===arguments.length)return new a(t);void 0===o&&(o=0);var i=r;if(void 0===i&&(i=t.byteLength-o),o>=t.byteLength)throw new RangeError("'offset' is out of bounds");if(i>t.byteLength-o)throw new RangeError("'length' is out of bounds");return new a(t.slice(o,o+i))}if(a.isBuffer(t)){var s=new a(t.length);return t.copy(s,0,0,t.length),s}if(t){if(Array.isArray(t)||"undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return new a(t);if("Buffer"===t.type&&Array.isArray(t.data))return new a(t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},t.allocUnsafeSlow=function(e){if("function"==typeof a.allocUnsafeSlow)return a.allocUnsafeSlow(e);if("number"!=typeof e)throw new TypeError("size must be a number");if(e>=i)throw new RangeError("size is too large");return new o(e)}}).call(this,n(45))},1768:function(e,t,n){"use strict";(function(t,r){e.exports=b;var a,o=n(248),i=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:o;b.WritableState=m;var s=n(101);s.inherits=n(75);var c,l={deprecate:n(477)},u=n(1814),d=n(214).Buffer,p=n(1767);function f(){}function h(e,t,n){this.chunk=e,this.encoding=t,this.callback=n,this.next=null}function m(e,t){a=a||n(1722),e=e||{},this.objectMode=!!e.objectMode,t instanceof a&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var r=e.highWaterMark,s=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:s,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var c=!1===e.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,a=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,a){--t.pendingcb,n?o(a,r):a(r);e._writableState.errorEmitted=!0,e.emit("error",r)}(e,n,r,t,a);else{var s=C(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||y(e,n),r?i(g,e,n,s,a):g(e,n,s,a)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new k(this)}function b(e){if(a=a||n(1722),!(c.call(b,this)||this instanceof a))return new b(e);this._writableState=new m(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev)),u.call(this)}function v(e,t,n,r,a,o,i){t.writelen=r,t.writecb=i,t.writing=!0,t.sync=!0,n?e._writev(a,t.onwrite):e._write(a,o,t.onwrite),t.sync=!1}function g(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),O(e,t)}function y(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,a=new Array(r),o=t.corkedRequestsFree;o.entry=n;for(var i=0;n;)a[i]=n,n=n.next,i+=1;v(e,t,!0,t.length,a,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new k(t)}else{for(;n;){var s=n.chunk,c=n.encoding,l=n.callback;if(v(e,t,!1,t.objectMode?1:s.length,s,c,l),n=n.next,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=n,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function O(e,t){var n=C(t);return n&&(0===t.pendingcb?(w(e,t),t.finished=!0,e.emit("finish")):w(e,t)),n}function k(e){var t=this;this.next=null,this.entry=null,this.finish=function(n){var r=t.entry;for(t.entry=null;r;){var a=r.callback;e.pendingcb--,a(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}s.inherits(b,u),m.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(m.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(b,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||e&&e._writableState instanceof m}})):c=function(e){return e instanceof this},b.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},b.prototype.write=function(e,t,n){var r=this._writableState,a=!1,i=d.isBuffer(e);return"function"==typeof t&&(n=t,t=null),i?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof n&&(n=f),r.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),o(t,n)}(this,n):(i||function(e,t,n,r){var a=!0,i=!1;return null===n?i=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i&&(e.emit("error",i),o(r,i),a=!1),a}(this,r,e,n))&&(r.pendingcb++,a=function(e,t,n,r,a,o){n||(r=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=p.from(t,n));return t}(t,r,a),d.isBuffer(r)&&(a="buffer"));var i=t.objectMode?1:r.length;t.length+=i;var s=t.length<t.highWaterMark;s||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest=new h(r,a,o),c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else v(e,t,!1,i,r,a,o);return s}(this,r,i,e,t,n)),a},b.prototype.cork=function(){this._writableState.corked++},b.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||y(this,e))},b.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},b.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},b.prototype._writev=null,b.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,O(e,t),n&&(t.finished?o(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)}}).call(this,n(53),n(358).setImmediate)},1769:function(e,t,n){var r=n(783),a=n(1770);function o(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}o.prototype=r(a.prototype),o.prototype.constructor=o,e.exports=o},1770:function(e,t){e.exports=function(){}},1771:function(e,t,n){var r=n(783),a=n(1770),o=4294967295;function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=o,this.__views__=[]}i.prototype=r(a.prototype),i.prototype.constructor=i,e.exports=i},1772:function(e,t,n){"use strict";var r=n(4),a=n(5),o=n(8),i=n(6),s=n(7),c=n(3),l=n.n(c),u=n(0),d=n.n(u),p=n(16),f=n.n(p),h=n(34),m=n.n(h),b=n(50),v=n.n(b),g=n(353),y=n(2324),C=n(1842),w=(n(2e3),function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={isInputing:!1,value:n.props.value||""},n.handleChange=function(e){n.setState({value:Object(g.cutStringWidth)(e.target.value,30)})},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.value&&e.value!==this.state.value&&this.setState({value:e.value})}},{key:"render",value:function(){var e=this,t=this.state,n=t.isInputing,r=t.value,a=this.props.onChange,o=!n&&!r,i=!n&&r;return d.a.createElement("div",{className:"Editable-VideoTitleInput-container"},d.a.createElement(C.a,null,d.a.createElement("div",{className:f()("Editable-VideoTitleInput-innerContainer",{"Editable-VideoTitleInput-innerContainer--isBeforeIconShown":o}),onClick:function(){return e.setState({isInputing:!0})}},o&&d.a.createElement(y.a,{className:"Editable-VideoTitleInput-beforeIcon",center:!0}),!n&&d.a.createElement("div",{className:f()("Editable-VideoTitleInput-value",{"Editable-VideoTitleInput-value--noContent":!r})},r||"好的标题可以获得更多的推荐及关注者"),n&&d.a.createElement("input",{className:"Editable-VideoTitleInput",value:r,ref:function(e){e&&e.focus()},placeholder:"标题长度不超过 15 个字",onChange:this.handleChange,onBlur:function(t){e.setState({isInputing:!1}),a(t.target.value)}}),i&&d.a.createElement(y.a,{className:"Editable-VideoTitleInput-afterIcon",center:!0}))))}}]),t}(u.Component)),O=n(1780),k=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={shown:!1},n.handleObserve=function(e){(e[0].isIntersecting||e[0].intersectionRatio>0)&&n.setState({shown:!0})},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.rootMargin,r=e.children;return this.state.shown?r:d.a.createElement(O.a,{rootMargin:n,onObserve:this.handleObserve,threshold:[0,.1]},t||d.a.createElement("div",{style:{height:"1px"}}))}}]),t}(u.Component);k.propTypes={placeholder:l.a.element,rootMargin:l.a.string},k.defaultProps={rootMargin:"200px"};var j=k,_=n(2325),S=n(2001),x=n.n(S),E=function(e){var t=e.className;return d.a.createElement("svg",{viewBox:"0 0 72 72",className:t},d.a.createElement("circle",{cx:"36",cy:"36",fill:"#fff",fillOpacity:".95",r:"36"}),d.a.createElement("path",{d:"M50.835 37.06L29.477 49.97a1.203 1.203 0 0 1-1.664-.43 1.25 1.25 0 0 1-.17-.631V23.091c0-.682.543-1.234 1.213-1.234.219 0 .433.06.62.173l21.359 12.91a1.245 1.245 0 0 1 0 2.12z",fill:"#444",fillRule:"nonzero"}))},N=(n(2002),function(){return d.a.createElement("div",{className:"VideoCardPlayButton"},d.a.createElement(E,{className:"VideoCardPlayButton-icon"}))}),A=function(e){var t=e.fileSize;return d.a.createElement("div",{className:"VideoCardPlayButton-withFileSize--outer"},d.a.createElement("span",{className:"VideoCardPlayButton-withFileSize"},d.a.createElement(_.a,{center:!0,size:14}),t?x()(t,{decimalPlaces:1,unit:"MB"}):"流量播放"))};function I(e){var t=e.thumbnail,n=e.isLens,r=e.canPlay;return n||r?t&&"string"==typeof t?d.a.createElement("img",{src:t,alt:"视频封面"}):t||null:d.a.createElement(E,{className:"VideoCard-playIcon VideoCard-playIcon--nonLens"})}n(2003);var T=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={isMobile:!1,playerShown:!1,playerLoading:!1},n.handlePlay=function(e){e.preventDefault();var t=n.props,r=t.interactive,a=t.isConverting,o=t.isLens,i=t.playerUrl,s=t.onPlayFailed,c=t.onLensPlay,l=t.onBeforePlay;r&&!a&&(i||!s?l?Promise.resolve(l()).then(function(e){!1!==e&&n.play()}):o&&c&&c()||n.play():s())},n.handlePlayerLoad=function(){n.loadingCount--,0===n.loadingCount&&n.setState({playerLoading:!1})},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.setState({isMobile:v()(navigator.userAgent).Mobile})}},{key:"canPlay",value:function(){return this.props.isLens}},{key:"inlinePlayer",value:function(){var e=this.props,t=e.interactive,n=e.isLens,r=e.onLensPlay,a=e.onBeforePlay;return t&&n&&!(r||a)}},{key:"showContent",value:function(){var e=this.props,t=e.content,n=e.isLens,r=e.title;return!e.isVideoTitleEditable&&(!n||Boolean(t||r))}},{key:"showDescription",value:function(){var e=this.props.isLens;return this.showContent()&&!e}},{key:"play",value:function(){var e=this.props.onPlay;this.loadingCount=2,this.setState({playerShown:!0,playerLoading:!0}),setTimeout(this.handlePlayerLoad,1e3),e&&e()}},{key:"renderContent",value:function(){var e=this.props,t=e.interactive,n=e.isLens,r=e.title,a=e.thumbnail,o=e.source,i=e.url,s=e.showPlayButton,c=e.usePlayButtonWithFileSize,l=e.fileSize,u=e.rightBottomButton,p=e.isVideoTitleEditable,h=e.onVideoTitleChange,m=e.isConverting,b=e.content,v=this.canPlay(),g=this.inlinePlayer(),y=d.a.createElement(I,{thumbnail:a,isLens:n,canPlay:v}),C=s&&!m&&(c?d.a.createElement(A,{fileSize:l}):d.a.createElement(N,null)),O=d.a.createElement("div",{className:"VideoCard-layout"},v?d.a.createElement("div",{className:"VideoCard-video"},d.a.createElement("div",{className:"VideoCard-video-content"},g?this.renderPlayer():d.a.createElement("div",{className:f()("VideoCard-thumbnail",{"VideoCard-thumbnail--placeholder":!a}),onClick:this.handlePlay},y,C,u))):d.a.createElement("div",{className:"VideoCard-poster"},y),this.showContent()&&(b||d.a.createElement("div",{className:"VideoCard-content"},d.a.createElement("div",{className:"VideoCard-title"},r),this.showDescription()&&d.a.createElement("div",{className:"VideoCard-description"},o&&d.a.createElement("span",{className:"VideoCard-source"},o),d.a.createElement("span",{className:"VideoCard-badge"},"视频")))),p&&d.a.createElement(w,{value:r,onChange:h}));return n?O:t?d.a.createElement("a",{className:"VideoCard-link",href:i,target:"_blank",rel:"noopener noreferrer"},O):d.a.createElement("div",{className:"VideoCard-link"},O)}},{key:"renderPlayer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.props,n=t.source,r=t.playerUrl,a=t.onIframeRef,o=t.useMSE,i=m.a.stringify({autoplay:e&&"lens"===n,useMSE:o});return d.a.createElement(j,{placeholder:d.a.createElement("div",{className:"VideoCard-player"})},d.a.createElement("div",{className:"VideoCard-player"},d.a.createElement("iframe",{ref:a,frameBorder:0,allowFullScreen:!0,src:"".concat(r,"?").concat(i),onLoad:this.handlePlayerLoad})))}},{key:"render",value:function(){var e=this.props,t=e.interactive,n=e.isConverting,r=this.state,a=r.isMobile,o=r.playerShown,i=r.playerLoading;return d.a.createElement("div",{className:f()("VideoCard",{"VideoCard--converting":n,"VideoCard--interactive":t,"VideoCard--mobile":a})},this.renderContent(),o&&d.a.createElement("div",{className:f()("VideoCard-overlay",{"is-loading":i})},this.renderPlayer(!0)),d.a.createElement("div",{className:f()("VideoCard-mask",{"is-shown":i})}))}}]),t}(u.Component);T.propTypes={interactive:l.a.bool,showPlayButton:l.a.bool,usePlayButtonWithFileSize:l.a.bool,fileSize:l.a.number,onPlay:l.a.func,onPlayFailed:l.a.func,onLensPlay:l.a.func,onBeforePlay:l.a.func,rightBottomButton:l.a.oneOfType([l.a.element,l.a.string]),thumbnail:l.a.oneOfType([l.a.element,l.a.string]),content:l.a.object},T.defaultProps={interactive:!0,showPlayButton:!0};var L=T;n.d(t,"b",function(){return L}),n.d(t,"a",function(){return E})},1777:function(e,t,n){"use strict";var r=n(9),a=n(28),o=n(27),i=n(23),s=n(1),c=n(0),l=n.n(c),u=n(24),d=n(21),p=n(1861),f=n(31),h=n.n(f),m=n(37),b=n(74),v=n(19),g=n(1831),y=n(1786),C=n(103);var w,O="function"==typeof Image,k={},j=O?C(function(e){return new Promise(function(t){return n=e,r=function(e,n){k[e]=n,t(n)},(a=new Image).onload=function(){var e=a.width>0&&a.height>0;r(n,e)},a.onerror=function(){r(n,!1)},void(a.src="data:image/webp;base64,"+{lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[n]);var n,r,a})}):function(){return Promise.resolve(!1)},_=function(e){var t=k[e],n=Object(c.useState)(t||!1),r=Object(a.a)(n,2),o=r[0],i=r[1];return O&&void 0===t&&j(e).then(i),o},S=n(4),x=n(5),E=n(8),N=n(6),A=n(7),I=n(16),T=n.n(I),L=n(2),P=n(1832),R=n.n(P),M=n(54),D=n.n(M),B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D.a;return function(n){return R()(function(r){function a(){var e,n;Object(S.a)(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(N.a)(a)).call.apply(e,[this].concat(o)))).key=t(),n}return Object(A.a)(a,r),Object(x.a)(a,[{key:"render",value:function(){return l.a.createElement(n,Object.assign({},this.props,Object(L.a)({},e,this.key)))}}]),a}(l.a.Component),n)}},q=n(2004),F=n(466),z=n.n(F),V=function(e,t){return function(n){var r,a=(r=[],{value:{},listen:function(e){r.push(e)},unlisten:function(e){r=r.filter(function(t){return t!==e})},emit:function(e){this.value=e,r.forEach(function(t){return t(e)})}}),o=Object(q.createSubscription)({getCurrentValue:function(e){return e.value},subscribe:function(e,t){return e.listen(t),function(){return e.unlisten(t)}}}),i=function(e,t){return e?z()(e,function(e){return function(){return t(e.apply(void 0,arguments))}}):{dispatch:t}}(t,function(e){return a.emit(e(a.value))}),s=Object.assign(function(t){return l.a.createElement(o,{source:a},function(r){return l.a.createElement(n,Object.assign({},t,e({value:r,source:a},t),i))})},{source:a});return R()(s,n)}};!function(e){e[e.Initial=0]="Initial",e[e.Loading=1]="Loading",e[e.Ok=2]="Ok",e[e.Failed=3]="Failed"}(w||(w={}));var U=function(e){return l.a.createElement("svg",Object.assign({width:60,height:60,viewBox:"0 0 60 60"},e),l.a.createElement("g",{fill:"none",fillRule:"evenodd"},l.a.createElement("ellipse",{fill:"#000",opacity:.45,cx:30,cy:30,rx:30,ry:30}),l.a.createElement("ellipse",{stroke:"#FFF",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"4,1,4",cx:30,cy:30,rx:26,ry:26}),l.a.createElement("svg",Object.assign({x:16,y:18.5},e),l.a.createElement("path",{d:"M12.842 12.981V11.4H7.64v1.653h3.27v.272c-.018 1.881-1.442 3.147-3.516 3.147-2.382 0-3.876-1.846-3.876-4.834 0-2.936 1.485-4.79 3.832-4.79 1.732 0 2.936.835 3.428 2.364h1.977c-.43-2.566-2.522-4.201-5.405-4.201-3.55 0-5.845 2.601-5.845 6.644 0 4.096 2.268 6.654 5.863 6.654 3.322 0 5.475-2.083 5.475-5.327zM17.518 18V5.317H15.55V18h1.97zm5.142 0v-5.256h5.449v-1.74h-5.45V7.11h5.95V5.317h-7.918V18h1.969z",fill:"#fff"}))))},H=function(e){return l.a.createElement("svg",Object.assign({width:"60px",height:"60px",viewBox:"0 0 60 60",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},e),l.a.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},l.a.createElement("ellipse",{fill:"#000000",opacity:"0.45",cx:"30",cy:"30",rx:"30",ry:"30"}),l.a.createElement("ellipse",{stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.5",cx:"30",cy:"30",rx:"26",ry:"26"}),l.a.createElement("ellipse",{stroke:"#ffffff",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"4,1,4",cx:"30",cy:"30",rx:"26",ry:"26"},l.a.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 30 30",to:"90 30 30",dur:"0.3s"}),l.a.createElement("animate",{attributeName:"opacity",from:"1",to:"0",dur:"0.3",fill:"freeze"}))),l.a.createElement("svg",{x:"16",y:"18.5"},l.a.createElement("g",{fill:"#ffffff"},l.a.createElement("path",{x:"100",y:"100",d:"M12.8422852,12.9814453 L12.8422852,11.3994141 L7.63916016,11.3994141 L7.63916016,13.0517578 L10.9086914,13.0517578 L10.9086914,13.3242188 C10.8911133,15.2050781 9.46728516,16.4707031 7.39306641,16.4707031 C5.01123047,16.4707031 3.51708984,14.625 3.51708984,11.6367188 C3.51708984,8.70117188 5.00244141,6.84667969 7.34912109,6.84667969 C9.08056641,6.84667969 10.284668,7.68164062 10.7768555,9.2109375 L12.7543945,9.2109375 C12.3237305,6.64453125 10.2319336,5.00976562 7.34912109,5.00976562 C3.79833984,5.00976562 1.50439453,7.61132812 1.50439453,11.6542969 C1.50439453,15.75 3.77197266,18.3076172 7.36669922,18.3076172 C10.6889648,18.3076172 12.8422852,16.2246094 12.8422852,12.9814453 Z M17.5180664,18 L17.5180664,5.31738281 L15.5493164,5.31738281 L15.5493164,18 L17.5180664,18 Z M22.659668,18 L22.659668,12.7441406 L28.1088867,12.7441406 L28.1088867,11.0039062 L22.659668,11.0039062 L22.659668,7.11035156 L28.6098633,7.11035156 L28.6098633,5.31738281 L20.690918,5.31738281 L20.690918,18 L22.659668,18 Z"}))),l.a.createElement("path",{d:"M56,30 C56,15.6405965 44.3594035,4 30,4",stroke:"#FFFFFF",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0",fill:"none"},l.a.createElement("animate",{attributeName:"opacity",from:"0",to:"1",dur:".6",fill:"freeze"}),l.a.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 30 30",to:"360 30 30",dur:"1.625s",repeatCount:"indefinite"})))},W=function(e){return l.a.createElement("svg",Object.assign({width:60,height:60,viewBox:"0 0 60 60"},e),l.a.createElement("g",{fill:"none",fillRule:"evenodd"},l.a.createElement("ellipse",{fill:"#282828",opacity:.45,cx:30,cy:30,rx:30,ry:30}),l.a.createElement("path",{d:"M41.552 18.93A15.954 15.954 0 0 0 30 14c-8.837 0-16 7.163-16 16s7.163 16 16 16c7.811 0 14.315-5.597 15.72-13",stroke:"#FFF",strokeWidth:2,strokeLinecap:"round"}),l.a.createElement("path",{d:"M45.108 16.236c.44-.33.797-.151.797.4v7.005c0 .55-.358.73-.797.4L40.7 20.736c-.44-.33-.439-.866 0-1.195l4.407-3.305z",fill:"#FFF"})))},G=(n(2058),function(){return new Promise(requestAnimationFrame)}),K=function(e){function t(){var e,n;Object(S.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(E.a)(this,(e=Object(N.a)(t)).call.apply(e,[this].concat(a)))).handleClick=function(e){var t=n.props,r=t.gifKey,a=t.src,o=t.onLoadStart,i=t.onSuccess,s=t.onFailed,c=t.onClick,l=t.onPlayChange,u=t.loadState,d=t.isPlaying;c&&c(e),l&&l(d),n.canPlay?n.props.updateGif({gifKey:r,isPlaying:!d}):u!==w.Loading&&(n.props.updateGif({gifKey:r,loadState:w.Loading}),o&&o(),Promise.all([Object(b.loadImage)(a),G().then(G)]).then(function(){i&&i(),n.props.updateGif({gifKey:r,isPlaying:!0,loadState:w.Ok})}).catch(function(e){s&&s(e),n.props.updateGif({gifKey:r,loadState:w.Failed})}))},n}return Object(A.a)(t,e),Object(x.a)(t,[{key:"componentWillUnmount",value:function(){this.props.removeGif({gifKey:this.props.gifKey})}},{key:"render",value:function(){var e,t=this.props,n=t.poster,r=t.src,a=t.size,o=t.loadState,i=t.isPlaying,s=t.onRef,c=this.canPlay&&i,u=o===w.Loading,d=o===w.Failed;return u?e=l.a.createElement(H,{className:"GifPlayer-icon"}):d?e=l.a.createElement(W,{className:"GifPlayer-icon"}):i||(e=l.a.createElement(U,{className:"GifPlayer-icon"})),e&&(this.lastIcon=e),l.a.createElement("div",{className:T()("GifPlayer",{isPlaying:i}),"data-size":a,onClick:this.handleClick,ref:s},l.a.createElement("img",{className:"ztext-gif",role:"presentation",src:c?r:n,"data-thumbnail":n,"data-size":a}),e||this.lastIcon)}},{key:"canPlay",get:function(){return this.props.loadState===w.Ok}}]),t}(l.a.Component);K.defaultProps={isPlaying:!1,loadState:w.Initial};var X=B("gifKey")(V(function(e,t){return e.value[t.gifKey]},{updateGif:function(e){return function(t){var n=e.gifKey,r=e.isPlaying,a=h()(e,["gifKey","isPlaying"]),o=Object.assign({},t);if(r)for(var i=0,s=Object.keys(o);i<s.length;i++){var c=s[i],l=o[c];c!==n&&l.isPlaying&&(o[c]=Object.assign({},l,{isPlaying:!1}))}return Object.assign({},o,Object(L.a)({},n,Object.assign({},t[n],{isPlaying:r},a)))}},removeGif:function(e){return function(t){var n=Object.assign({},t);return delete n[e.gifKey],n}}})(K)),Y=function(e,t){v.default.trackEvent(e,{action:"StatusReport",element:"Card"},{status:{result:t}})},Z=function(e){var t=e.src,n=e.useWebP,r=void 0===n?"auto":n,o=e.onRef,i=e.onLoadStateChange,s=h()(e,["src","useWebP","onRef","onLoadStateChange"]),u=Object(c.useState)(null),d=Object(a.a)(u,2),p=d[0],f=d[1],m=_("animation");Object(c.useEffect)(function(){p&&v.default.setModule(p,{module:"GifItem"})},[p]),Object(y.a)(p,function(){v.default.trackCardShow(p,{element:"Card"})});var C=Object(b.imgUrl)(t,{extension:("auto"===r?m:r)?"webp":"gif"});return l.a.createElement(X,Object.assign({src:C,onRef:Object(c.useCallback)(Object(g.a)(o,f),[]),onPlayChange:function(e){e||v.default.trackEvent(p,{action:"Click",element:"Image"})},onLoadStart:function(){i&&i("loadstart",C)},onSuccess:function(){Y(p,"Success"),i&&i("load",C)},onFailed:function(){Y(p,"Fail"),i&&i("error",C)}},s))},Q=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).Component,n=void 0===t?Z:t,r=Object(c.useState)(null),o=Object(a.a)(r,2),i=o[0],s=o[1];return Object(c.useEffect)(function(){if(e){var t=Array.from(e.querySelectorAll("img.origin_image[data-thumbnail],img.content_image[data-thumbnail]"));if(t.length){var r=t.map(function(e){return function(e){var t=e.dataset,n=t.thumbnail,r={src:n,poster:n,size:t.size},a=document.createElement("div");return a.className="RichText-gifPlaceholder",e.parentNode.replaceChild(a,e),{data:r,target:a}}(e)}).map(function(e,t){var r=e.data,a=e.target;return Object(m.createPortal)(l.a.createElement(n,Object.assign({key:t},r)),a)});s(r)}}},[e]),i},$=n(463),J=n(2059),ee=n.n(J),te=n(66),ne=n.n(te),re=n(46),ae=n(1864),oe=n(133),ie=function(e){var t=e.getAttribute("data-hash"),n=e.textContent.replace(/^@/,""),r=document.createElement("span");return e.parentNode.replaceChild(r,e),{target:r,data:{id:t,name:n}}},se=function(e){var t=Object(c.useState)(null),n=Object(a.a)(t,2),r=n[0],o=n[1];return Object(c.useEffect)(function(){if(e){var t=Array.from(e.querySelectorAll(".member_mention"));if(t.length){var n=t.map(ie).map(function(e,t){var n=e.data,r=e.target;return Object(m.createPortal)(Object(s.b)(oe.a,{key:t,user:n},"@",n.name),r)});o(n)}}},[e]),r},ce=n(1822),le=function(e){var t=e.getAttribute("data-poster"),n="data:,"===t?"":t,r={title:e.getAttribute("data-name"),thumbnail:n,url:e.getAttribute("href"),src:e.getAttribute("data-src")};r=e.getAttribute("data-lens-id")?Object.assign({},r,{isLens:!0,id:e.getAttribute("data-lens-id"),isPlayable:!0}):Object.assign({},r,{isLens:!1,id:e.getAttribute("data-video-id"),isPlayable:"true"===e.getAttribute("data-video-playable")}),e.hasAttribute("data-lens-status")&&(r=Object.assign({},r,{error:{status:e.getAttribute("data-lens-status"),message:e.getAttribute("data-description")}}));var a=document.createElement("div");return e.parentNode.replaceChild(a,e),{target:a,data:r}},ue=function(e){var t=Object(c.useState)(null),n=Object(a.a)(t,2),r=n[0],o=n[1];return Object(c.useEffect)(function(){if(e){var t=Array.from(e.querySelectorAll(".video-box, .video-link, .unprocessable_video"));if(t.length){var n=t.map(le).map(function(e,t){var n=e.data,r=e.target;return Object(m.createPortal)(Object(s.b)(ce.a,{key:t,data:n}),r)});o(n)}}},[e]),r},de=n(2009),pe=function(e){var t=Object(de.a)(e.children),n=t[0],a=t.slice(1);return n.apply(void 0,Object(r.a)(a))},fe=n(76),he=n.n(fe),me=n(20),be=n.n(me),ve=n(1736),ge=n(1753),ye=n(104),Ce=/<ul[\w\W]+class="slideshow"[\w\W]+ul>/,we=function(e){var t,n=[],r=null===(t=e.match(Ce))||void 0===t?void 0:t[0];if(r){var a=new ve.Parser({onopentag:function(e,t){("img"===e&&Object(ye.isAbsoluteUrl)(t.src)||"a"===e&&t["data-lens-id"])&&n.push({name:e,attr:t})}},{decodeEntities:!0});a.write(r),a.end()}var o=n[0];if(o){var c=o.attr,l=c["data-rawwidth"],u=c["data-rawheight"]/l||1;u>1.33?u=1.33:u<.75&&(u=.75);var d=parseInt((490/u).toString()),p=n[0]&&Object(ge.renderToStaticMarkup)(Object(s.b)("div",{"data-slideshowinfo":JSON.stringify(n),"data-slideshow-width":d,className:"Slideshow-Wrapper"},Object(s.b)("div",{className:"Slideshow-content",style:{width:d}},Object(s.b)("img",Object(i.default)({className:be()("Slideshow-image",n[0].attr.class)},he()(n[0].attr,["class"]),{"data-ignore-static-image":!0,style:{width:d,height:490}})))));return e.replace(Ce,p)}return e},Oe=n(2019),ke=n(490),je=n.n(ke),_e=n(448),Se=n(2136),xe=n(1710),Ee=function(e){var t=e.slideshowData,n=void 0===t?[]:t,r=e.swiperWidth,o=e.parentNode,i=Object(c.useState)(0),u=Object(a.a)(i,2),d=u[0],p=u[1],f=Object(c.useState)(null),h=Object(a.a)(f,2),m=h[0],v=h[1],g=Object(c.useState)(Object(_e.isViewed)(o)),C=Object(a.a)(g,2),w=C[0],O=C[1],k=Object(c.useState)(!1),j=Object(a.a)(k,2),_=j[0],S=j[1],x=Object(c.useRef)(null);Object(y.a)(o,function(){O(!0)},{rootMargin:"200px"}),Object(c.useEffect)(function(){if(x.current){var e=function(){_||S(!0)};return w&&x.current.addEventListener("mousemove",e),function(){x.current.removeEventListener("mousemove",e)}}},[w,_]),Object(c.useEffect)(function(){null!==m&&(m.on("slideChange",function(){p(m.activeIndex)}),m.on("reachEnd",function(){p(n[n.length-1].index)}),m.on("fromEdge",function(){p(m.activeIndex)}))},[m,n]);var E=function(e){m.slideTo(e)},N=function(e){return function(){E(d+e)}};return Object(s.b)(l.a.Fragment,null,Object(s.b)("div",{style:{width:r},className:"Slideshow-swiper",onMouseEnter:function(){S(!0)},onMouseLeave:function(){return S(!1)}},Object(s.b)("div",{className:"Slideshow-swiperDirectionButtonActiveArea",ref:x}),w?Object(s.b)(l.a.Fragment,null,Object(s.b)(je.a,{getSwiper:v,resistanceRatio:0},n.map(function(e,t){var n=e.name,a=e.attr;if("img"===n){var o=a.src;return Object(s.b)("img",{src:o,alt:"",className:"Slideshow-swiperImage",style:{maxWidth:r,minWidth:r},key:t})}})),_&&0!==d&&Object(s.b)("div",{className:"Slideshow-swiperArrowButton Slideshow-swiperArrowButton--left"},Object(s.b)(Se.a,{onClick:N(-1)})),_&&d!==n.length-1&&Object(s.b)("div",{className:"Slideshow-swiperArrowButton Slideshow-swiperArrowButton--right"},Object(s.b)(xe.a,{onClick:N(1)}))):Object(s.b)("div",{className:"Slideshow-swiperPlaceholder"})),n.length>1&&Object(s.b)(l.a.Fragment,null,Object(s.b)("div",{className:"Slideshow-swiperThumbs--placeholder"}),Object(s.b)("div",{className:"Slideshow-swiperThumbs"},Object(s.b)("div",{className:"Slideshow-swiperThumbsContent"},n.map(function(e,t){var n=e.name,r=e.attr;if("img"===n){var a=r.src;return Object(s.b)("div",{key:t,className:"Slideshow-swiperImageThumbWrapper",onClick:function(){return E(t)}},Object(s.b)("div",{className:be()("Slideshow-swiperImageThumbMask",{"Slideshow-swiperImageThumbMask--active":t===d})}),Object(s.b)("img",{src:Object(b.imgUrl)(a,"m"),alt:"",className:"Slideshow-swiperImageThumb",key:t}))}})))))},Ne=function(e){var t=Object(c.useState)(null),n=Object(a.a)(t,2),r=n[0],o=n[1];return Object(c.useEffect)(function(){var t;if(e){var n=e.querySelector("div[data-slideshowinfo]");if(n){var r=Object(Oe.a)(n.getAttribute("data-slideshowinfo"));if(r&&!r.find(function(e){return e.attr["data-lens-id"]})){var a=Number(n.getAttribute("data-slideshow-width")),i=null===(t=n.getElementsByClassName("Slideshow-content"))||void 0===t?void 0:t[0];if(i){i.childNodes[0].remove();var c=Object(m.createPortal)(Object(s.b)(Ee,{slideshowData:r,swiperWidth:a,parentNode:i}),i);o(c),n.removeAttribute("data-slideshowinfo")}}}}},[e]),r},Ae=(n(2083),n(2084),{}),Ie=function(e,t){var n=function(e){return e.split("/").reverse()[0]}(t),r=n.split(".")[1],a="webp"===r||"gif"===r?r:"image",o=Object(te.statGenerator)({appName:"heifetz"})("".concat(a,".unknown.RichText"));switch(e){case"loadstart":Ae[n]=Date.now();break;case"load":if(Ae[n]){var i="".concat(o,".success");ne.a.increment({raw:"".concat(i,".cnt")}),ne.a.timing(i,Date.now()-Ae[n]),delete Ae[n]}break;case"timeout":if(Ae[n]){var s="".concat(o,".timeout.cnt");ne.a.increment({raw:s}),delete Ae[n]}break;case"error":if(Ae[n]){var c="".concat(o,".failure.cnt");ne.a.increment({raw:c}),delete Ae[n]}}},Te=function(e){return Object(s.b)(Z,Object(i.default)({onLoadStateChange:Ie},e))};t.a=function(e){var t=e.ecommerce,n=e.html,f=e.isSlideshowContent,h=Object(o.a)(e,["ecommerce","html","isSlideshowContent"]),m=Object(c.useState)(null),b=Object(a.a)(m,2),v=b[0],g=b[1],y=Object(d.useSelector)(function(e){return Object(re.a)(e,"gue_card_test")}),C=Object(ae.a)(y),w=u.compose.apply(void 0,Object(r.a)([f&&we].filter(Boolean)))(n);return Object(s.b)(l.a.Fragment,null,Object(s.b)(p.a,Object(i.default)({},h,{html:w,onRef:g,lazyLoadImageProps:{onLoadStateChange:Ie},mcnLinkCardProps:C})),Object(s.b)(pe,null,[Ne,v]),Q(v,{Component:Te}),ue(v),se(v),Object($.d)(v,{ecommerce:t,Component:ee.a}))}},1779:function(e,t,n){"use strict";var r=n(97);Object.defineProperty(t,"__esModule",{value:!0}),t.errorWrapper=t.default=void 0;var a=r(n(451)),o=r(n(179)),i=r(n(350)),s=r(n(180)),c=r(n(245)),l=r(n(349)),u=r(n(0)),d=n(12),p=n(1723),f=function(e){function t(e){var n;return(0,o.default)(this,t),(n=(0,s.default)(this,(0,c.default)(t).call(this,e))).state={hasError:!1},n}return(0,l.default)(t,e),(0,i.default)(t,[{key:"componentDidCatch",value:function(e,t){this.handleError(e,t)}},{key:"unstable_handleError",value:function(e,t){this.handleError(e,t)}},{key:"handleError",value:function(e,t){this.setState({hasError:!0}),console.error(e),t&&console.error(t),void 0!==(0,p.get)(window,"Raven.captureException")&&window.Raven.captureException(new Error("Error in ad data."),{extra:{adjson:(0,p.get)(this.props,"children.props"),error:e,info:t}})}},{key:"render",value:function(){return this.state.hasError?null:this.props.children}}]),t}(u.default.Component);t.default=f;t.errorWrapper=function(e){return function(t){return t.data?u.default.createElement(f,null,u.default.createElement(e,(0,a.default)({},t,{data:(0,d.camelizeKeys)(t.data)}))):null}}},1780:function(e,t,n){"use strict";var r=n(4),a=n(5),o=n(8),i=n(6),s=n(7),c=n(3),l=n.n(c),u=n(0),d=n(37),p=(n(1824),function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).handleObserve=function(e){var t=n.props.onObserve;t&&t(e)},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.target=Object(d.findDOMNode)(this),this.observer=this.createObserver(),this.observer.observe(this.target)}},{key:"componentWillUnmount",value:function(){this.target&&this.observer.unobserve(this.target)}},{key:"createObserver",value:function(){var e=this.props,t={root:e.root,rootMargin:e.rootMargin,threshold:e.threshold};return new window.IntersectionObserver(this.handleObserve,t)}},{key:"render",value:function(){return this.props.children}}]),t}(u.Component));p.propTypes={root:l.a.object,rootMargin:l.a.string,threshold:l.a.oneOfType([l.a.number,l.a.arrayOf(l.a.number)]),onObserve:l.a.func},t.a=p},1782:function(e){e.exports={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"}},1783:function(e){e.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},1786:function(e,t,n){"use strict";var r=n(0),a=function(e){var t=Object(r.useRef)();return t.current=Object(r.useCallback)(e,[e]),Object(r.useState)(function(){return function(){return t.current.apply(t,arguments)}})[0]};t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.rootMargin,i=n.threshold,s=n.once,c=void 0===s||s;e=Array.isArray(e)?e:e?[e]:[];var l=Object(r.useRef)(null),u=a(t);Object(r.useEffect)(function(){if(e.length)return l.current&&e.forEach(function(e){return l.current.unobserve(e)}),l.current=new IntersectionObserver(function(e){e.forEach(function(e){e.intersectionRatio>0&&(u(e),c&&l.current.unobserve(e.target))})},{rootMargin:o,threshold:i}),e.forEach(function(e){return l.current.observe(e)}),function(){e.forEach(function(e){return l.current.unobserve(e)})}},[e,o,JSON.stringify(i),c])}},1793:function(e,t,n){"use strict";var r=n(1879),a=n(1732),o={capture:!1,passive:!1};e.exports=function(e,t,n,i){var s="addEventListener",c="removeEventListener",l=!!a.supportPassiveEvent&&r({},o,i);return!e.addEventListener&&e.attachEvent&&(s="attachEvent",c="detachEvent",t="on"+t),e[s](t,n,l),{remove:function(){e[c](t,n)}}}},1794:function(e,t,n){var r=n(1795);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1795:function(e,t,n){var r=n(1721),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},1796:function(e,t,n){var r=n(1730),a=n(1717),o="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!a(e))return!1;var t=r(e);return t==i||t==s||t==o||t==c}},1797:function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(45))},1798:function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},1799:function(e,t){e.exports=function(e){return e}},1800:function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},1801:function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var a=typeof e;return!!(t=null==t?n:t)&&("number"==a||"symbol"!=a&&r.test(e))&&e>-1&&e%1==0&&e<t}},1802:function(e,t,n){var r=n(1895),a=n(1896),o=n(1758),i=n(1803),s=n(1801),c=n(1899),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&a(e),d=!n&&!u&&i(e),p=!n&&!u&&!d&&c(e),f=n||u||d||p,h=f?r(e.length,String):[],m=h.length;for(var b in e)!t&&!l.call(e,b)||f&&("length"==b||d&&("offset"==b||"parent"==b)||p&&("buffer"==b||"byteLength"==b||"byteOffset"==b)||s(b,m))||h.push(b);return h}},1803:function(e,t,n){(function(e){var r=n(1715),a=n(1898),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===o?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||a;e.exports=c}).call(this,n(71)(e))},1804:function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},1805:function(e,t,n){"use strict";var r=!1;if("undefined"!=typeof navigator){var a=navigator.userAgent.match(/MSIE (\d+\.\d+)/);a&&(r=parseFloat(a[1],10)<9)}e.exports=r},1806:function(e,t,n){var r=n(1802),a=n(1935),o=n(1738);e.exports=function(e){return o(e)?r(e,!0):a(e)}},1807:function(e,t){e.exports=function(){return[]}},1808:function(e,t,n){var r=n(1809),a=n(1810),o=n(1762),i=n(1807),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=a(e);return t}:i;e.exports=s},1809:function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},1810:function(e,t,n){var r=n(1804)(Object.getPrototypeOf,Object);e.exports=r},1811:function(e,t,n){var r=n(1809),a=n(1758);e.exports=function(e,t,n){var o=t(e);return a(e)?o:r(o,n(e))}},1812:function(e,t,n){"use strict";e.exports={EVENT_END_DELAY:100,DEFAULT_THROTTLE_RATE:50}},1813:function(e,t,n){"use strict";(function(t){e.exports=v;var r,a=n(248),o=n(359);v.ReadableState=b;n(148).EventEmitter;var i=function(e,t){return e.listeners(t).length},s=n(1814),c=n(214).Buffer,l=n(1767),u=n(101);u.inherits=n(75);var d=n(1973),p=void 0;p=d&&d.debuglog?d.debuglog("stream"):function(){};var f,h=n(1974);u.inherits(v,s);var m=["error","close","destroy","pause","resume"];function b(e,t){r=r||n(1722),e=e||{},this.objectMode=!!e.objectMode,t instanceof r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var a=e.highWaterMark,o=this.objectMode?16:16384;this.highWaterMark=a||0===a?a:o,this.highWaterMark=~~this.highWaterMark,this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=n(249).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function v(e){if(r=r||n(1722),!(this instanceof v))return new v(e);this._readableState=new b(e,this),this.readable=!0,e&&"function"==typeof e.read&&(this._read=e.read),s.call(this)}function g(e,t,n,r,o){var i=function(e,t){var n=null;c.isBuffer(t)||"string"==typeof t||null==t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));return n}(t,n);if(i)e.emit("error",i);else if(null===n)t.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,w(e)}(e,t);else if(t.objectMode||n&&n.length>0)if(t.ended&&!o){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&o){var l=new Error("stream.unshift() after end event");e.emit("error",l)}else{var u;!t.decoder||o||r||(n=t.decoder.write(n),u=!t.objectMode&&0===n.length),o||(t.reading=!1),u||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,o?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&w(e))),function(e,t){t.readingMore||(t.readingMore=!0,a(k,e,t))}(e,t)}else o||(t.reading=!1);return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(t)}v.prototype.push=function(e,t){var n=this._readableState;return n.objectMode||"string"!=typeof e||(t=t||n.defaultEncoding)!==n.encoding&&(e=l.from(e,t),t=""),g(this,n,e,t,!1)},v.prototype.unshift=function(e){return g(this,this._readableState,e,"",!0)},v.prototype.isPaused=function(){return!1===this._readableState.flowing},v.prototype.setEncoding=function(e){return f||(f=n(249).StringDecoder),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};var y=8388608;function C(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=y?e=y:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function w(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?a(O,e):O(e))}function O(e){p("emit readable"),e.emit("readable"),S(e)}function k(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function j(e){p("readable nexttick read 0"),e.read(0)}function _(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),S(e),t.flowing&&!t.reading&&e.read(0)}function S(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function x(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,a=n.data;e-=a.length;for(;n=n.next;){var o=n.data,i=e>o.length?o.length:e;if(i===o.length?a+=o:a+=o.slice(0,e),0===(e-=i)){i===o.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=o.slice(i));break}++r}return t.length-=r,a}(e,t):function(e,t){var n=l.allocUnsafe(e),r=t.head,a=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var o=r.data,i=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,i),0===(e-=i)){i===o.length?(++a,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=o.slice(i));break}++a}return t.length-=a,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function E(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,a(N,t,e))}function N(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function A(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}v.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?E(this):w(this),null;if(0===(e=C(e,t))&&t.ended)return 0===t.length&&E(this),null;var r,a=t.needReadable;return p("need readable",a),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",a=!0),t.ended||t.reading?p("reading or ended",a=!1):a&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=C(n,t))),null===(r=e>0?x(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&E(this)),null!==r&&this.emit("data",r),r},v.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},v.prototype.pipe=function(e,n){var r=this,s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e)}s.pipesCount+=1,p("pipe count=%d opts=%j",s.pipesCount,n);var c=(!n||!1!==n.end)&&e!==t.stdout&&e!==t.stderr?u:h;function l(e){p("onunpipe"),e===r&&h()}function u(){p("onend"),e.end()}s.endEmitted?a(c):r.once("end",c),e.on("unpipe",l);var d=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&i(e,"data")&&(t.flowing=!0,S(e))}}(r);e.on("drain",d);var f=!1;function h(){p("cleanup"),e.removeListener("close",g),e.removeListener("finish",y),e.removeListener("drain",d),e.removeListener("error",v),e.removeListener("unpipe",l),r.removeListener("end",u),r.removeListener("end",h),r.removeListener("data",b),f=!0,!s.awaitDrain||e._writableState&&!e._writableState.needDrain||d()}var m=!1;function b(t){p("ondata"),m=!1,!1!==e.write(t)||m||((1===s.pipesCount&&s.pipes===e||s.pipesCount>1&&-1!==A(s.pipes,e))&&!f&&(p("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,m=!0),r.pause())}function v(t){p("onerror",t),C(),e.removeListener("error",v),0===i(e,"error")&&e.emit("error",t)}function g(){e.removeListener("finish",y),C()}function y(){p("onfinish"),e.removeListener("close",g),C()}function C(){p("unpipe"),r.unpipe(e)}return r.on("data",b),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?o(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",v),e.once("close",g),e.once("finish",y),e.emit("pipe",r),s.flowing||(p("pipe resume"),r.resume()),e},v.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var n=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<r;a++)n[a].emit("unpipe",this);return this}var o=A(t.pipes,e);return-1===o?this:(t.pipes.splice(o,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},v.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&w(this):a(j,this))}return n},v.prototype.addListener=v.prototype.on,v.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,a(_,e,t))}(this,e)),this},v.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},v.prototype.wrap=function(e){var t=this._readableState,n=!1,r=this;for(var a in e.on("end",function(){if(p("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&r.push(e)}r.push(null)}),e.on("data",function(a){(p("wrapped data"),t.decoder&&(a=t.decoder.write(a)),t.objectMode&&null==a)||(t.objectMode||a&&a.length)&&(r.push(a)||(n=!0,e.pause()))}),e)void 0===this[a]&&"function"==typeof e[a]&&(this[a]=function(t){return function(){return e[t].apply(e,arguments)}}(a));for(var o=0;o<m.length;o++)e.on(m[o],r.emit.bind(r,m[o]));return r._read=function(t){p("wrapped _read",t),n&&(n=!1,e.resume())},r},v._fromList=x}).call(this,n(53))},1814:function(e,t,n){e.exports=n(148).EventEmitter},1815:function(e,t,n){"use strict";e.exports=i;var r=n(1722),a=n(101);function o(e){this.afterTransform=function(t,n){return function(e,t,n){var r=e._transformState;r.transforming=!1;var a=r.writecb;if(!a)return e.emit("error",new Error("no writecb in Transform class"));r.writechunk=null,r.writecb=null,null!=n&&e.push(n);a(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}(e,t,n)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function i(e){if(!(this instanceof i))return new i(e);r.call(this,e),this._transformState=new o(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e,n){s(t,e,n)}):s(t)})}function s(e,t,n){if(t)return e.emit("error",t);null!=n&&e.push(n);var r=e._writableState,a=e._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(a.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}a.inherits=n(75),a.inherits(i,r),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},i.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var a=this._readableState;(r.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},1816:function(e,t,n){var r=n(1981);e.exports=function(e,t){if(null==e)return{};var n,a,o=r(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},1817:function(e,t,n){"use strict";var r=n(97);Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultImageIcon=function(e){return i.default.createElement("svg",(0,o.default)({viewBox:"0 0 24 19",width:"24",height:"18",fill:"#e6eaee"},e),i.default.createElement("path",{fillRule:"evenodd",d:"M12.8 2.5c4.4 0 9.4 15.6 9.4 16H0S2.8 6 6 6.4c1.2 0 1.8 5.8 1.8 5.8s2.5-9.5 5-9.8zm7.8 3c-2 0-3-1.2-3-2.7 0-1.6 1.5-2.8 3-2.8 1.6 0 2.8 1.2 2.8 2.8 0 1.5-1.2 2.7-2.8 2.7z"}))},t.DownloadIcon=function(e){return i.default.createElement("svg",(0,o.default)({width:"22",height:"24",viewBox:"0 0 22 24"},e),i.default.createElement("path",{d:"M12.5529341,14.1404734 L18.169832,9.26282809 C18.7810874,8.65157268 19.7534925,8.63293695 20.3417595,9.22120397 C20.9300266,9.80947106 20.9113909,10.7818762 20.3001355,11.3931316 L13.0513943,17.6878498 L12.2520561,18.4871879 C11.4710076,19.2682365 10.2046776,19.2682365 9.42362902,18.4871879 L8.70753902,17.7710979 L1.69466746,11.7582264 C1.10640039,11.1699593 1.12503611,10.1975542 1.73629152,9.58629879 C2.34754694,8.97504338 3.31995206,8.95640766 3.90821914,9.54467473 L9.54022989,14.3735893 L9.54022989,1.50635209 C9.54022989,0.674416801 10.2146467,1.52824032e-16 11.046582,0 C11.8785173,-8.18957847e-16 12.5529341,0.674416801 12.5529341,1.50635208 L12.5529341,14.1404734 Z M21.298428,22.2454939 L21.298428,22.2581981 C21.298428,23.0866252 20.6268551,23.7581981 19.798428,23.7581981 L2.2947352,23.7581981 C1.466308,23.7581981 0.7947352,23.0866252 0.7947352,22.2581981 L0.7947352,22.2454939 C0.7947352,21.4170668 1.466308,20.7454939 2.2947352,20.7454939 L19.798428,20.7454939 C20.6268551,20.7454939 21.298428,21.4170668 21.298428,22.2454939 Z"}))},t.PauseIcon=function(e){return i.default.createElement("svg",(0,o.default)({width:"100",height:"100",viewBox:"0 0 100 100"},e),i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("circle",{cx:"50",cy:"50",r:"47.222",fill:"#000",fillOpacity:".2"}),i.default.createElement("path",{fill:"#FFF",d:"M50,100 C22.3857625,100 0,77.6142375 0,50 C0,22.3857625 22.3857625,0 50,0 C77.6142375,0 100,22.3857625 100,50 C100,77.6142375 77.6142375,100 50,100 Z M50,97.2222222 C76.0801132,97.2222222 97.2222222,76.0801132 97.2222222,50 C97.2222222,23.9198868 76.0801132,2.77777778 50,2.77777778 C23.9198868,2.77777778 2.77777778,23.9198868 2.77777778,50 C2.77777778,76.0801132 23.9198868,97.2222222 50,97.2222222 Z M66.0426405,48.1352959 C67.5072274,49.0506627 67.5117218,50.5319565 66.0426405,51.4501323 L43.8196795,65.339483 C42.3550926,66.2548498 41.1678103,65.6054361 41.1678103,63.8674518 L41.1678103,35.7179765 C41.1678103,33.9896292 42.3505982,33.3277694 43.8196795,34.2459452 L66.0426405,48.1352959 Z"})))},t.TriangleIcon=c,t.CloseIcon=l,t.ArrowDown=function(e){return i.default.createElement("svg",(0,o.default)({width:"24",height:"24",viewBox:"0 0 24 24"},e),i.default.createElement("path",{fillRule:"evenodd",d:"M12.0005,13.0003752 L8.2845,9.21837516 C7.9905,8.92737516 7.5145,8.92737516 7.2205,9.21837516 C6.9265,9.50837516 6.9265,9.97937516 7.2205,10.2703752 L11.4685,14.7823752 C11.7625,15.0733752 12.2385,15.0733752 12.5325,14.7823752 L16.7795,10.2703752 C17.0735,9.97937516 17.0735,9.50937516 16.7795,9.21837516 C16.4855,8.92737516 16.0105,8.92737516 15.7165,9.21737516 L12.0005,13.0003752 Z"}))},t.ArrowUp=function(e){return i.default.createElement("svg",(0,o.default)({width:"22",height:"24",viewBox:"0 0 24 24"},e),i.default.createElement("path",{fillRule:"evenodd",d:"M12.0005,13.0003752 L8.2845,9.21837516 C7.9905,8.92737516 7.5145,8.92737516 7.2205,9.21837516 C6.9265,9.50837516 6.9265,9.97937516 7.2205,10.2703752 L11.4685,14.7823752 C11.7625,15.0733752 12.2385,15.0733752 12.5325,14.7823752 L16.7795,10.2703752 C17.0735,9.97937516 17.0735,9.50937516 16.7795,9.21837516 C16.4855,8.92737516 16.0105,8.92737516 15.7165,9.21737516 L12.0005,13.0003752 Z",transform:"matrix(1 0 0 -1 0 24)"}))},t.AddIcon=u,t.DownloadIconWhite=function(e){return i.default.createElement("svg",(0,o.default)({width:"12",height:"14",viewBox:"0 0 24 24"},e),i.default.createElement("path",{fill:"#FFF",fillRule:"evenodd",d:"M41,34.647593 L46.4821856,29.8952505 C47.0573478,29.3171615 47.9939599,29.3212723 48.5741674,29.9044323 C49.1543749,30.4875923 49.1584649,31.4289706 48.5833027,32.0070596 L41.7409518,37.9384886 L41.0759034,38.6069213 C40.2968396,39.3899495 39.0305137,39.3931633 38.2474854,38.6140995 C38.2450866,38.6117128 38.2426938,38.6093201 38.2403072,38.6069213 L37.5569882,37.920125 L30.6628707,31.936666 C30.0826632,31.353506 30.0785732,30.4121277 30.6537354,29.8340386 C31.2288976,29.2559496 32.1655097,29.2600604 32.7457172,29.8432204 L38,34.403454 L38,22.5 C38,21.6715729 38.6715729,21 39.5,21 C40.3284271,21 41,21.6715729 41,22.5 L41,34.647593 Z M49,42.5 C49,43.3284271 48.3284271,44 47.5,44 L31.5,44 C30.6715729,44 30,43.3284271 30,42.5 C30,41.6715729 30.6715729,41 31.5,41 L47.5,41 C48.3284271,41 49,41.6715729 49,42.5 Z",transform:"translate(-30 -21)"}))},t.ActiveStar=function(e){var t=e.style;return i.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 25",style:t},i.default.createElement("path",{fill:"#FA0",d:"M17.274758,15.4469628 L19.717838,23.7077251 C19.8447617,24.1107955 19.7143932,24.5558233 19.3955281,24.8079664 C19.0766631,25.0601095 18.6426594,25.0613602 18.3225416,24.8110584 L11.9871141,19.556149 L5.67675579,24.8157738 C5.35585352,25.0642585 4.92230992,25.0611015 4.60456814,24.8079664 C4.28682636,24.5548313 4.15784801,24.1098443 4.28559448,23.7074782 L6.69918173,15.4591101 L0.383646092,10.7225632 C0.0610151875,10.4737818 -0.0766431831,10.0304757 0.0422739945,9.62323054 C0.161191172,9.21598539 0.509822814,8.93679002 0.906828141,8.93086791 L8.69117778,8.93086791 L11.125674,0.681629762 C11.2430397,0.276206583 11.5378306,0 12.0000481,0 C12.4622656,0 12.7310442,0.276206583 12.8484099,0.681629762 L15.2829062,8.93086791 L23.0932681,8.93086791 C23.4904075,8.93683682 23.8390971,9.21625563 23.9578641,9.62370313 C24.0766312,10.0311506 23.9386295,10.4745268 23.6156809,10.7230801 L17.274758,15.4469628 Z"}))},t.UnActiveStar=function(e){return i.default.createElement("svg",(0,o.default)({width:"16",height:"16",viewBox:"0 0 24 25"},e),i.default.createElement("path",{fill:"none",stroke:"#FA0",strokeWidth:"1.764",d:"M11.9819001,0.879433133 C11.9795516,0.880021622 11.9838641,0.88895781 11.971605,0.931278979 L9.35049088,9.81286791 L8.69117778,9.81286791 L0.919983421,9.8127698 C0.919003912,9.81278441 0.901713576,9.82663106 0.888917203,9.87045367 C0.870461414,9.93365758 0.891089579,10.0000872 0.912838593,10.0169576 L7.7173316,15.1202144 L7.54568587,15.7068089 L5.12624332,23.9743743 C5.10962557,24.0267157 5.12267547,24.0829123 5.14588507,24.110054 L11.9857433,18.4090959 L12.5501987,18.8772825 L18.8564176,24.1084404 C18.8797348,24.0814822 18.8926963,24.023831 18.8720512,23.9578624 L16.254506,15.1071827 L16.7478316,14.7396633 L23.0777374,10.0241232 C23.1088665,10.000165 23.1295357,9.93375829 23.111104,9.87052561 C23.0983169,9.82665738 23.0810031,9.81278318 23.0932681,9.81286791 L14.6235931,9.81286791 L14.4369752,9.18051713 L12.0011958,0.92688923 C11.9873473,0.879051627 11.9964848,0.872771777 12.0017908,0.875210734 Z"}))},t.VarietyStar=function(e){return i.default.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 25",style:e.style},i.default.createElement("clipPath",{id:"cut-off-bottom-test"},i.default.createElement("rect",{x:"0",y:"0",width:e.cutWidth,height:"25"})),i.default.createElement("path",{clipPath:"url(#cut-off-bottom-test)",fill:"#FA0",d:"M17.274758,15.4469628 L19.717838,23.7077251 C19.8447617,24.1107955 19.7143932,24.5558233 19.3955281,24.8079664 C19.0766631,25.0601095 18.6426594,25.0613602 18.3225416,24.8110584 L11.9871141,19.556149 L5.67675579,24.8157738 C5.35585352,25.0642585 4.92230992,25.0611015 4.60456814,24.8079664 C4.28682636,24.5548313 4.15784801,24.1098443 4.28559448,23.7074782 L6.69918173,15.4591101 L0.383646092,10.7225632 C0.0610151875,10.4737818 -0.0766431831,10.0304757 0.0422739945,9.62323054 C0.161191172,9.21598539 0.509822814,8.93679002 0.906828141,8.93086791 L8.69117778,8.93086791 L11.125674,0.681629762 C11.2430397,0.276206583 11.5378306,0 12.0000481,0 C12.4622656,0 12.7310442,0.276206583 12.8484099,0.681629762 L15.2829062,8.93086791 L23.0932681,8.93086791 C23.4904075,8.93683682 23.8390971,9.21625563 23.9578641,9.62370313 C24.0766312,10.0311506 23.9386295,10.4745268 23.6156809,10.7230801 L17.274758,15.4469628 Z"}))},t.Cart=function(e){return i.default.createElement("svg",(0,o.default)({xmlns:"http://www.w3.org/2000/svg",width:"27",height:"24",viewBox:"0 0 27 24"},e),i.default.createElement("path",{fill:"#0084FF",d:"M25.0589726,39.0133333 C25.4056402,39.0133333 25.7340622,39.0755556 26.0442385,39.2 C26.3544148,39.3244444 26.6280998,39.4977778 26.8652934,39.72 C27.1024871,39.9422222 27.2849437,40.2044444 27.4126634,40.5066667 C27.540383,40.8088889 27.6042428,41.1288889 27.6042428,41.4666667 C27.6042428,41.8044444 27.540383,42.1244444 27.4126634,42.4266667 C27.2849437,42.7288889 27.1024871,42.9911111 26.8652934,43.2133333 C26.6280998,43.4355556 26.3544148,43.6133333 26.0442385,43.7466667 C25.7340622,43.88 25.4056402,43.9466667 25.0589726,43.9466667 C24.6940593,43.9466667 24.3610759,43.88 24.0600224,43.7466667 C23.758969,43.6133333 23.4898454,43.4355556 23.2526518,43.2133333 C23.0154581,42.9911111 22.8330015,42.7288889 22.7052818,42.4266667 C22.5775622,42.1244444 22.5137023,41.8044444 22.5137023,41.4666667 C22.5137023,41.1288889 22.5775622,40.8088889 22.7052818,40.5066667 C22.8330015,40.2044444 23.0154581,39.9422222 23.2526518,39.72 C23.4898454,39.4977778 23.758969,39.3244444 24.0600224,39.2 C24.3610759,39.0755556 24.6940593,39.0133333 25.0589726,39.0133333 Z M36.4442675,39.0666667 C36.7909351,39.0666667 37.1239185,39.1288889 37.4432176,39.2533333 C37.7625167,39.3777778 38.0362017,39.5511111 38.2642725,39.7733333 C38.4923433,39.9955556 38.6748,40.2577778 38.8116425,40.56 C38.948485,40.8622222 39.0169062,41.1822222 39.0169062,41.52 C39.0169062,41.8577778 38.948485,42.1777778 38.8116425,42.48 C38.6748,42.7822222 38.4923433,43.0444444 38.2642725,43.2666667 C38.0362017,43.4888889 37.7625167,43.6666667 37.4432176,43.8 C37.1239185,43.9333333 36.7909351,44 36.4442675,44 C36.0975998,44 35.7691779,43.9333333 35.4590016,43.8 C35.1488253,43.6666667 34.8797017,43.4888889 34.6516309,43.2666667 C34.4235601,43.0444444 34.2411034,42.7822222 34.1042609,42.48 C33.9674185,42.1777778 33.8989972,41.8577778 33.8989972,41.52 C33.8989972,41.1822222 33.9674185,40.8622222 34.1042609,40.56 C34.2411034,40.2577778 34.4235601,39.9955556 34.6516309,39.7733333 C34.8797017,39.5511111 35.1488253,39.3777778 35.4590016,39.2533333 C35.7691779,39.1288889 36.0975998,39.0666667 36.4442675,39.0666667 Z M41.042175,23.92 C41.5530536,23.92 41.9498968,23.9866667 42.2327046,24.12 C42.5155124,24.2533333 42.7162147,24.4177778 42.8348116,24.6133333 C42.9534084,24.8088889 43.0081454,25.0177778 42.9990226,25.24 C42.9898997,25.4622222 42.9579698,25.6533333 42.9032328,25.8133333 C42.8484958,25.9733333 42.7344604,26.3022222 42.5611266,26.8 C42.3877928,27.2977778 42.1916519,27.8444444 41.9727039,28.44 C41.7537559,29.0355556 41.5393694,29.6266667 41.3295442,30.2133333 C41.1197191,30.8 40.9600695,31.2622222 40.8505955,31.6 C40.6134019,32.3111111 40.3123484,32.8044444 39.9474351,33.08 C39.5825218,33.3555556 39.135503,33.4933333 38.6063787,33.4933333 L37.6758498,33.4933333 L35.8968975,33.4933333 L33.5705752,33.4933333 L31.025305,33.4933333 L24.2379177,33.4933333 L24.6484451,35.8933333 L38.4421678,35.8933333 C39.3179597,35.8933333 39.7558556,36.2577778 39.7558556,36.9866667 C39.7558556,37.3422222 39.6691887,37.6488889 39.4958549,37.9066667 C39.3225211,38.1644444 38.9804149,38.2933333 38.4695363,38.2933333 L37.1558484,38.2933333 L34.6105781,38.2933333 L31.463201,38.2933333 L28.2610868,38.2933333 L25.633711,38.2933333 L24.1284437,38.2933333 C23.7635304,38.2933333 23.4579155,38.2133333 23.211599,38.0533333 C22.9652826,37.8933333 22.7600188,37.6844444 22.5958078,37.4266667 C22.4315969,37.1688889 22.2993158,36.8888889 22.1989646,36.5866667 C22.0986135,36.2844444 22.0210694,36 21.9663324,35.7333333 C21.9480867,35.6266667 21.8979112,35.3688889 21.8158057,34.96 C21.7337002,34.5511111 21.633349,34.04 21.5147522,33.4266667 C21.3961554,32.8133333 21.2638743,32.1288889 21.117909,31.3733333 C20.9719437,30.6177778 20.8259784,29.8577778 20.680013,29.0933333 C20.3333454,27.2977778 19.9410636,25.2977778 19.5031677,23.0933333 L17.4505304,23.0933333 C17.1768454,23.0933333 16.9487746,23.0266667 16.7663179,22.8933333 C16.5838613,22.76 16.4333345,22.6 16.3147377,22.4133333 C16.1961409,22.2266667 16.1140354,22.0266667 16.0684212,21.8133333 C16.0228071,21.6 16,21.4044444 16,21.2266667 C16,20.8711111 16.1231582,20.5777778 16.3694747,20.3466667 C16.6157912,20.1155556 16.9487746,20 17.3684249,20 L17.9705318,20 L18.5179017,20 L19.2021142,20 L20.1326431,20 C20.4975564,20 20.789487,20.0533333 21.008435,20.16 C21.227383,20.2666667 21.4007168,20.4 21.5284364,20.56 C21.6561561,20.72 21.7473844,20.8888889 21.8021214,21.0666667 C21.8568584,21.2444444 21.9024726,21.3955556 21.9389639,21.52 C21.9754552,21.6622222 22.0119466,21.8622222 22.0484379,22.12 C22.0849292,22.3777778 22.1214206,22.64 22.1579119,22.9066667 C22.2126489,23.2266667 22.2673859,23.5644444 22.3221229,23.92 L41.042175,23.92 Z",transform:"translate(-16 -20)"}))},t.Pad=function(e){return i.default.createElement("svg",(0,o.default)({xmlns:"http://www.w3.org/2000/svg"},e,{viewBox:"0 0 24 25"}),i.default.createElement("g",{fill:"none",fillRule:"evenodd"},i.default.createElement("path",{d:"M9.705 2h4.854c.855-.021 1.568.635 1.595 1.47v1.96a1.498 1.498 0 0 1-.486 1.057 1.57 1.57 0 0 1-1.109.412H9.705c-.854.022-1.565-.635-1.59-1.47V3.47c.025-.834.736-1.491 1.59-1.47zm.46 1.402a.504.504 0 0 0-.414.164.667.667 0 0 0-.174.458v.852c0 .174.063.34.174.458a.504.504 0 0 0 .413.164h3.941a.503.503 0 0 0 .413-.164.666.666 0 0 0 .174-.458v-.852a.666.666 0 0 0-.174-.458.503.503 0 0 0-.413-.164h-3.94zM11.456 14.71l5.01-4.603c.232-.213.963-.736 1.573-.108.372.456.449.976 0 1.42l-5.78 5.16c-.238.22-.558.34-.888.33a1.253 1.253 0 0 1-.868-.375 1.021 1.021 0 0 1-.156-.201l-.09-.08-3.252-3.348c-.452-.464-.485-1.053 0-1.485.485-.432 1.078-.2 1.53.264l2.92 3.026z",fill:"#8590A6"}),i.default.createElement("path",{d:"M19.005 4.625c1.5 0 2.727 1.191 2.727 2.648v12.542c0 1.456-1.227 2.648-2.727 2.648H5.727c-1.5 0-2.727-1.192-2.727-2.648V7.273c0-1.457 1.227-2.648 2.727-2.648",stroke:"#8590A6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))},t.MenuIcon=function(e){return i.default.createElement("svg",(0,o.default)({xmlns:"http://www.w3.org/2000/svg"},e,{viewBox:"0 0 12 10"}),i.default.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(-2 -3)"},i.default.createElement("rect",{width:"16",height:"16"}),i.default.createElement("rect",{width:"12",height:"2",x:"2",y:"3",fill:"#9FADC7",fillRule:"nonzero",rx:"1"}),i.default.createElement("rect",{width:"12",height:"2",x:"2",y:"7",fill:"#9FADC7",fillRule:"nonzero",rx:"1"}),i.default.createElement("rect",{width:"7",height:"2",x:"2",y:"11",fill:"#9FADC7",fillRule:"nonzero",rx:"1"})))},t.ShareIcon=function(e){return i.default.createElement("svg",(0,o.default)({xmlns:"http://www.w3.org/2000/svg"},e,{viewBox:"0 0 12 12"}),i.default.createElement("path",{fill:"#9FADC7",d:"M3,2.66666667 L13,2.66666667 C13.5522847,2.66666667 14,3.11438192 14,3.66666667 L14,12.6600825 C14,13.2123673 13.5522847,13.6600825 13,13.6600825 C12.7827311,13.6600825 12.5713728,13.5893212 12.3979007,13.4585037 L8.60209931,10.596043 C8.24569125,10.3272712 7.75430875,10.3272712 7.39790069,10.596043 L3.60209931,13.4585037 C3.16114346,13.791034 2.53410906,13.7031377 2.2015788,13.2621819 C2.07076131,13.0887097 2,12.8773515 2,12.6600825 L2,3.66666667 C2,3.11438192 2.44771525,2.66666667 3,2.66666667 Z",transform:"translate(-2 -2)"}))},t.CloseIconOpacity=function(e){return i.default.createElement("svg",(0,o.default)({},e,{viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}),i.default.createElement("g",{id:"回答页卡片测试",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},i.default.createElement("g",{id:"突出功能区1-安装",transform:"translate(-645.000000, -380.000000)"},i.default.createElement("g",{id:"关闭",transform:"translate(645.000000, 380.000000)"},i.default.createElement("circle",{id:"Oval-2",fill:"#000000",opacity:"0.399999976",cx:"18",cy:"18",r:"18"}),i.default.createElement("path",{d:"M18,19.3076607 L10.5784861,26.7291746 C10.2173856,27.0902751 9.63192593,27.0902751 9.2708254,26.7291746 C8.90972487,26.3680741 8.90972487,25.7826144 9.2708254,25.4215139 L16.6923393,18 L9.2708254,10.5784861 C8.90972487,10.2173856 8.90972487,9.63192593 9.2708254,9.2708254 C9.63192593,8.90972487 10.2173856,8.90972487 10.5784861,9.2708254 L18,16.6923393 L25.4215139,9.2708254 C25.7826144,8.90972487 26.3680741,8.90972487 26.7291746,9.2708254 C27.0902751,9.63192593 27.0902751,10.2173856 26.7291746,10.5784861 L19.3076607,18 L26.7291746,25.4215139 C27.0902751,25.7826144 27.0902751,26.3680741 26.7291746,26.7291746 C26.3680741,27.0902751 25.7826144,27.0902751 25.4215139,26.7291746 L18,19.3076607 Z",id:"Combined-Shape",stroke:"#FFFFFF",fill:"#FFFFFF",strokeLinecap:"round"})))))},t.default=function(e){var t=e.className,n=e.name,r=(0,a.default)(e,["className","name"]),c=d[n];return c?i.default.createElement(c,(0,o.default)({className:(0,s.default)("Icon Icon--".concat(n),t)},r)):null};var a=r(n(1816)),o=r(n(451)),i=r(n(0)),s=r(n(1830));function c(e){return i.default.createElement("svg",(0,o.default)({},e,{viewBox:"0 0 24 24"}),i.default.createElement("path",{d:"M9.218 16.78a.737.737 0 0 0 1.052 0l4.512-4.249a.758.758 0 0 0 0-1.063L10.27 7.22a.737.737 0 0 0-1.052 0 .759.759 0 0 0-.001 1.063L13 12l-3.782 3.716a.758.758 0 0 0 0 1.063z",fillRule:"evenodd"}))}function l(e){return i.default.createElement("svg",(0,o.default)({viewBox:"0 0 12 12"},e),i.default.createElement("path",{fillRule:"evenodd",d:"M3 2L2 3l3 3-3 3 1 1 3-3 3 3 1-1-3-3 3-3-1-1-3 3"}))}function u(e){return i.default.createElement("svg",(0,o.default)({viewBox:"0 0 24 24"},e),i.default.createElement("path",{d:"M13.491 10.488s-.012-5.387 0-5.998c-.037-1.987-3.035-1.987-2.997 0-.038 1.912 0 5.998 0 5.998H4.499c-1.999.01-1.999 3.009 0 3.009s5.995-.01 5.995-.01v5.999c0 2.019 3.006 2.019 2.997 0-.01-2.019 0-5.998 0-5.998s3.996.009 6.004.009c2.008 0 2.008-3-.01-3.009h-5.994z",fillRule:"evenodd"}))}var d={close:l,triangle:c,add:u}},1819:function(e,t,n){var r=n(1984),a=n(450),o=r?function(e){return r.get(e)}:a;e.exports=o},1820:function(e,t,n){var r=n(1985),a=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],o=a.call(r,t)?n.length:0;o--;){var i=n[o],s=i.func;if(null==s||s==e)return i.name}return t}},1821:function(e,t,n){var r=n(2007),a=n(2008);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[o+s]=i[s];return t||a(i)}},1822:function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"DOM",function(){return g}),n.d(r,"PLAYER",function(){return y});var a={};n.r(a),n.d(a,"PLAYER",function(){return C});var o=n(23),i=n(4),s=n(5),c=n(8),l=n(6),u=n(33),d=n(7),p=n(1),f=n(0),h=n(21),m=n(1780),b=n(1772),v=n(1873),g={PLAY:"event/dom/play",PLAYING:"event/dom/playing",PAUSE:"event/dom/pause",ENDED:"event/dom/ended",TIMEUPDATE:"event/dom/timeupdate",ERROR:"event/dom/error",WAITING:"event/dom/waiting"},y={QUALITY_CHANGE:"event/player/quality-change",REQUEST_PLAY:"event/player/request-play",REQUEST_PAUSE:"event/player/request-pause",PLAY_COUNT:"event/player/play-count",PLAY_FAILED:"event/player/play-failed",ENTER_FULLSCREEN:"event/player/enter-fullscreen",EXIT_FULLSCREEN:"event/player/exit-fullscreen"},C={PLAY:"action/player/play",PAUSE:"action/player/pause",SET_VOLUME:"action/player/set-volume",ENTER_FULLSCREEN:"action/player/enter-fullscreen",EXIT_FULLSCREEN:"action/player/exit-fullscreen"},w="griffith";var O,k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",n=arguments.length>2?arguments[2]:void 0;return{subscribeMessage:function(r){function a(a){var o=a.origin||a.originalEvent.origin,i="*"===t||t===o,s=a.data||{},c=s.from,l=s.id,u=s.payload;if(i&&c===w&&(!n||e===l)&&u){var d=u.messageName,p=u.data;d&&r(d,p,a.source)}}return window.addEventListener("message",a),{unsubscribe:function(){return window.removeEventListener("message",a)}}},dispatchMessage:function(n,r,a){n&&n.postMessage&&n.postMessage({from:w,id:e,payload:{messageName:r,data:a}},t||"*")}}},j=n(46),_=n(22),S=n(218),x=n(1714),E=n(1821),N=n.n(E),A=function(e,t){return e+(t?Date.now()-t:0)},I=function(e,t){return Math.abs(e-t)<.01},T={auto:"Auto",ld:"LD",sd:"SD",hd:"HD"},L={auto:"自动",ld:"低清",sd:"标清",hd:"超清"},P=[1,2,3,5,8,13];function R(e){var t,n="sd",r=0,a=null,o=0,i=null,s=!1,c=0,l=0;function u(t,s){e(t,Object.assign({play_event_identifier:a,duration:1e3*r,elapsed:A(o,i),video_quality:T[n]},s))}function d(){(++l<15?P.includes(l):l%15==0)&&u({action:"Playing"})}function p(){clearInterval(t)}return{handlePlayEvent:function(e){var n=e.currentTime,s=e.duration;r=s,I(n,0)&&(a=N()(),o=0),i=Date.now(),I(n,0)?u({action:"Play"}):u({action:"ResumePlay"}),l=0,p(),t=setInterval(d,1e3)},handlePauseEvent:function(e){var t=e.currentTime,n=e.duration;i&&(o+=Date.now()-i,i=null),I(t,n)?u({action:"EndPlay"}):u({action:"Pause"}),p()},handleQualityChangeEvent:function(e){var t=e.quality;u({action:"Switch",name:L[t]}),n=t},handleFragmentLoading:function(){s||(c=Date.now())},handleFragmentLoaded:function(){s||(s=!0,u({action:"Load"},{video_load_time:Date.now()-c}))},clearTick:p}}var M=Object(h.connect)(function(e,t){var n=t.data,r=n.isLens,a=n.id;if(r){var o=!1;return"undefined"!=typeof window&&!Object(j.d)(e,{includeTablet:!0})&&/Chrome/.test(navigator.userAgent)&&(o="1"===Object(j.a)(e,"ls_fmp4")),{data:Object.assign({},t.data,{source:"lens",playerUrl:"https://www.zhihu.com/video/".concat(a)}),useMSE:o}}return{data:e.video.data[a]||t.data}},{showNotification:_.h,loadVideo:S.c})(O=Object(x.a)(function(e){var t=e.data,n=t.isLens,r=t.id,a=t.isPlayable;return{module:"VideoItem",content:{type:"Video",sub_type:n?"SelfHosted":"Embedded",video_id:r,is_playable:Boolean(a)},trackCardShow:!0,view:{id:174}}})(O=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).pauseVideoInIframe=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.messageHelper.dispatchMessage(e.contentWindow,a.PLAYER.PAUSE,{dontApplyOnFullScreen:t})},n.pauseAllOtherVideos=function(){Array.from(document.querySelectorAll("iframe")).filter(function(e){return e!==n.iframe}).forEach(function(e){return n.pauseVideoInIframe(e)})},n.handleMessage=function(e,t){var a=n.videoTracker,o=a.handlePlayEvent,i=a.handlePauseEvent,s=a.handleQualityChangeEvent,c=a.handleFragmentLoading,l=a.handleFragmentLoaded;switch(e){case r.DOM.PLAY:n.pauseAllOtherVideos(),o(t);break;case r.DOM.PAUSE:i(t);break;case r.PLAYER.QUALITY_CHANGE:s(t);break;case"fragment-loading":c(t);break;case"fragment-loaded":l(t)}},n.handleObserve=function(e){e[0].intersectionRatio<=0&&n.iframe&&n.pauseVideoInIframe(n.iframe,!0)},n.handlePlay=function(){n.props.trackEvent(Object(u.default)(n),{id:5500,action:"Play",element:"Video"})},n.handlePlayFailed=function(){(0,n.props.showNotification)("视频加载失败，请刷新页面重试","red")};var o=e.trackEvent,s=e.data;return n.messageHelper=k(s.id,"*",!0),n.videoTracker=R(function(e,t){o(Object(u.default)(n),e,{play:t})}),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=t.isLens,r=t.id,a=t.playerUrl,o=t.flvPlayerUrl,i=e.loadVideo;n||!r||a||o||i(r);var s=this.messageHelper.subscribeMessage;this.messageSubscription=s(this.handleMessage)}},{key:"componentWillUnmount",value:function(){this.messageSubscription.unsubscribe(),this.videoTracker.clearTick()}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.data.error,a=t.onBeforePlay,i=t.useMSE;return Object(p.b)("div",{className:"RichText-video"},r?Object(p.b)(v.a,n):Object(p.b)(m.a,{onObserve:this.handleObserve},Object(p.b)(b.b,Object(o.default)({},n,{onIframeRef:function(t){return e.iframe=t},onPlay:this.handlePlay,onPlayFailed:this.handlePlayFailed,onBeforePlay:a},i&&{useMSE:!0}))))}}]),t}(f.Component))||O)||O;t.a=M},1823:function(e,t,n){e.exports=a;var r=n(148).EventEmitter;function a(){r.call(this)}n(75)(a,r),a.Readable=n(1766),a.Writable=n(1976),a.Duplex=n(1977),a.Transform=n(1978),a.PassThrough=n(1979),a.Stream=a,a.prototype.pipe=function(e,t){var n=this;function a(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",a),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",c));var i=!1;function s(){i||(i=!0,e.end())}function c(){i||(i=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(u(),0===r.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",a),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",c),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",l),e.on("error",l),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e}},1824:function(e,t,n){e.exports=n(59)(285)},1827:function(e,t,n){var r=n(2060),a=n(2061),o=a;o.v1=r,o.v4=a,e.exports=o},1828:function(e,t,n){"use strict";var r=n(97);Object.defineProperty(t,"__esModule",{value:!0}),t.isGdtAd=p,t.getGdtLandingUrl=f,t.dispatch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.commonAd;return new Promise(function(n){i.default.ready().then(function(){i.default.supportsAction(t).then(function(r){r?i.default.dispatch(t,e).then(function(e){return n({status:!0,type:2,data:e})},function(e){return n({status:!1,type:2,data:e})}):n({status:!1,type:1})})}).catch(function(e){return n({status:!1,type:0,data:e})})})},t.openHybridNewAd=function(e,t,n){return g({ad:e,node:t,clickPoint:n,type:"open"})},t.preloadHybridNewAd=function(e,t){return g({ad:e,node:t,type:"preload"})},t.openWithoutDeepLinkNewAd=function(e,t,n){return g({ad:e,node:t,clickPoint:n,type:"openWithoutDeepLink"})},t.openFormNewAd=function(e){return g({ad:e,type:"adOpenForm"})},t.getHybridAd=h,t.openECommerceDeeplinkAd=function(e){var t=e.url;return new Promise(function(n){i.default.ready().then(function(){i.default.supportsAction("ad/eCommerceOpen").then(function(r){r?i.default.dispatch("ad/eCommerceOpen",e).then(function(e){e.status?n(!0):y(t)},function(){y(t)}):y(t)})}).catch(function(){y(t)})})},t.getHybridEvent=void 0;var a=r(n(91)),o=r(n(215)),i=r(n(83)),s=n(12),c=n(1723);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,a.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d={commonAd:"ad/open",preloadAd:"ad/preload",answerAd:"answer/openAd",adOpenForm:"ad/openForm",openWithoutDeepLink:"ad/openWithoutDeepLink"};function p(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").indexOf("c.gdt.qq.com")>-1}function f(e,t,n){if(!p(e)||!t||!n)return e;var r=t.getBoundingClientRect(),a=r.left,o=r.top,i=n.clientX-a,s=n.clientY-o,c={__DOWN_X__:Math.abs(i),__DOWN_Y__:Math.abs(s),__UP_X__:Math.abs(i),__UP_Y__:Math.abs(s)};return Object.keys(c).reduce(function(e,t){return e.replace(t,c[t])},e)}function h(e,t,n,r){console.log("We are sending a ".concat(t," request to Hybrid"));var a=e.conversionTracks,i=(0,o.default)(e.creatives,1)[0],c=e.videoProgress,l=e.sdk,u=e.conversionTrackJs,p=e.experimentInfo,h=e.extraConversionTracks,m=e.canvas,b=e.expand,v=void 0===b?{}:b,g=i.asset,y=i.videoInfo,C=v.downloadSilent,w=void 0!==C&&C,O=v.isNewWebview,k=void 0!==O&&O,j=v.isCdnSpeeding,_=v.cdnMap,S=g.landingUrl,x=g.appPromotionUrl,E=g.deepUrl,N=g.packageName,A=g.brandName,I=g.brandLogo,T=g.nativeUrl,L=void 0===T?"":T,P={name:A,logo:I};return[d.commonAd,d.preloadAd,d.adOpenForm].includes(t)?{is_speeding:j,cdn_map:_,download_silent:w,conversion_tracks:a,sdk:(0,s.decamelizeKeys)(l),conversion_track_js:u,extra_conversion_tracks:(0,s.decamelizeKeys)(h),experiment_info:p,creative:{package_name:N,shouldUseNewWebView:k,landing_url:f(S,n,r),app_promotion_url:x,deep_url:E,thumbnail_extra_info:(0,s.decamelizeKeys)(y),video_progress:c,brand:P,native_url:L,canvas:(0,s.decamelizeKeys)(m)}}:{ad:{downloadSilent:w,conversionTracks:a,sdk:l,creatives:[{shouldUseNewWebView:k,landingUrl:f(S,n,r),conversionTracks:a,appPromotionUrl:x,deepUrl:E,brand:P,nativeUrl:L}]}}}function m(e){var t=e.sdk,n=e.adjsonStr,r=e.videoProgress,a=(0,o.default)(e.creatives,1)[0].videoInfo;return{adjson:n,sdk:(0,s.decamelizeKeys)(t),video_progress:r,extra_thumbnail_info:(0,s.decamelizeKeys)(a)}}function b(e,t,n,r){return console.log("getHybridParams(ad, ".concat(t,", node, clickPoint) :"),u({},m(e),{ad:h(e,t,n,r)})),u({},m(e),{ad:h(e,t,n,r)})}var v=function(e){switch(e){case"preload":return d.preloadAd;case"adOpenForm":return d.adOpenForm;case"openWithoutDeepLink":return d.openWithoutDeepLink;default:return d.commonAd}};function g(e){var t=e.ad,n=e.node,r=e.clickPoint,a=e.type,o=v(a);return new Promise(function(e){i.default.ready().then(function(){return i.default.supportsAction(o).then(function(a){a?i.default.dispatch(o,b(t,o,n,r)).then(function(){return e(!0)},function(){return e(!1)}):o===d.commonAd?i.default.dispatch(d.answerAd,b(t,d.answerAd,n,r)).then(function(){return e(!0)},function(){return e(!1)}):o===d.openWithoutDeepLink&&i.default.dispatch(d.commonAd,b(t,d.commonAd,n,r)).then(function(){return e(!0)},function(){return e(!1)})})}).catch(function(){var e=(0,c.get)(t,"creatives[0].asset.landingUrl","");if(e&&["ad/open","ad/openWithoutDeepLink"].includes(o)){var n=document.createElement("a");n.href=e,n.click()}})})}function y(e){if(e){var t=document.createElement("a");t.href=e,t.click()}}t.getHybridEvent=v},1830:function(e,t,n){var r;
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r))e.push(a.apply(null,r));else if("object"===o)for(var i in r)n.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}e.exports?e.exports=a:void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},1831:function(e,t,n){"use strict";t.a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach(function(t){return function(e,t){"object"==typeof t?t.current=e:"function"==typeof t&&t(e)}(e,t)})}}},1832:function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,i=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,u=l&&l(Object);e.exports=function e(t,n,d){if("string"!=typeof n){if(u){var p=l(n);p&&p!==u&&e(t,p,d)}var f=i(n);s&&(f=f.concat(s(n)));for(var h=0;h<f.length;++h){var m=f[h];if(!(r[m]||a[m]||d&&d[m])){var b=c(n,m);try{o(t,m,b)}catch(e){}}}return t}return t}},1833:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var a=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}},1834:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,a=n;return[a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]]].join("")}},1835:function(e,t,n){var r=n(1836),a={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},o={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:a,input:a,output:a,button:a,datalist:a,textarea:a,option:{option:!0},optgroup:{optgroup:!0}},i={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygon:!0},s=/\s|\//;function c(e,t){this._options=t||{},this._cbs=e||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(r=this._options.Tokenizer),this._tokenizer=new r(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}n(75)(c,n(148).EventEmitter),c.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},c.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},c.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&e in o)for(var t;(t=this._stack[this._stack.length-1])in o[e];this.onclosetag(t));!this._options.xmlMode&&e in i||this._stack.push(e),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},c.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in i&&this._cbs.onclosetag(this._tagname),this._tagname=""},c.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),!this._stack.length||e in i&&!this._options.xmlMode)this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},c.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing?this._closeCurrentTag():this.onopentagend()},c.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},c.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},c.prototype.onattribdata=function(e){this._attribvalue+=e},c.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},c.prototype._getInstructionName=function(e){var t=e.search(s),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},c.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},c.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},c.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},c.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},c.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},c.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},c.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},c.prototype.parseComplete=function(e){this.reset(),this.end(e)},c.prototype.write=function(e){this._tokenizer.write(e)},c.prototype.end=function(e){this._tokenizer.end(e)},c.prototype.pause=function(){this._tokenizer.pause()},c.prototype.resume=function(){this._tokenizer.resume()},c.prototype.parseChunk=c.prototype.write,c.prototype.done=c.prototype.end,e.exports=c},1836:function(e,t,n){e.exports=ge;var r,a,o=n(1837),i=n(1782),s=n(1838),c=n(1783),l=0,u=l++,d=l++,p=l++,f=l++,h=l++,m=l++,b=l++,v=l++,g=l++,y=l++,C=l++,w=l++,O=l++,k=l++,j=l++,_=l++,S=l++,x=l++,E=l++,N=l++,A=l++,I=l++,T=l++,L=l++,P=l++,R=l++,M=l++,D=l++,B=l++,q=l++,F=l++,z=l++,V=l++,U=l++,H=l++,W=l++,G=l++,K=l++,X=l++,Y=l++,Z=l++,Q=l++,$=l++,J=l++,ee=l++,te=l++,ne=l++,re=l++,ae=l++,oe=l++,ie=l++,se=l++,ce=l++,le=l++,ue=l++,de=0,pe=de++,fe=de++,he=de++;function me(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function be(e,t,n){var r=e.toLowerCase();return e===r?function(e){e===r?this._state=t:(this._state=n,this._index--)}:function(a){a===r||a===e?this._state=t:(this._state=n,this._index--)}}function ve(e,t){var n=e.toLowerCase();return function(r){r===n||r===e?this._state=t:(this._state=p,this._index--)}}function ge(e,t){this._state=u,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=u,this._special=pe,this._cbs=t,this._running=!0,this._ended=!1,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}ge.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=d,this._sectionStart=this._index):this._decodeEntities&&this._special===pe&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=u,this._state=ie,this._sectionStart=this._index)},ge.prototype._stateBeforeTagName=function(e){"/"===e?this._state=h:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||this._special!==pe||me(e)?this._state=u:"!"===e?(this._state=j,this._sectionStart=this._index+1):"?"===e?(this._state=S,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?p:F,this._sectionStart=this._index)},ge.prototype._stateInTagName=function(e){("/"===e||">"===e||me(e))&&(this._emitToken("onopentagname"),this._state=v,this._index--)},ge.prototype._stateBeforeCloseingTagName=function(e){me(e)||(">"===e?this._state=u:this._special!==pe?"s"===e||"S"===e?this._state=z:(this._state=u,this._index--):(this._state=m,this._sectionStart=this._index))},ge.prototype._stateInCloseingTagName=function(e){(">"===e||me(e))&&(this._emitToken("onclosetag"),this._state=b,this._index--)},ge.prototype._stateAfterCloseingTagName=function(e){">"===e&&(this._state=u,this._sectionStart=this._index+1)},ge.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=u,this._sectionStart=this._index+1):"/"===e?this._state=f:me(e)||(this._state=g,this._sectionStart=this._index)},ge.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=u,this._sectionStart=this._index+1):me(e)||(this._state=v,this._index--)},ge.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||me(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=y,this._index--)},ge.prototype._stateAfterAttributeName=function(e){"="===e?this._state=C:"/"===e||">"===e?(this._cbs.onattribend(),this._state=v,this._index--):me(e)||(this._cbs.onattribend(),this._state=g,this._sectionStart=this._index)},ge.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=w,this._sectionStart=this._index+1):"'"===e?(this._state=O,this._sectionStart=this._index+1):me(e)||(this._state=k,this._sectionStart=this._index,this._index--)},ge.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=v):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ge.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=v):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ge.prototype._stateInAttributeValueNoQuotes=function(e){me(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=v,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ie,this._sectionStart=this._index)},ge.prototype._stateBeforeDeclaration=function(e){this._state="["===e?I:"-"===e?x:_},ge.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=u,this._sectionStart=this._index+1)},ge.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=u,this._sectionStart=this._index+1)},ge.prototype._stateBeforeComment=function(e){"-"===e?(this._state=E,this._sectionStart=this._index+1):this._state=_},ge.prototype._stateInComment=function(e){"-"===e&&(this._state=N)},ge.prototype._stateAfterComment1=function(e){this._state="-"===e?A:E},ge.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=u,this._sectionStart=this._index+1):"-"!==e&&(this._state=E)},ge.prototype._stateBeforeCdata1=be("C",T,_),ge.prototype._stateBeforeCdata2=be("D",L,_),ge.prototype._stateBeforeCdata3=be("A",P,_),ge.prototype._stateBeforeCdata4=be("T",R,_),ge.prototype._stateBeforeCdata5=be("A",M,_),ge.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=D,this._sectionStart=this._index+1):(this._state=_,this._index--)},ge.prototype._stateInCdata=function(e){"]"===e&&(this._state=B)},ge.prototype._stateAfterCdata1=(r="]",a=q,function(e){e===r&&(this._state=a)}),ge.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=u,this._sectionStart=this._index+1):"]"!==e&&(this._state=D)},ge.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=V:"t"===e||"T"===e?this._state=$:(this._state=p,this._index--)},ge.prototype._stateBeforeSpecialEnd=function(e){this._special!==fe||"c"!==e&&"C"!==e?this._special!==he||"t"!==e&&"T"!==e?this._state=u:this._state=ne:this._state=K},ge.prototype._stateBeforeScript1=ve("R",U),ge.prototype._stateBeforeScript2=ve("I",H),ge.prototype._stateBeforeScript3=ve("P",W),ge.prototype._stateBeforeScript4=ve("T",G),ge.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||me(e))&&(this._special=fe),this._state=p,this._index--},ge.prototype._stateAfterScript1=be("R",X,u),ge.prototype._stateAfterScript2=be("I",Y,u),ge.prototype._stateAfterScript3=be("P",Z,u),ge.prototype._stateAfterScript4=be("T",Q,u),ge.prototype._stateAfterScript5=function(e){">"===e||me(e)?(this._special=pe,this._state=m,this._sectionStart=this._index-6,this._index--):this._state=u},ge.prototype._stateBeforeStyle1=ve("Y",J),ge.prototype._stateBeforeStyle2=ve("L",ee),ge.prototype._stateBeforeStyle3=ve("E",te),ge.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||me(e))&&(this._special=he),this._state=p,this._index--},ge.prototype._stateAfterStyle1=be("Y",re,u),ge.prototype._stateAfterStyle2=be("L",ae,u),ge.prototype._stateAfterStyle3=be("E",oe,u),ge.prototype._stateAfterStyle4=function(e){">"===e||me(e)?(this._special=pe,this._state=m,this._sectionStart=this._index-5,this._index--):this._state=u},ge.prototype._stateBeforeEntity=be("#",se,ce),ge.prototype._stateBeforeNumericEntity=be("X",ue,le),ge.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?c:i;t.hasOwnProperty(e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},ge.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var n=this._buffer.substr(e,t);if(s.hasOwnProperty(n))return this._emitPartial(s[n]),void(this._sectionStart+=t+1);t--}},ge.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==u?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},ge.prototype._decodeNumericEntity=function(e,t){var n=this._sectionStart+e;if(n!==this._index){var r=this._buffer.substring(n,this._index),a=parseInt(r,t);this._emitPartial(o(a)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},ge.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},ge.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},ge.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===u?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},ge.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},ge.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);this._state===u?this._stateText(e):this._state===d?this._stateBeforeTagName(e):this._state===p?this._stateInTagName(e):this._state===h?this._stateBeforeCloseingTagName(e):this._state===m?this._stateInCloseingTagName(e):this._state===b?this._stateAfterCloseingTagName(e):this._state===f?this._stateInSelfClosingTag(e):this._state===v?this._stateBeforeAttributeName(e):this._state===g?this._stateInAttributeName(e):this._state===y?this._stateAfterAttributeName(e):this._state===C?this._stateBeforeAttributeValue(e):this._state===w?this._stateInAttributeValueDoubleQuotes(e):this._state===O?this._stateInAttributeValueSingleQuotes(e):this._state===k?this._stateInAttributeValueNoQuotes(e):this._state===j?this._stateBeforeDeclaration(e):this._state===_?this._stateInDeclaration(e):this._state===S?this._stateInProcessingInstruction(e):this._state===x?this._stateBeforeComment(e):this._state===E?this._stateInComment(e):this._state===N?this._stateAfterComment1(e):this._state===A?this._stateAfterComment2(e):this._state===I?this._stateBeforeCdata1(e):this._state===T?this._stateBeforeCdata2(e):this._state===L?this._stateBeforeCdata3(e):this._state===P?this._stateBeforeCdata4(e):this._state===R?this._stateBeforeCdata5(e):this._state===M?this._stateBeforeCdata6(e):this._state===D?this._stateInCdata(e):this._state===B?this._stateAfterCdata1(e):this._state===q?this._stateAfterCdata2(e):this._state===F?this._stateBeforeSpecial(e):this._state===z?this._stateBeforeSpecialEnd(e):this._state===V?this._stateBeforeScript1(e):this._state===U?this._stateBeforeScript2(e):this._state===H?this._stateBeforeScript3(e):this._state===W?this._stateBeforeScript4(e):this._state===G?this._stateBeforeScript5(e):this._state===K?this._stateAfterScript1(e):this._state===X?this._stateAfterScript2(e):this._state===Y?this._stateAfterScript3(e):this._state===Z?this._stateAfterScript4(e):this._state===Q?this._stateAfterScript5(e):this._state===$?this._stateBeforeStyle1(e):this._state===J?this._stateBeforeStyle2(e):this._state===ee?this._stateBeforeStyle3(e):this._state===te?this._stateBeforeStyle4(e):this._state===ne?this._stateAfterStyle1(e):this._state===re?this._stateAfterStyle2(e):this._state===ae?this._stateAfterStyle3(e):this._state===oe?this._stateAfterStyle4(e):this._state===ie?this._stateBeforeEntity(e):this._state===se?this._stateBeforeNumericEntity(e):this._state===ce?this._stateInNamedEntity(e):this._state===le?this._stateInNumericEntity(e):this._state===ue?this._stateInHexEntity(e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},ge.prototype.pause=function(){this._running=!1},ge.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},ge.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},ge.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},ge.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);this._state===D||this._state===B||this._state===q?this._cbs.oncdata(e):this._state===E||this._state===N||this._state===A?this._cbs.oncomment(e):this._state!==ce||this._xmlMode?this._state!==le||this._xmlMode?this._state!==ue||this._xmlMode?this._state!==p&&this._state!==v&&this._state!==C&&this._state!==y&&this._state!==g&&this._state!==O&&this._state!==w&&this._state!==k&&this._state!==m&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},ge.prototype.reset=function(){ge.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},ge.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},ge.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},ge.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},ge.prototype._emitPartial=function(e){this._baseState!==u?this._cbs.onattribdata(e):this._cbs.ontext(e)}},1837:function(e,t,n){var r=n(2063);e.exports=function(e){if(e>=55296&&e<=57343||e>1114111)return"�";e in r&&(e=r[e]);var t="";e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e);return t+=String.fromCharCode(e)}},1838:function(e){e.exports={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",amp:"&",AMP:"&",Aring:"Å",aring:"å",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",brvbar:"¦",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",iquest:"¿",Iuml:"Ï",iuml:"ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",Ntilde:"Ñ",ntilde:"ñ",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",Ograve:"Ò",ograve:"ò",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",Ouml:"Ö",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",THORN:"Þ",thorn:"þ",times:"×",Uacute:"Ú",uacute:"ú",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",Uuml:"Ü",uuml:"ü",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ"}},1839:function(e,t){var n=e.exports={get firstChild(){var e=this.children;return e&&e[0]||null},get lastChild(){var e=this.children;return e&&e[e.length-1]||null},get nodeType(){return a[this.type]||a.element}},r={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},a={element:1,text:3,cdata:4,comment:8};Object.keys(r).forEach(function(e){var t=r[e];Object.defineProperty(n,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})})},1840:function(e,t,n){e.exports=s;var r=n(1835),a=n(1823).Writable||n(2068).Writable,o=n(249).StringDecoder,i=n(214).Buffer;function s(e,t){var n=this._parser=new r(e,t),i=this._decoder=new o;a.call(this,{decodeStrings:!1}),this.once("finish",function(){n.end(i.end())})}n(75)(s,a),a.prototype._write=function(e,t,n){e instanceof i&&(e=this._decoder.write(e)),this._parser.write(e),n()}},1841:function(e,t,n){var r=n(1769),a=n(473),o=n(1819),i=n(1820),s=n(93),c=n(1986),l="Expected a function",u=8,d=32,p=128,f=256;e.exports=function(e){return a(function(t){var n=t.length,a=n,h=r.prototype.thru;for(e&&t.reverse();a--;){var m=t[a];if("function"!=typeof m)throw new TypeError(l);if(h&&!b&&"wrapper"==i(m))var b=new r([],!0)}for(a=b?a:n;++a<n;){m=t[a];var v=i(m),g="wrapper"==v?o(m):void 0;b=g&&c(g[0])&&g[1]==(p|u|d|f)&&!g[4].length&&1==g[9]?b[i(g[0])].apply(b,g[3]):1==m.length&&c(m)?b[v]():b.thru(m)}return function(){var e=arguments,r=e[0];if(b&&1==e.length&&s(r))return b.plant(r).value();for(var a=0,o=n?t[a].apply(this,e):r;++a<n;)o=t[a].call(this,o);return o}})}},1842:function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r=n(4),a=n(5),o=n(8),i=n(6),s=n(7),c=n(0),l=n.n(c),u=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"handleEvent",value:function(e){e.stopPropagation()}},{key:"render",value:function(){return l.a.createElement("div",{onBeforeInput:this.handleEvent,onBlur:this.handleEvent,onCompositionEnd:this.handleEvent,onCompositionStart:this.handleEvent,onCopy:this.handleEvent,onCut:this.handleEvent,onDragEnd:this.handleEvent,onDragEnter:this.handleEvent,onDragLeave:this.handleEvent,onDragOver:this.handleEvent,onDragStart:this.handleEvent,onDrop:this.handleEvent,onFocus:this.handleEvent,onInput:this.handleEvent,onKeyDown:this.handleEvent,onKeyPress:this.handleEvent,onKeyUp:this.handleEvent,onMouseUp:this.handleEvent,onPaste:this.handleEvent,onSelect:this.handleEvent,onClick:this.handleEvent},this.props.children)}}]),t}(l.a.Component)},1856:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(16),i=n.n(o),s=(n(2054),function(e){var t=e.avatar,n=e.bottom,r=e.button,o=e.className,s=e.height,c=e.icon,l=e.inline,u=e.right,d=e.style,p=void 0===d?{}:d,f=e.title,h=e.width,m=Object.assign({},p);return h&&(m.width="".concat(h,"px")),s&&(m.height="".concat(s,"px")),n&&(m.marginBottom="".concat(n,"px")),u&&(m.marginRight="".concat(u,"px")),a.a.createElement("div",{className:i()("Holder",o,{"Holder--inline":l,"Holder--title":f,"Holder--icon":c,"Holder--button":r,"Holder--avatar":t}),style:m})});n.d(t,"a",function(){return s})},1857:function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},a=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};u.prototype.append=function(e,t){e=s(e),t=c(t);var n=this.map[e];this.map[e]=n?n+","+t:t},u.prototype.delete=function(e){delete this.map[s(e)]},u.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},u.prototype.set=function(e,t){this.map[s(e)]=c(t)},u.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},u.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),l(e)},u.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},u.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),l(e)},t.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},m.call(b.prototype),m.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var i=[301,302,303,307,308];g.redirect=function(e,t){if(-1===i.indexOf(t))throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=u,e.Request=b,e.Response=g,e.fetch=function(e,n){return new Promise(function(r,a){var o=new b(e,n),i=new XMLHttpRequest;i.onload=function(){var e,t,n={status:i.status,statusText:i.statusText,headers:(e=i.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var a=n.join(":").trim();t.append(r,a)}}),t)};n.url="responseURL"in i?i.responseURL:n.headers.get("X-Request-URL");var a="response"in i?i.response:i.responseText;r(new g(a,n))},i.onerror=function(){a(new TypeError("Network request failed"))},i.ontimeout=function(){a(new TypeError("Network request failed"))},i.open(o.method,o.url,!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&t.blob&&(i.responseType="blob"),o.headers.forEach(function(e,t){i.setRequestHeader(t,e)}),i.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function u(e){this.map={},e instanceof u?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function f(e){var t=new FileReader,n=p(t);return t.readAsArrayBuffer(e),n}function h(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=h(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!a(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(f)}),this.text=function(){var e,t,n,r=d(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=p(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}function b(e,t){var n,r,a=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,a||null==e._bodyInit||(a=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new u(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),o.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&a)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(a)}function v(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),a=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(a))}}),t}function g(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},1861:function(e,t,n){"use strict";var r=n(28),a=n(31),o=n.n(a),i=n(3),s=n.n(i),c=n(0),l=n.n(c),u=n(16),d=n.n(u),p=n(2056),f=n.n(p),h=n(1753),m=n(2014),b=/([-\w]+)(="([^"]+)"|='([^']+)')?/g,v=function(e){for(var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).decodeValue,r=void 0!==n&&n,a={};t=b.exec(e);){var o=t[1],i=t[3]||t[4];a[o]=(r?y(i):i)||""}return a},g=function(e){if(!e)return null;try{return JSON.parse(e)}catch(e){return null}};function y(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/&amp;/g,"&").replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#34;/g,'"').replace(/&#13;/g,"\r")}var C=/<a\b([^>]*data-draft-type="link-card"[^>]*)>(.*?)<\/a>/g,w=function(e){return e?e.replace(C,function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=v(t,{decodeValue:!0}),a=r.target,o=void 0===a?"_blank":a,i=r.href,s=void 0===i?"":i,c=r["data-image"],u=r["data-image-width"],d=r["data-image-height"],p=r["data-entity-type"],f=r["data-entity-data"],b=n.replace(/<[^>]*>/g,"");return b=y(b),Object(h.renderToStaticMarkup)(l.a.createElement(m.a,{text:b,url:s,target:o,image:c,imageWidth:u,imageHeight:d,entityType:p,entityData:g(f)}))}):e},O=/<p><br><\/p>/g,k=function(e){return e?e.replace(O,'<p class="ztext-empty-paragraph"><br /></p>'):e},j=n(1991),_=/<sup\b([^>]*data-draft-type="reference"[^>]*)>(.*?)<\/sup>/g,S=function(e){return function(t){return function(e,t){if(!e)return e;var n=e,r=[];return n=n.replace(_,function(e,n){var a=v(n,{decodeValue:!0}),o=a["data-text"],i=void 0===o?"":o,s=a["data-url"],c=void 0===s?"":s,u=a["data-numero"],d=t?"ref_".concat(t,"_").concat(u):"ref_".concat(u),p=r.filter(function(e){return e.refKey===d}),f="".concat(d,"_").concat(p.length);r.push({refKey:d,text:i,url:c,numero:u});var m=[i,c].filter(Boolean).join(" ");return Object(h.renderToStaticMarkup)(l.a.createElement("sup",{"data-text":i,"data-url":c,"data-numero":u,"data-draft-node":"inline","data-draft-type":"reference","data-tooltip":m,"data-tooltip-preset":"white","data-tooltip-classname":"ztext-referene-tooltip"},l.a.createElement("a",{id:f,href:"#".concat(d),"data-reference-link":!0,"aria-labelledby":d},"[",u,"]")))}),r.length?n=n.concat(Object(h.renderToStaticMarkup)(l.a.createElement(j.a,{referenceList:r}))):n}(t,e)}},x=function(e){Object(c.useEffect)(function(){e&&Array.from(e.querySelectorAll("img[eeimg]")).forEach(function(e){e.setAttribute("data-formula",e.alt),e.alt="[公式]"})},[e])},E=n(1993),N=n(37),A=n(1994),I=function(e,t){var n=Object(c.useState)(null),a=Object(r.a)(n,2),o=a[0],i=a[1];return Object(c.useEffect)(function(){if(e){var n=Array.from(e.querySelectorAll("a[data-mcn-id]"));if(n.length){var r=n.map(function(e){return function(e){var t={id:e.dataset.mcnId},n=document.createElement("div");return n.className="RichText-MCNLinkCardContainer",e.parentNode.replaceChild(n,e),{data:t,target:n}}(e)}).map(function(e,n){var r=e.data,a=e.target;return Object(N.createPortal)(l.a.createElement(A.b,Object.assign({key:n,id:r.id,scenes:A.a.CONTENT},t)),a)});i(r)}}},[e]),o},T=n(1996),L=function(e,t){var n=Object(c.useState)(null),a=Object(r.a)(n,2),o=a[0],i=a[1],s=t.onClick;return Object(c.useEffect)(function(){if(e){var t=Array.from(e.querySelectorAll("a[data-metalink-id]"));if(t.length){var n=t.map(function(e){return function(e){var t={id:e.dataset.metalinkId},n=document.createElement("div");return n.className="RichText-MetaLinkCardContainer",e.parentNode.replaceChild(n,e),{data:t,target:n}}(e)}).map(function(e,t){var n=e.data,r=e.target;return Object(N.createPortal)(l.a.createElement(T.a,{key:t,id:n.id,onClick:s}),r)});i(n)}}},[e]),o},P=n(136),R=n.n(P),M=n(74),D=n(19),B=n(1786),q=R()(function(){return/Mobile/.test(navigator.userAgent)});function F(e,t){var n={monitor:{type:"Event",imgResourceErrorInfo:{error_description:t,img_url:e,img_from:"web"}}};D.default.trackMonitor({name:t},n)}var z=function(e){return function(t){var n,r=t.target,a=(n=r.dataset.actualsrc,Object(M.imgUrl)(n,{quality:q()?50:80,size:"hd"}));if(r.src=a,r.complete)r.dataset.lazyStatus="ok";else{e&&r.addEventListener("loadstart",function(){e("loadstart",a)}),r.dataset.lazyStatus="loading";var o=setTimeout(function(){r.complete||F(r.url,"image_web_timeout_image"),e&&e("timeout",a)},3e3);r.addEventListener("load",function(){r.dataset.lazyStatus="ok",clearTimeout(o),F(r.url,"image_web_success_image"),e&&e("load",a)}),r.addEventListener("error",function(){clearTimeout(o),F(r.url,"image_web_fail_image"),e&&e("error",a)})}}},V=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.disabled,a=void 0!==n&&n,o=t.onLoadStateChange,i=Object(c.useState)([]),s=Object(r.a)(i,2),l=s[0],u=s[1];Object(B.a)(l,z(o),{rootMargin:"300px"}),Object(c.useEffect)(function(){if(e&&!a){var t=Array.from(e.querySelectorAll("img.lazy:not([data-thumbnail])"));t.length&&u(t)}},[e,a])},U=(n(1824),function(e){var t=function(e){if(0!==e.intersectionRatio){var t=e.target;t.dataset.zaDetailViewId=t.cardShowViewId,D.default.trackCardShow(t,{},{link:{url:t.href}}),n.unobserve(t),t.dataset.zaDetailViewId=t.clickViewId}},n=new IntersectionObserver(function(e){e.forEach(t)},{threshold:[.1]});return[{cardShowViewId:1042,clickViewId:1043,selector:"a.external, a.internal"},{cardShowViewId:1044,clickViewId:1045,selector:"a.member_mention, a.UserLink-link"},{cardShowViewId:174,clickViewId:175,selector:"a.video-box"},{cardShowViewId:171,clickViewId:172,selector:'a[data-draft-type="link-card"]'}].forEach(function(t){var r=t.selector,a=t.cardShowViewId,o=t.clickViewId;Array.from(e.querySelectorAll(r)).forEach(function(e){e.cardShowViewId=a,e.clickViewId=o,n.observe(e)})}),function(){n.disconnect()}}),H="function"==typeof queueMicrotask?queueMicrotask:function(e){return Promise.resolve().then(e)},W=function(e){var t=Object(c.useRef)(null);Object(c.useEffect)(function(){if(e)return H(function(){e&&(t.current=U(e))}),function(){t.current&&t.current()}},[e])},G=n(1831),K=(n(1998),n(789),n(2057),f()([k,S(),w])),X=function(e){var t=e.tag,n=void 0===t?"div":t,a=e.className,i=e.html,s=e.onRef,u=e.mcnLinkCardProps,p=void 0===u?{}:u,f=e.metaLinkCardProps,h=void 0===f?{}:f,m=e.clearBoth,b=void 0!==m&&m,v=e.lazyLoadImageProps,g=o()(e,["tag","className","html","onRef","mcnLinkCardProps","metaLinkCardProps","clearBoth","lazyLoadImageProps"]),y=Object(c.useState)(null),C=Object(r.a)(y,2),w=C[0],O=C[1];return x(w),Object(E.a)(w),W(w),V(w,v),l.a.createElement(l.a.Fragment,null,I(w,p),L(w,h),l.a.createElement(n,Object.assign({key:i,ref:Object(c.useCallback)(Object(G.a)(O,s),[]),className:d()("RichText","ztext",a,{"RichText--clearBoth":b}),dangerouslySetInnerHTML:{__html:K(i)}},g)))};X.propTypes={tag:s.a.string,html:s.a.string.isRequired,clearBoth:s.a.bool,onRef:s.a.oneOfType([s.a.func,s.a.object])};var Y=l.a.memo(X);n.d(t,"a",function(){return Y})},1862:function(e,t,n){"use strict";var r,a,o,i,s=n(2),c=n(4),l=n(5),u=n(8),d=n(6),p=n(7),f=n(1),h=n(0),m=n(3),b=n.n(m),v=n(21),g=n(2296),y=n(57),C=n(29),w=n(85),O=(n(2162),{all:"开放评论",censor:"预审评论",nobody:"关闭评论"}),k={all:"允许任何人评论",follower:"允许关注我的人评论",censor:"评论由我筛选后显示",followee:"允许我关注的人评论",paid:"付费用户可评论",nobody:"关闭评论"},j=Object(v.connect)(function(e){return{isOrg:Object(C.g)(e)}})((o=a=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).handleClickOption=function(e){var t=n.props,r=t.isOrg,a=t.target,o=t.onChange,i=t.current;if(e!==i)if(a){var s=a.id;a.adminClosedComment?Object(w.b)("此内容无法更改评论权限",{theme:"red-ghost"}):r||"censor"!==e&&"censor"!==i?o(s,e):Object(w.a)("你确定要更改评论权限吗？",{content:"censor"===e?"更改后，已有评论不变，新评论需要经过筛选才会公开显示":"更改后，所有待筛选评论都会被公开显示出来"}).then(function(){return o(s,e)}).catch(function(){return null})}else o(e)},n.getCommentPermission=function(){var e=n.props.target,t=e&&"answer"===e.type&&"paid"===e.answerType;return Object.keys(k).filter(function(n){if("paid"!==n||t)return"follower"!==n||e&&"article"===e.type}).reduce(function(e,t){return Object.assign({},e,Object(s.a)({},t,k[t]))},{})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.isOrg,r=t.current,a=n?O:this.getCommentPermission();return Object(f.b)(h.Fragment,null,Object.keys(a).map(function(t){var n=t===r;return Object(f.b)(y.b,{key:t,onClick:function(){return e.handleClickOption(t)},className:"CommentPermission-item"},n&&Object(f.b)(g.a,{text:!0,center:!0}),a[t])}))}}]),t}(h.Component),a.propTypes={current:b.a.string.isRequired,target:b.a.object,onChange:b.a.func.isRequired},r=o))||r,_=n(44),S=n(2163),x=n.n(S),E=n(1714),N=Object(E.a)({view:{id:3038},trackCardShow:!0})(i=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return Object(f.b)("img",{src:x.a,style:{maxWidth:"200px",marginTop:"30px"},alt:"delete-comment-success"})}}]),t}(h.Component))||i;N.showModal=function(e){_.b.open(function(t){var n=(e||{}).reportText;return setTimeout(t,2e3),Object(f.b)(_.b,{title:"举报成功",onClose:t},Object(f.b)("div",{style:{textAlign:"center"}},Object(f.b)("div",null,n||"你的举报我们已经收到，处理完成后将会私信告知处理结果。"),Object(f.b)(N,null)))})};var A=N,I=n(17),T=n(150),L=(n(2164),function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={reportModalShown:!1},n.handleSubmit=function(){var e=n.props,t=e.id,r=e.onDelete,a=e.onClose;r(t),a()},n.handleReportModalOpen=function(){return n.setState({reportModalShown:!0})},n.handleReportModalClose=function(){n.setState({reportModalShown:!1}),n.handleSubmit()},n.handleSuccess=function(){n.handleSubmit()},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.shown,r=e.onClose,a=e.reportAndDeleteExperiment;return Object(f.b)(h.Fragment,null,Object(f.b)(_.b,{title:"你确定要删除这条评论吗？",closeButton:null,maskClosable:!1,hotKeyClosable:!1,onClose:r,footer:a&&Object(f.b)("div",{className:"CommentDeleteAndReport-extra"},"评论若构成举报条件可以",Object(f.b)(I.c,{preset:"link",onClick:this.handleReportModalOpen},"删除并举报"))},n&&Object(f.b)(_.a,{direction:"horizontal"},Object(f.b)(I.c,{onClick:r},"取消"),Object(f.b)(I.c,{preset:"primary",color:"blue",onClick:this.handleSubmit},"确定"))),Object(f.b)(T.a,{title:"删除成功，请选择举报理由",subtitle:"",shown:this.state.reportModalShown,type:"comment",urlToken:t,zaEnabled:!0,onSuccess:this.handleSuccess,onClose:this.handleReportModalClose}))}}]),t}(h.Component));n.d(t,"c",function(){return j}),n.d(t,"a",function(){return L}),n.d(t,"b",function(){return A})},1864:function(e,t,n){"use strict";function r(e){return"1"===e?{cardSize:"large",enableBackdrop:!1,sourceConvert:!1,tagPreset:"plain",enableMetaTag:!1,enableButton:!0,buttonPreset:"plain",buttonColor:"orange",enableHint:!1}:"2"===e?{cardSize:"large",enableBackdrop:!1,sourceConvert:!0,tagPreset:"plain",enableMetaTag:!0,enableButton:!0,buttonPreset:"plain",buttonColor:"orange",enableHint:!1}:"3"===e?{cardSize:"large",enableBackdrop:!1,sourceConvert:!1,tagPreset:"plain",enableMetaTag:!1,enableButton:!0,buttonPreset:"plain",buttonColor:"orange",enableHint:!0}:"4"===e?{cardSize:"large",enableBackdrop:!1,sourceConvert:!0,tagPreset:"plain",enableMetaTag:!0,enableButton:!1,buttonPreset:"plain",buttonColor:"orange",enableHint:!0}:"5"===e?{cardSize:"large",enableBackdrop:!1,sourceConvert:!1,tagPreset:"color",enableMetaTag:!1,enableButton:!0,buttonPreset:"primary",buttonColor:"orange",enableHint:!1}:"6"===e?{cardSize:"large",enableBackdrop:!1,sourceConvert:!0,tagPreset:"color",enableMetaTag:!0,enableButton:!0,buttonPreset:"primary",buttonColor:"orange",enableHint:!1}:"7"===e?{cardSize:"large",enableBackdrop:!1,sourceConvert:!0,tagPreset:"plain",enableMetaTag:!0,enableButton:!0,buttonPreset:"plain",buttonColor:"orange",enableHint:!0}:{}}n.d(t,"a",function(){return r})},1868:function(e,t,n){"use strict";var r=n(1870),a=n.n(r),o=n(180),i=n.n(o),s=n(245),c=n.n(s),l=n(257),u=n.n(l),d=n(349),p=n.n(d),f=n(179),h=n.n(f),m=n(350),b=n.n(m),v=n(91),g=n.n(v);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function C(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var w=n(0),O=n.n(w);n.d(t,"a",function(){return Fe}),n.d(t,"b",function(){return ne}),n.d(t,"d",function(){return le}),n.d(t,"c",function(){return te});var k={arr:Array.isArray,obj:function(e){return"[object Object]"===Object.prototype.toString.call(e)},fun:function(e){return"function"==typeof e},str:function(e){return"string"==typeof e},num:function(e){return"number"==typeof e},und:function(e){return void 0===e},nul:function(e){return null===e},set:function(e){return e instanceof Set},map:function(e){return e instanceof Map},equ:function(e,t){if(typeof e!=typeof t)return!1;if(k.str(e)||k.num(e))return e===t;if(k.obj(e)&&k.obj(t)&&Object.keys(e).length+Object.keys(t).length===0)return!0;var n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return!k.und(n)||e===t}};function j(){var e=Object(w.useState)(!1)[1];return Object(w.useCallback)(function(){return e(function(e){return!e})},[])}function _(e,t){return k.und(e)||k.nul(e)?t:e}function S(e){return k.und(e)?[]:k.arr(e)?e:[e]}function x(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return k.fun(e)?e.apply(void 0,n):e}function E(e){var t=function(e){return e.to,e.from,e.config,e.onStart,e.onRest,e.onFrame,e.children,e.reset,e.reverse,e.force,e.immediate,e.delay,e.attach,e.destroyed,e.interpolateTo,e.ref,e.lazy,C(e,["to","from","config","onStart","onRest","onFrame","children","reset","reverse","force","immediate","delay","attach","destroyed","interpolateTo","ref","lazy"])}(e);if(k.und(t))return y({to:t},e);var n=Object.keys(e).reduce(function(n,r){return k.und(t[r])?y({},n,g()({},r,e[r])):n},{});return y({to:t},n)}var N,A,I=function(){function e(){h()(this,e),this.payload=void 0,this.children=[]}return b()(e,[{key:"getAnimatedValue",value:function(){return this.getValue()}},{key:"getPayload",value:function(){return this.payload||this}},{key:"attach",value:function(){}},{key:"detach",value:function(){}},{key:"getChildren",value:function(){return this.children}},{key:"addChild",value:function(e){0===this.children.length&&this.attach(),this.children.push(e)}},{key:"removeChild",value:function(e){var t=this.children.indexOf(e);this.children.splice(t,1),0===this.children.length&&this.detach()}}]),e}(),T=function(e){function t(){var e;return h()(this,t),(e=i()(this,c()(t).apply(this,arguments))).payload=[],e.attach=function(){return e.payload.forEach(function(t){return t instanceof I&&t.addChild(u()(e))})},e.detach=function(){return e.payload.forEach(function(t){return t instanceof I&&t.removeChild(u()(e))})},e}return p()(t,e),t}(I),L=function(e){function t(){var e;return h()(this,t),(e=i()(this,c()(t).apply(this,arguments))).payload={},e.attach=function(){return Object.values(e.payload).forEach(function(t){return t instanceof I&&t.addChild(u()(e))})},e.detach=function(){return Object.values(e.payload).forEach(function(t){return t instanceof I&&t.removeChild(u()(e))})},e}return p()(t,e),b()(t,[{key:"getValue",value:function(e){void 0===e&&(e=!1);var t={};for(var n in this.payload){var r=this.payload[n];(!e||r instanceof I)&&(t[n]=r instanceof I?r[e?"getAnimatedValue":"getValue"]():r)}return t}},{key:"getAnimatedValue",value:function(){return this.getValue(!0)}}]),t}(I);function P(e,t){N={fn:e,transform:t}}function R(e){A=e}var M,D=function(e){return"undefined"!=typeof window?window.requestAnimationFrame(e):-1};function B(e){M=e}var q=function(){return Date.now()};function F(e){e}var z,V,U=function(e){return e.current};function H(e){z=e}var W=function(e){function t(e,n){var r;return h()(this,t),(r=i()(this,c()(t).call(this))).update=void 0,r.payload=e.style?y({},e,{style:z(e.style)}):e,r.update=n,r.attach(),r}return p()(t,e),t}(L),G=!1,K=new Set,X=function e(){if(!G)return!1;var t=q(),n=!0,r=!1,a=void 0;try{for(var o,i=K[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){for(var s=o.value,c=!1,l=0;l<s.configs.length;l++){for(var u=s.configs[l],d=void 0,p=void 0,f=0;f<u.animatedValues.length;f++){var h=u.animatedValues[f];if(!h.done){var m=u.fromValues[f],b=u.toValues[f],v=h.lastPosition,g=b instanceof I,y=Array.isArray(u.initialVelocity)?u.initialVelocity[f]:u.initialVelocity;if(g&&(b=b.getValue()),u.immediate)h.setValue(b),h.done=!0;else if("string"!=typeof m&&"string"!=typeof b){if(void 0!==u.duration)v=m+u.easing((t-h.startTime)/u.duration)*(b-m),d=t>=h.startTime+u.duration;else if(u.decay)v=m+y/(1-.998)*(1-Math.exp(-(1-.998)*(t-h.startTime))),(d=Math.abs(h.lastPosition-v)<.1)&&(b=v);else{p=void 0!==h.lastTime?h.lastTime:t,y=void 0!==h.lastVelocity?h.lastVelocity:u.initialVelocity,t>p+64&&(p=t);for(var C=Math.floor(t-p),w=0;w<C;++w){v+=1*(y+=1*((-u.tension*(v-b)+-u.friction*y)/u.mass)/1e3)/1e3}var O=!(!u.clamp||0===u.tension)&&(m<b?v>b:v<b),k=Math.abs(y)<=u.precision,j=0===u.tension||Math.abs(b-v)<=u.precision;d=O||k&&j,h.lastVelocity=y,h.lastTime=t}g&&!u.toValues[f].done&&(d=!1),d?(h.value!==b&&(v=b),h.done=!0):c=!0,h.setValue(v),h.lastPosition=v}else h.setValue(b),h.done=!0}}s.props.onFrame&&(s.values[u.name]=u.interpolation.getValue())}s.props.onFrame&&s.props.onFrame(s.values),c||(K.delete(s),s.stop(!0))}}catch(e){r=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return K.size?V?V():D(e):G=!1,G};function Y(e,t,n){if("function"==typeof e)return e;if(Array.isArray(e))return Y({range:e,output:t,extrapolate:n});if(M&&"string"==typeof e.output[0])return M(e);var r=e,a=r.output,o=r.range||[0,1],i=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",c=r.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,a,o,i,s,c){var l=c?c(e):e;if(l<t){if("identity"===i)return l;"clamp"===i&&(l=t)}if(l>n){if("identity"===s)return l;"clamp"===s&&(l=n)}if(r===a)return r;if(t===n)return e<=t?r:a;t===-1/0?l=-l:n===1/0?l-=t:l=(l-t)/(n-t);l=o(l),r===-1/0?l=-l:a===1/0?l+=r:l=l*(a-r)+r;return l}(e,o[t],o[t+1],a[t],a[t+1],c,i,s,r.map)}}var Z=function(e){function t(e,n,r){var a;return h()(this,t),(a=i()(this,c()(t).call(this))).calc=void 0,a.payload=e instanceof T&&!(e instanceof t)?e.getPayload():Array.isArray(e)?e:[e],a.calc=Y(n,r),a}return p()(t,e),b()(t,[{key:"getValue",value:function(){return this.calc.apply(this,a()(this.payload.map(function(e){return e.getValue()})))}},{key:"updateConfig",value:function(e,t){this.calc=Y(e,t)}},{key:"interpolate",value:function(e,n){return new t(this,e,n)}}]),t}(T);var Q=function(e){function t(e){var n,r;return h()(this,t),n=i()(this,c()(t).call(this)),r=u()(n),n.animatedStyles=new Set,n.value=void 0,n.startPosition=void 0,n.lastPosition=void 0,n.lastVelocity=void 0,n.startTime=void 0,n.lastTime=void 0,n.done=!1,n.setValue=function(e,t){void 0===t&&(t=!0),r.value=e,t&&r.flush()},n.value=e,n.startPosition=e,n.lastPosition=e,n}return p()(t,e),b()(t,[{key:"flush",value:function(){0===this.animatedStyles.size&&function e(t,n){"update"in t?n.add(t):t.getChildren().forEach(function(t){return e(t,n)})}(this,this.animatedStyles),this.animatedStyles.forEach(function(e){return e.update()})}},{key:"clearStyles",value:function(){this.animatedStyles.clear()}},{key:"getValue",value:function(){return this.value}},{key:"interpolate",value:function(e,t){return new Z(this,e,t)}}]),t}(I),$=function(e){function t(e){var n;return h()(this,t),(n=i()(this,c()(t).call(this))).payload=e.map(function(e){return new Q(e)}),n}return p()(t,e),b()(t,[{key:"setValue",value:function(e,t){var n=this;void 0===t&&(t=!0),Array.isArray(e)?e.length===this.payload.length&&e.forEach(function(e,r){return n.payload[r].setValue(e,t)}):this.payload.forEach(function(n){return n.setValue(e,t)})}},{key:"getValue",value:function(){return this.payload.map(function(e){return e.getValue()})}},{key:"interpolate",value:function(e,t){return new Z(this,e,t)}}]),t}(T),J=0,ee=function(){function e(){var t=this;h()(this,e),this.id=void 0,this.idle=!0,this.hasChanged=!1,this.guid=0,this.local=0,this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.listeners=[],this.queue=[],this.localQueue=void 0,this.getValues=function(){return t.interpolations},this.id=J++}return b()(e,[{key:"update",value:function(e){if(!e)return this;var t=E(e),n=t.delay,r=void 0===n?0:n,a=t.to,o=C(t,["delay","to"]);if(k.arr(a)||k.fun(a))this.queue.push(y({},o,{delay:r,to:a}));else if(a){var i={};Object.entries(a).forEach(function(e){var t=e[0],n=e[1],a=y({to:g()({},t,n),delay:x(r,t)},o),s=i[a.delay]&&i[a.delay].to;i[a.delay]=y({},i[a.delay],a,{to:y({},s,a.to)})}),this.queue=Object.values(i)}return this.queue=this.queue.sort(function(e,t){return e.delay-t.delay}),this.diff(o),this}},{key:"start",value:function(e){var t,n=this;if(this.queue.length){this.idle=!1,this.localQueue&&this.localQueue.forEach(function(e){var t=e.from,r=void 0===t?{}:t,a=e.to,o=void 0===a?{}:a;k.obj(r)&&(n.merged=y({},r,n.merged)),k.obj(o)&&(n.merged=y({},n.merged,o))});var r=this.local=++this.guid,a=this.localQueue=this.queue;this.queue=[],a.forEach(function(t,o){var i=t.delay,s=C(t,["delay"]),c=function(t){o===a.length-1&&r===n.guid&&t&&(n.idle=!0,n.props.onRest&&n.props.onRest(n.merged)),e&&e()},l=k.arr(s.to)||k.fun(s.to);i?setTimeout(function(){r===n.guid&&(l?n.runAsync(s,c):n.diff(s).start(c))},i):l?n.runAsync(s,c):n.diff(s).start(c)})}else k.fun(e)&&this.listeners.push(e),this.props.onStart&&this.props.onStart(),t=this,K.has(t)||K.add(t),G||(G=!0,D(V||X));return this}},{key:"stop",value:function(e){return this.listeners.forEach(function(t){return t(e)}),this.listeners=[],this}},{key:"pause",value:function(e){var t;return this.stop(!0),e&&(t=this,K.has(t)&&K.delete(t)),this}},{key:"runAsync",value:function(e,t){var n=this,r=this,a=(e.delay,C(e,["delay"])),o=this.local,i=Promise.resolve(void 0);if(k.arr(a.to))for(var s=function(e){var t=e,r=y({},a,E(a.to[t]));k.arr(r.config)&&(r.config=r.config[t]),i=i.then(function(){if(o===n.guid)return new Promise(function(e){return n.diff(r).start(e)})})},c=0;c<a.to.length;c++)s(c);else if(k.fun(a.to)){var l,u=0;i=i.then(function(){return a.to(function(e){var t=y({},a,E(e));if(k.arr(t.config)&&(t.config=t.config[u]),u++,o===n.guid)return l=new Promise(function(e){return n.diff(t).start(e)})},function(e){return void 0===e&&(e=!0),r.stop(e)}).then(function(){return l})})}i.then(t)}},{key:"diff",value:function(e){var t=this;this.props=y({},this.props,e);var n=this.props,r=n.from,a=void 0===r?{}:r,o=n.to,i=void 0===o?{}:o,s=n.config,c=void 0===s?{}:s,l=n.reverse,u=n.attach,d=n.reset,p=n.immediate;if(l){var f=[i,a];a=f[0],i=f[1]}this.merged=y({},a,this.merged,i),this.hasChanged=!1;var h=u&&u(this);if(this.animations=Object.entries(this.merged).reduce(function(e,n){var r=n[0],o=n[1],i=e[r]||{},s=k.num(o),l=k.str(o)&&!o.startsWith("#")&&!/\d/.test(o)&&!A[o],u=k.arr(o),f=!s&&!u&&!l,m=k.und(a[r])?o:a[r],b=s||u?o:l?o:1,v=x(c,r);h&&(b=h.animations[r].parent);var C,w=i.parent,O=i.interpolation,j=S(h?b.getPayload():b),E=o;f&&(E=M({range:[0,1],output:[o,o]})(1));var N=O&&O.getValue(),I=!k.und(w)&&i.animatedValues.some(function(e){return!e.done}),T=!k.equ(E,N),L=!k.equ(E,i.previous),P=!k.equ(v,i.config);if(d||L&&T||P){if(s||l)w=O=i.parent||new Q(m);else if(u)w=O=i.parent||new $(m);else if(f){var R=i.interpolation&&i.interpolation.calc(i.parent.value);R=void 0===R||d?m:R,i.parent?(w=i.parent).setValue(0,!1):w=new Q(0);var D={output:[R,o]};i.interpolation?(O=i.interpolation,i.interpolation.updateConfig(D)):O=w.interpolate(D)}return j=S(h?b.getPayload():b),C=S(w.getPayload()),d&&!f&&w.setValue(m,!1),t.hasChanged=!0,C.forEach(function(e){e.startPosition=e.value,e.lastPosition=e.value,e.lastVelocity=I?e.lastVelocity:void 0,e.lastTime=I?e.lastTime:void 0,e.startTime=q(),e.done=!1,e.animatedStyles.clear()}),x(p,r)&&w.setValue(f?b:o,!1),y({},e,g()({},r,y({},i,{name:r,parent:w,interpolation:O,animatedValues:C,toValues:j,previous:E,config:v,fromValues:S(w.getValue()),immediate:x(p,r),initialVelocity:_(v.velocity,0),clamp:_(v.clamp,!1),precision:_(v.precision,.01),tension:_(v.tension,170),friction:_(v.friction,26),mass:_(v.mass,1),duration:v.duration,easing:_(v.easing,function(e){return e}),decay:v.decay})))}return T?e:(f&&(w.setValue(1,!1),O.updateConfig({output:[E,E]})),w.done=!0,t.hasChanged=!0,y({},e,g()({},r,y({},e[r],{previous:E}))))},this.animations),this.hasChanged)for(var m in this.configs=Object.values(this.animations),this.values={},this.interpolations={},this.animations)this.interpolations[m]=this.animations[m].interpolation,this.values[m]=this.animations[m].interpolation.getValue();return this}},{key:"destroy",value:function(){this.stop(),this.props={},this.merged={},this.animations={},this.interpolations={},this.values={},this.configs=[],this.local=0}}]),e}(),te=function(e,t){var n=Object(w.useRef)(!1),r=Object(w.useRef)(),a=k.fun(t),o=Object(w.useMemo)(function(){var n;return r.current&&(r.current.map(function(e){return e.destroy()}),r.current=void 0),[new Array(e).fill().map(function(e,r){var o=new ee,i=a?x(t,r,o):t[r];return 0===r&&(n=i.ref),o.update(i),n||o.start(),o}),n]},[e]),i=o[0],s=o[1];r.current=i;Object(w.useImperativeHandle)(s,function(){return{start:function(){return Promise.all(r.current.map(function(e){return new Promise(function(t){return e.start(t)})}))},stop:function(e){return r.current.forEach(function(t){return t.stop(e)})},get controllers(){return r.current}}});var c=Object(w.useMemo)(function(){return function(e){return r.current.map(function(t,n){t.update(a?x(e,n,t):e[n]),s||t.start()})}},[e]);Object(w.useEffect)(function(){n.current?a||c(t):s||r.current.forEach(function(e){return e.start()})}),Object(w.useEffect)(function(){return n.current=!0,function(){return r.current.forEach(function(e){return e.destroy()})}},[]);var l=r.current.map(function(e){return e.getValues()});return a?[l,c,function(e){return r.current.forEach(function(t){return t.pause(e)})}]:l},ne=function(e){var t=k.fun(e),n=te(1,t?e:[e]),r=n[0],a=n[1],o=n[2];return t?[r[0],a,o]:r},re=0,ae="enter",oe="leave",ie="update",se=function(e,t){return("function"==typeof t?e.map(t):S(t)).map(String)},ce=function(e){var t=e.items,n=e.keys,r=void 0===n?function(e){return e}:n,a=C(e,["items","keys"]);return y({items:t=S(void 0!==t?t:null),keys:se(t,r)},a)};function le(e,t,n){var r=y({items:e,keys:t||function(e){return e}},n),o=ce(r),i=o.lazy,s=void 0!==i&&i,c=(o.unique,o.reset),l=void 0!==c&&c,u=(o.enter,o.leave,o.update,o.onDestroyed),d=(o.keys,o.items,o.onFrame),p=o.onRest,f=o.onStart,h=o.ref,m=C(o,["lazy","unique","reset","enter","leave","update","onDestroyed","keys","items","onFrame","onRest","onStart","ref"]),b=j(),v=Object(w.useRef)(!1),g=Object(w.useRef)({mounted:!1,first:!0,deleted:[],current:{},transitions:[],prevProps:{},paused:!!r.ref,instances:!v.current&&new Map,forceUpdate:b});return Object(w.useImperativeHandle)(r.ref,function(){return{start:function(){return Promise.all(Array.from(g.current.instances).map(function(e){var t=e[1];return new Promise(function(e){return t.start(e)})}))},stop:function(e){return Array.from(g.current.instances).forEach(function(t){return t[1].stop(e)})},get controllers(){return Array.from(g.current.instances).map(function(e){return e[1]})}}}),g.current=function(e,t){var n=e.first,r=e.prevProps,o=C(e,["first","prevProps"]),i=ce(t),s=i.items,c=i.keys,l=i.initial,u=i.from,d=i.enter,p=i.leave,f=i.update,h=i.trail,m=void 0===h?0:h,b=i.unique,v=i.config,g=i.order,w=void 0===g?[ae,oe,ie]:g,O=ce(r),k=O.keys,j=O.items,_=y({},o.current),S=a()(o.deleted),E=Object.keys(_),N=new Set(E),A=new Set(c),I=c.filter(function(e){return!N.has(e)}),T=o.transitions.filter(function(e){return!e.destroyed&&!A.has(e.originalKey)}).map(function(e){return e.originalKey}),L=c.filter(function(e){return N.has(e)}),P=-m;for(;w.length;){var R=w.shift();switch(R){case ae:I.forEach(function(e,t){b&&S.find(function(t){return t.originalKey===e})&&(S=S.filter(function(t){return t.originalKey!==e}));var r=c.indexOf(e),a=s[r],o=n&&void 0!==l?"initial":ae;_[e]={slot:o,originalKey:e,key:b?String(e):re++,item:a,trail:P+=m,config:x(v,a,o),from:x(n&&void 0!==l?l||{}:u,a),to:x(d,a)}});break;case oe:T.forEach(function(e){var t=k.indexOf(e),n=j[t],r=oe;S.unshift(y({},_[e],{slot:r,destroyed:!0,left:k[Math.max(0,t-1)],right:k[Math.min(k.length,t+1)],trail:P+=m,config:x(v,n,r),to:x(p,n)})),delete _[e]});break;case ie:L.forEach(function(e){var t=c.indexOf(e),n=s[t],r=ie;_[e]=y({},_[e],{item:n,slot:r,trail:P+=m,config:x(v,n,r),to:x(f,n)})})}}var M=c.map(function(e){return _[e]});return S.forEach(function(e){var t,n=e.left,r=(e.right,C(e,["left","right"]));-1!==(t=M.findIndex(function(e){return e.originalKey===n}))&&(t+=1),t=Math.max(0,t),M=[].concat(a()(M.slice(0,t)),[r],a()(M.slice(t)))}),y({},o,{changed:I.length||T.length||L.length,first:n&&0===I.length,transitions:M,current:_,deleted:S,prevProps:t})}(g.current,r),g.current.changed&&g.current.transitions.forEach(function(e){var t=e.slot,n=e.from,r=e.to,a=e.config,o=e.trail,i=e.key,c=e.item;g.current.instances.has(i)||g.current.instances.set(i,new ee);var b=g.current.instances.get(i),v=y({},m,{to:r,from:n,config:a,ref:h,onRest:function(n){g.current.mounted&&(e.destroyed&&(h||s||ue(g,i),u&&u(c)),!Array.from(g.current.instances).some(function(e){return!e[1].idle})&&(h||s)&&g.current.deleted.length>0&&ue(g),p&&p(c,t,n))},onStart:f&&function(){return f(c,t)},onFrame:d&&function(e){return d(c,t,e)},delay:o,reset:l&&t===ae});b.update(v),g.current.paused||b.start()}),Object(w.useEffect)(function(){return g.current.mounted=v.current=!0,function(){g.current.mounted=v.current=!1,Array.from(g.current.instances).map(function(e){return e[1].destroy()}),g.current.instances.clear()}},[]),g.current.transitions.map(function(e){var t=e.item,n=e.slot,r=e.key;return{item:t,key:r,state:n,props:g.current.instances.get(r).getValues()}})}function ue(e,t){var n=e.current.deleted,r=!0,a=!1,o=void 0;try{for(var i,s=function(){var n=i.value.key,r=function(e){return e.key!==n};(k.und(t)||t===n)&&(e.current.instances.delete(n),e.current.transitions=e.current.transitions.filter(r),e.current.deleted=e.current.deleted.filter(r))},c=n[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)s()}catch(e){a=!0,o=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}e.current.forceUpdate()}var de=function(e){function t(e){var n;return h()(this,t),void 0===e&&(e={}),n=i()(this,c()(t).call(this)),!e.transform||e.transform instanceof I||(e=N.transform(e)),n.payload=e,n}return p()(t,e),t}(L),pe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},fe="[-+]?\\d*\\.?\\d+",he=fe+"%";function me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var be=new RegExp("rgb"+me(fe,fe,fe)),ve=new RegExp("rgba"+me(fe,fe,fe,fe)),ge=new RegExp("hsl"+me(fe,he,he)),ye=new RegExp("hsla"+me(fe,he,he,fe)),Ce=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,we=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Oe=/^#([0-9a-fA-F]{6})$/,ke=/^#([0-9a-fA-F]{8})$/;function je(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _e(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,a=2*n-r,o=je(a,r,e+1/3),i=je(a,r,e),s=je(a,r,e-1/3);return Math.round(255*o)<<24|Math.round(255*i)<<16|Math.round(255*s)<<8}function Se(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function xe(e){return(parseFloat(e)%360+360)%360/360}function Ee(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function Ne(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function Ae(e){var t,n,r="number"==typeof(t=e)?t>>>0===t&&t>=0&&t<=4294967295?t:null:(n=Oe.exec(t))?parseInt(n[1]+"ff",16)>>>0:pe.hasOwnProperty(t)?pe[t]:(n=be.exec(t))?(Se(n[1])<<24|Se(n[2])<<16|Se(n[3])<<8|255)>>>0:(n=ve.exec(t))?(Se(n[1])<<24|Se(n[2])<<16|Se(n[3])<<8|Ee(n[4]))>>>0:(n=Ce.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+"ff",16)>>>0:(n=ke.exec(t))?parseInt(n[1],16)>>>0:(n=we.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4],16)>>>0:(n=ge.exec(t))?(255|_e(xe(n[1]),Ne(n[2]),Ne(n[3])))>>>0:(n=ye.exec(t))?(_e(xe(n[1]),Ne(n[2]),Ne(n[3]))|Ee(n[4]))>>>0:null;if(null===r)return e;var a=(16711680&(r=r||0))>>>16,o=(65280&r)>>>8,i=(255&r)/255;return"rgba(".concat((4278190080&r)>>>24,", ").concat(a,", ").concat(o,", ").concat(i,")")}var Ie=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Te=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Le=new RegExp("(".concat(Object.keys(pe).join("|"),")"),"g"),Pe={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Re=["Webkit","Ms","Moz","O"];function Me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Pe.hasOwnProperty(e)&&Pe[e]?(""+t).trim():t+"px"}Pe=Object.keys(Pe).reduce(function(e,t){return Re.forEach(function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]}),e},Pe);var De={};H(function(e){return new de(e)}),F("div"),B(function(e){var t=e.output.map(function(e){return e.replace(Te,Ae)}).map(function(e){return e.replace(Le,Ae)}),n=t[0].match(Ie).map(function(){return[]});t.forEach(function(e){e.match(Ie).forEach(function(e,t){return n[t].push(+e)})});var r=t[0].match(Ie).map(function(t,r){return Y(y({},e,{output:n[r]}))});return function(e){var n=0;return t[0].replace(Ie,function(){return r[n++](e)}).replace(/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,function(e,t,n,r,a){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(a,")")})}}),R(pe),P(function(e,t){if(!e.nodeType||void 0===e.setAttribute)return!1;var n=t.style,r=t.children,a=t.scrollTop,o=t.scrollLeft,i=C(t,["style","children","scrollTop","scrollLeft"]),s="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName;for(var c in void 0!==a&&(e.scrollTop=a),void 0!==o&&(e.scrollLeft=o),void 0!==r&&(e.textContent=r),n)if(n.hasOwnProperty(c)){var l=0===c.indexOf("--"),u=Me(c,n[c],l);"float"===c&&(c="cssFloat"),l?e.style.setProperty(c,u):e.style[c]=u}for(var d in i){var p=s?d:De[d]||(De[d]=d.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()}));void 0!==e.getAttribute(p)&&e.setAttribute(p,i[d])}},function(e){return e});var Be,qe,Fe=(Be=function(e){return Object(w.forwardRef)(function(t,n){var r=j(),a=Object(w.useRef)(!0),o=Object(w.useRef)(null),i=Object(w.useRef)(null),s=Object(w.useCallback)(function(e){var t=o.current;o.current=new W(e,function(){i.current&&!1===N.fn(i.current,o.current.getAnimatedValue())&&r()}),t&&t.detach()},[]);Object(w.useEffect)(function(){return function(){a.current=!1,o.current&&o.current.detach()}},[]),Object(w.useImperativeHandle)(n,function(){return U(i,a,r)}),s(t);var c=o.current.getValue(),l=(c.scrollTop,c.scrollLeft,C(c,["scrollTop","scrollLeft"]));return O.a.createElement(e,y({},l,{ref:function(e){return i.current=function(e,t){return t&&(k.fun(t)?t(e):k.obj(t)&&(t.current=e)),e}(e,n)}}))})},void 0===(qe=!1)&&(qe=!0),function(e){return(k.arr(e)?e:Object.keys(e)).reduce(function(e,t){var n=qe?t[0].toLowerCase()+t.substring(1):t;return e[n]=Be(n),e},Be)})(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"])},1870:function(e,t,n){var r=n(2051),a=n(2052),o=n(2053);e.exports=function(e){return r(e)||a(e)||o()}},1871:function(e,t,n){"use strict";function r(){0}"undefined"!=typeof window?e.exports={listen:n(1793),subscribe:n(1904),unsubscribe:n(1968)}:e.exports={listen:r,subscribe:r,unsubscribe:r}},1872:function(e,t,n){"use strict";t.a=function(e){return Array.isArray(e)?e.length:0}},1873:function(e,t,n){"use strict";var r=n(4),a=n(5),o=n(8),i=n(6),s=n(7),c=n(3),l=n.n(c),u=n(0),d=n.n(u),p=n(1772),f=(n(2006),function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"renderThumbnail",value:function(){var e=this.props.error;return d.a.createElement("div",{className:"VideoErrorCard-thumbnail"},d.a.createElement("div",{className:"VideoErrorCard-error"},e.message||"错误"))}},{key:"render",value:function(){var e=this.props,t=e.isLens,n=e.id;return d.a.createElement("div",{className:"VideoErrorCard"},d.a.createElement(p.b,Object.assign({},this.props,t&&{playerUrl:"https://www.zhihu.com/video/".concat(n)},{thumbnail:this.renderThumbnail(),showPlayButton:!1,onBeforePlay:function(){return!1}})))}}]),t}(u.Component));f.propTypes={error:l.a.object.isRequired},t.a=f},1879:function(e,t,n){var r=n(1755),a=n(1731),o=n(1886),i=n(1738),s=n(1739),c=n(1740),l=Object.prototype.hasOwnProperty,u=o(function(e,t){if(s(t)||i(t))a(t,c(t),e);else for(var n in t)l.call(t,n)&&r(e,n,t[n])});e.exports=u},1880:function(e,t,n){var r=n(1796),a=n(1883),o=n(1717),i=n(1798),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(r(e)?p:s).test(i(e))}},1881:function(e,t,n){var r=n(1756),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var a=i.call(e);return r&&(t?e[s]=n:delete e[s]),a}},1882:function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},1883:function(e,t,n){var r,a=n(1884),o=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},1884:function(e,t,n){var r=n(1715)["__core-js_shared__"];e.exports=r},1885:function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},1886:function(e,t,n){var r=n(1887),a=n(1894);e.exports=function(e){return r(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,s&&a(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var c=n[r];c&&e(t,c,r,i)}return t})}},1887:function(e,t,n){var r=n(1799),a=n(1888),o=n(1890);e.exports=function(e,t){return o(a(e,t,r),e+"")}},1888:function(e,t,n){var r=n(1889),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var o=arguments,i=-1,s=a(o.length-t,0),c=Array(s);++i<s;)c[i]=o[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=o[i];return l[t]=n(c),r(e,this,l)}}},1889:function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1890:function(e,t,n){var r=n(1891),a=n(1893)(r);e.exports=a},1891:function(e,t,n){var r=n(1892),a=n(1795),o=n(1799),i=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=i},1892:function(e,t){e.exports=function(e){return function(){return e}}},1893:function(e,t){var n=800,r=16,a=Date.now;e.exports=function(e){var t=0,o=0;return function(){var i=a(),s=r-(i-o);if(o=i,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},1894:function(e,t,n){var r=n(1757),a=n(1738),o=n(1801),i=n(1717);e.exports=function(e,t,n){if(!i(n))return!1;var s=typeof t;return!!("number"==s?a(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},1895:function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},1896:function(e,t,n){var r=n(1897),a=n(1727),o=Object.prototype,i=o.hasOwnProperty,s=o.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return a(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},1897:function(e,t,n){var r=n(1730),a=n(1727),o="[object Arguments]";e.exports=function(e){return a(e)&&r(e)==o}},1898:function(e,t){e.exports=function(){return!1}},1899:function(e,t,n){var r=n(1900),a=n(1759),o=n(1760),i=o&&o.isTypedArray,s=i?a(i):r;e.exports=s},1900:function(e,t,n){var r=n(1730),a=n(1800),o=n(1727),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&a(e.length)&&!!i[r(e)]}},1901:function(e,t,n){var r=n(1739),a=n(1902),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},1902:function(e,t,n){var r=n(1804)(Object.keys,Object);e.exports=r},1903:function(e,t,n){"use strict";var r=!1;if("undefined"!=typeof window)try{var a=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("test",null,a)}catch(e){}e.exports=r},1904:function(e,t,n){"use strict";var r=n(1732),a=n(1805),o=n(1905),i=n(1812).DEFAULT_THROTTLE_RATE;e.exports=function(e,t,n){var s=(n=n||{}).useRAF||!1,c=parseInt(n.throttleRate,10),l=n.eventOptions;return isNaN(c)&&(c=i),s&&(c="raf"),a&&(c=0),r.enableScrollInfo=r.enableScrollInfo||n.enableScrollInfo||!1,r.enableResizeInfo=r.enableResizeInfo||n.enableResizeInfo||!1,r.enableTouchInfo=r.enableTouchInfo||n.enableTouchInfo||!1,o[e](c,t,n,l)}},1905:function(e,t,n){"use strict";var r,a,o,i=n(1906),s=n(1961),c=n(1966),l=n(1732),u=l.connections,d=l.EE,p=n(1805),f=n(1793),h=l.listeners,m=n(1967),b=l.removers,v=(l.subscriptions,n(1812).EVENT_END_DELAY),g=0;function y(e){return e.id||"target-id-"+g++}function C(e,t,n,r){return d.on(e,t,n),u[r=r||e]=(u[r]||0)+1,{_type:e,_cb:t,_ctx:n,unsubscribe:function(){if(this._type){d.removeListener(e,t,n),u[r]--,0===u[r]&&(h[r].remove(),h[r]=void 0),this._type=void 0,this._cb=void 0,this._ctx=void 0;for(var a=b.length-1;a>=0;a--){if(b[a]===this){b.splice(a,1);break}}}}}}function w(e,t,n,r){return function(a,o,l){var u=l.context,g=l.target,w=g&&y(g),O=w?":"+w:"",k=t+"Start:"+a+O,j=t+"End:"+a+O,_=t+":"+a+O,S=C(n+":"+a+O,o,u,_);if(b.push(S),h[_])return S;var x,E={start:new c({mainType:t,subType:"start"}),main:new c({mainType:t}),end:new c({mainType:t,subType:"end"})};function N(e){E.end.update(e),d.emit(j,e,E.end),x=null}function A(e){x||(E.start.update(e),d.emit(k,e,E.start)),clearTimeout(x),E.main.update(e),d.emit(_,e,E.main),p?(e=i(e),x=setTimeout(function(){N(e)},a+v)):x=setTimeout(N.bind(null,e),a+v)}return"raf"===a?(a=16,A=m(A)):a>0&&(A=s(A,a)),h[_]=f(g||e,t,A,r),S}}function O(e,t){return function(n,r,a){var o=a.context,i=a.target,s=i&&y(i),l=t+":0"+(s?":"+s:""),u=C(l,r,o);if(b.push(u),h[l])return u;var p=new c({mainType:t});return h[l]=f(i||e,t,function(e){p.update(e),d.emit(l,e,p)}),u}}"undefined"!=typeof window&&(o=(r=(a=window).document||document).body),e.exports={scrollStart:w(a,"scroll","scrollStart"),scrollEnd:w(a,"scroll","scrollEnd"),scroll:w(a,"scroll","scroll"),resizeStart:w(a,"resize","resizeStart"),resizeEnd:w(a,"resize","resizeEnd"),resize:w(a,"resize","resize"),visibilitychange:O(r,"visibilitychange"),touchmoveStart:w(o,"touchmove","touchmoveStart"),touchmoveEnd:w(o,"touchmove","touchmoveEnd"),touchmove:w(o,"touchmove","touchmove"),touchstart:O(o,"touchstart"),touchend:O(o,"touchend")}},1906:function(e,t,n){var r=n(1907),a=4;e.exports=function(e){return r(e,a)}},1907:function(e,t,n){var r=n(1908),a=n(1932),o=n(1755),i=n(1933),s=n(1934),c=n(1937),l=n(1938),u=n(1939),d=n(1941),p=n(1942),f=n(1943),h=n(1763),m=n(1948),b=n(1949),v=n(1955),g=n(1758),y=n(1803),C=n(1957),w=n(1717),O=n(1959),k=n(1740),j=1,_=2,S=4,x="[object Arguments]",E="[object Function]",N="[object GeneratorFunction]",A="[object Object]",I={};I[x]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object DataView]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Map]"]=I["[object Number]"]=I[A]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object Symbol]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0,I["[object Error]"]=I[E]=I["[object WeakMap]"]=!1,e.exports=function e(t,n,T,L,P,R){var M,D=n&j,B=n&_,q=n&S;if(T&&(M=P?T(t,L,P,R):T(t)),void 0!==M)return M;if(!w(t))return t;var F=g(t);if(F){if(M=m(t),!D)return l(t,M)}else{var z=h(t),V=z==E||z==N;if(y(t))return c(t,D);if(z==A||z==x||V&&!P){if(M=B||V?{}:v(t),!D)return B?d(t,s(M,t)):u(t,i(M,t))}else{if(!I[z])return P?t:{};M=b(t,z,D)}}R||(R=new r);var U=R.get(t);if(U)return U;if(R.set(t,M),O(t))return t.forEach(function(r){M.add(e(r,n,T,r,t,R))}),M;if(C(t))return t.forEach(function(r,a){M.set(a,e(r,n,T,a,t,R))}),M;var H=q?B?f:p:B?keysIn:k,W=F?void 0:H(t);return a(W||t,function(r,a){W&&(r=t[a=r]),o(M,a,e(r,n,T,a,t,R))}),M}},1908:function(e,t,n){var r=n(1741),a=n(1914),o=n(1915),i=n(1916),s=n(1917),c=n(1918);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=a,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=c,e.exports=l},1909:function(e,t){e.exports=function(){this.__data__=[],this.size=0}},1910:function(e,t,n){var r=n(1742),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():a.call(t,n,1),--this.size,0))}},1911:function(e,t,n){var r=n(1742);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},1912:function(e,t,n){var r=n(1742);e.exports=function(e){return r(this.__data__,e)>-1}},1913:function(e,t,n){var r=n(1742);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},1914:function(e,t,n){var r=n(1741);e.exports=function(){this.__data__=new r,this.size=0}},1915:function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},1916:function(e,t){e.exports=function(e){return this.__data__.get(e)}},1917:function(e,t){e.exports=function(e){return this.__data__.has(e)}},1918:function(e,t,n){var r=n(1741),a=n(1761),o=n(1919),i=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!a||s.length<i-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},1919:function(e,t,n){var r=n(1920),a=n(1927),o=n(1929),i=n(1930),s=n(1931);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},1920:function(e,t,n){var r=n(1921),a=n(1741),o=n(1761);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||a),string:new r}}},1921:function(e,t,n){var r=n(1922),a=n(1923),o=n(1924),i=n(1925),s=n(1926);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=i,c.prototype.set=s,e.exports=c},1922:function(e,t,n){var r=n(1743);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},1923:function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},1924:function(e,t,n){var r=n(1743),a="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===a?void 0:n}return o.call(t,e)?t[e]:void 0}},1925:function(e,t,n){var r=n(1743),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},1926:function(e,t,n){var r=n(1743),a="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?a:t,this}},1927:function(e,t,n){var r=n(1744);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},1928:function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},1929:function(e,t,n){var r=n(1744);e.exports=function(e){return r(this,e).get(e)}},1930:function(e,t,n){var r=n(1744);e.exports=function(e){return r(this,e).has(e)}},1931:function(e,t,n){var r=n(1744);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},1932:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},1933:function(e,t,n){var r=n(1731),a=n(1740);e.exports=function(e,t){return e&&r(t,a(t),e)}},1934:function(e,t,n){var r=n(1731),a=n(1806);e.exports=function(e,t){return e&&r(t,a(t),e)}},1935:function(e,t,n){var r=n(1717),a=n(1739),o=n(1936),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=a(e),n=[];for(var s in e)("constructor"!=s||!t&&i.call(e,s))&&n.push(s);return n}},1936:function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},1937:function(e,t,n){(function(e){var r=n(1715),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,i=o&&o.exports===a?r.Buffer:void 0,s=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(71)(e))},1938:function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},1939:function(e,t,n){var r=n(1731),a=n(1762);e.exports=function(e,t){return r(e,a(e),t)}},1940:function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}},1941:function(e,t,n){var r=n(1731),a=n(1808);e.exports=function(e,t){return r(e,a(e),t)}},1942:function(e,t,n){var r=n(1811),a=n(1762),o=n(1740);e.exports=function(e){return r(e,o,a)}},1943:function(e,t,n){var r=n(1811),a=n(1808),o=n(1806);e.exports=function(e){return r(e,o,a)}},1944:function(e,t,n){var r=n(1721)(n(1715),"DataView");e.exports=r},1945:function(e,t,n){var r=n(1721)(n(1715),"Promise");e.exports=r},1946:function(e,t,n){var r=n(1721)(n(1715),"Set");e.exports=r},1947:function(e,t,n){var r=n(1721)(n(1715),"WeakMap");e.exports=r},1948:function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},1949:function(e,t,n){var r=n(1764),a=n(1951),o=n(1952),i=n(1953),s=n(1954),c="[object Boolean]",l="[object Date]",u="[object Map]",d="[object Number]",p="[object RegExp]",f="[object Set]",h="[object String]",m="[object Symbol]",b="[object ArrayBuffer]",v="[object DataView]",g="[object Float32Array]",y="[object Float64Array]",C="[object Int8Array]",w="[object Int16Array]",O="[object Int32Array]",k="[object Uint8Array]",j="[object Uint8ClampedArray]",_="[object Uint16Array]",S="[object Uint32Array]";e.exports=function(e,t,n){var x=e.constructor;switch(t){case b:return r(e);case c:case l:return new x(+e);case v:return a(e,n);case g:case y:case C:case w:case O:case k:case j:case _:case S:return s(e,n);case u:return new x;case d:case h:return new x(e);case p:return o(e);case f:return new x;case m:return i(e)}}},1950:function(e,t,n){var r=n(1715).Uint8Array;e.exports=r},1951:function(e,t,n){var r=n(1764);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},1952:function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},1953:function(e,t,n){var r=n(1756),a=r?r.prototype:void 0,o=a?a.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},1954:function(e,t,n){var r=n(1764);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},1955:function(e,t,n){var r=n(1956),a=n(1810),o=n(1739);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(a(e))}},1956:function(e,t,n){var r=n(1717),a=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},1957:function(e,t,n){var r=n(1958),a=n(1759),o=n(1760),i=o&&o.isMap,s=i?a(i):r;e.exports=s},1958:function(e,t,n){var r=n(1763),a=n(1727),o="[object Map]";e.exports=function(e){return a(e)&&r(e)==o}},1959:function(e,t,n){var r=n(1960),a=n(1759),o=n(1760),i=o&&o.isSet,s=i?a(i):r;e.exports=s},1960:function(e,t,n){var r=n(1763),a=n(1727),o="[object Set]";e.exports=function(e){return a(e)&&r(e)==o}},1961:function(e,t,n){var r=n(1962),a=n(1717),o="Expected a function";e.exports=function(e,t,n){var i=!0,s=!0;if("function"!=typeof e)throw new TypeError(o);return a(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),r(e,t,{leading:i,maxWait:t,trailing:s})}},1962:function(e,t,n){var r=n(1717),a=n(1963),o=n(1964),i="Expected a function",s=Math.max,c=Math.min;e.exports=function(e,t,n){var l,u,d,p,f,h,m=0,b=!1,v=!1,g=!0;if("function"!=typeof e)throw new TypeError(i);function y(t){var n=l,r=u;return l=u=void 0,m=t,p=e.apply(r,n)}function C(e){var n=e-h;return void 0===h||n>=t||n<0||v&&e-m>=d}function w(){var e=a();if(C(e))return O(e);f=setTimeout(w,function(e){var n=t-(e-h);return v?c(n,d-(e-m)):n}(e))}function O(e){return f=void 0,g&&l?y(e):(l=u=void 0,p)}function k(){var e=a(),n=C(e);if(l=arguments,u=this,h=e,n){if(void 0===f)return function(e){return m=e,f=setTimeout(w,t),b?y(e):p}(h);if(v)return f=setTimeout(w,t),y(h)}return void 0===f&&(f=setTimeout(w,t)),p}return t=o(t)||0,r(n)&&(b=!!n.leading,d=(v="maxWait"in n)?s(o(n.maxWait)||0,t):d,g="trailing"in n?!!n.trailing:g),k.cancel=function(){void 0!==f&&clearTimeout(f),m=0,l=h=u=f=void 0},k.flush=function(){return void 0===f?p:O(a())},k}},1963:function(e,t,n){var r=n(1715);e.exports=function(){return r.Date.now()}},1964:function(e,t,n){var r=n(1717),a=n(1965),o=NaN,i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=c.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?o:+e}},1965:function(e,t,n){var r=n(1730),a=n(1727),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||a(e)&&r(e)==o}},1966:function(e,t,n){"use strict";var r=n(1732),a={width:0,height:0},o={delta:0,top:0},i={axisIntention:"",startX:0,startY:0,deltaX:0,deltaY:0};function s(e){var t=((e=e||{}).mainType||"").toLowerCase(),n=(e.subType||"").toLowerCase();this.mainType=t,this.subType=n,this.type=t+n.charAt(0).toUpperCase()+n.slice(1)||"",this.scroll=o,this.resize=a,this.touch=i}s.prototype={getXY:function(e){var t={x:0,y:0},n=document.body,r=document.documentElement;return e.pageX||e.pageY?(t.x=e.pageX,t.y=e.pageY):(t.x=e.clientX+n.scrollLeft+r.scrollLeft,t.y=e.clientY+n.scrollTop+r.scrollTop),t},update:function(e){var t,n,a,o=this.mainType,i=this.subType,s=document.documentElement;if(r.enableScrollInfo&&("scroll"===o||"touchmove"===o)){var c=s.scrollTop+document.body.scrollTop;c!==this.scroll.top&&(this.scroll.delta=c-this.scroll.top,this.scroll.top=c)}(r.enableResizeInfo&&"resize"===o&&(this.resize.width=window.innerWidth||s.clientWidth,this.resize.height=window.innerHeight||s.clientHeight),r.enableTouchInfo&&e.touches&&("touchstart"===o||"touchmove"===o||"touchend"===o))&&("touchstart"===o||"start"===i?(t=this.getXY(e.touches[0]),this.touch.axisIntention="",this.touch.startX=t.x,this.touch.startY=t.y,this.touch.deltaX=0,this.touch.deltaY=0):"touchmove"===o&&(t=this.getXY(e.touches[0]),this.touch.deltaX=t.x-this.touch.startX,this.touch.deltaY=t.y-this.touch.startY,""===this.touch.axisIntention&&(n=Math.abs(this.touch.deltaX),a=Math.abs(this.touch.deltaY),n>5&&n>=a?this.touch.axisIntention="x":a>5&&a>n&&(this.touch.axisIntention="y"))))}},e.exports=s},1967:function(e,t,n){"use strict";var r=n(784),a=Date.now||function(){return(new Date).getTime()};e.exports=function(e,t){var n,o,i=0,s=0;t=t||15;var c=function c(){var l=a();t-(l-i)<=0?(i=l,s=0,e.apply(n,o)):s=r(c)};return function(){n=this,o=arguments,s||(s=r(c))}}},1968:function(e,t,n){"use strict";var r=n(1732).removers;e.exports=function(e,t,n){for(var a,o=r.length-1;o>=0;o--)(a=r[o])._cb===t&&a._type.indexOf(e)>=0&&(a.unsubscribe(),r.splice(o,1))}},1969:function(e,t,n){"use strict";(function(t){var r=n(786),a=n(1970),o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,i=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function c(e){return(e||"").toString().replace(s,"")}var l=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],u={hash:1,query:1};function d(e){var n,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},a={},i=typeof(e=e||r);if("blob:"===e.protocol)a=new f(unescape(e.pathname),{});else if("string"===i)for(n in a=new f(e,{}),u)delete a[n];else if("object"===i){for(n in e)n in u||(a[n]=e[n]);void 0===a.slashes&&(a.slashes=o.test(e.href))}return a}function p(e){e=c(e);var t=i.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function f(e,t,n){if(e=c(e),!(this instanceof f))return new f(e,t,n);var o,i,s,u,h,m,b=l.slice(),v=typeof t,g=this,y=0;for("object"!==v&&"string"!==v&&(n=t,t=null),n&&"function"!=typeof n&&(n=a.parse),t=d(t),o=!(i=p(e||"")).protocol&&!i.slashes,g.slashes=i.slashes||o&&t.slashes,g.protocol=i.protocol||t.protocol||"",e=i.rest,i.slashes||(b[3]=[/(.*)/,"pathname"]);y<b.length;y++)"function"!=typeof(u=b[y])?(s=u[0],m=u[1],s!=s?g[m]=e:"string"==typeof s?~(h=e.indexOf(s))&&("number"==typeof u[2]?(g[m]=e.slice(0,h),e=e.slice(h+u[2])):(g[m]=e.slice(h),e=e.slice(0,h))):(h=s.exec(e))&&(g[m]=h[1],e=e.slice(0,h.index)),g[m]=g[m]||o&&u[3]&&t[m]||"",u[4]&&(g[m]=g[m].toLowerCase())):e=u(e);n&&(g.query=n(g.query)),o&&t.slashes&&"/"!==g.pathname.charAt(0)&&(""!==g.pathname||""!==t.pathname)&&(g.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,a=n[r-1],o=!1,i=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),i++):i&&(0===r&&(o=!0),n.splice(r,1),i--);return o&&n.unshift(""),"."!==a&&".."!==a||n.push(""),n.join("/")}(g.pathname,t.pathname)),r(g.port,g.protocol)||(g.host=g.hostname,g.port=""),g.username=g.password="",g.auth&&(u=g.auth.split(":"),g.username=u[0]||"",g.password=u[1]||""),g.origin=g.protocol&&g.host&&"file:"!==g.protocol?g.protocol+"//"+g.host:"null",g.href=g.toString()}f.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||a.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,/:\d+$/.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var i="pathname"===e?"/":"#";o[e]=t.charAt(0)!==i?i+t:t}else o[e]=t;break;default:o[e]=t}for(var s=0;s<l.length;s++){var c=l[s];c[4]&&(o[c[1]]=o[c[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=a.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var o=r+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}},f.extractProtocol=p,f.location=d,f.trimLeft=c,f.qs=a,e.exports=f}).call(this,n(45))},1970:function(e,t,n){"use strict";var r,a=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,o,i=[];for(o in"string"!=typeof t&&(t="?"),e)if(a.call(e,o)){if((n=e[o])||null!==n&&n!==r&&!isNaN(n)||(n=""),o=encodeURIComponent(o),n=encodeURIComponent(n),null===o||null===n)continue;i.push(o+"="+n)}return i.length?t+i.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);){var a=o(t[1]),i=o(t[2]);null===a||null===i||a in r||(r[a]=i)}return r}},1971:function(e,t,n){"use strict";var r=n(75),a=n(1972),o=n(1980).Buffer,i=new Array(16);function s(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(e,t){return e<<t|e>>>32-t}function l(e,t,n,r,a,o,i){return c(e+(t&n|~t&r)+a+o|0,i)+t|0}function u(e,t,n,r,a,o,i){return c(e+(t&r|n&~r)+a+o|0,i)+t|0}function d(e,t,n,r,a,o,i){return c(e+(t^n^r)+a+o|0,i)+t|0}function p(e,t,n,r,a,o,i){return c(e+(n^(t|~r))+a+o|0,i)+t|0}r(s,a),s.prototype._update=function(){for(var e=i,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,a=this._c,o=this._d;n=l(n,r,a,o,e[0],3614090360,7),o=l(o,n,r,a,e[1],3905402710,12),a=l(a,o,n,r,e[2],606105819,17),r=l(r,a,o,n,e[3],3250441966,22),n=l(n,r,a,o,e[4],4118548399,7),o=l(o,n,r,a,e[5],1200080426,12),a=l(a,o,n,r,e[6],2821735955,17),r=l(r,a,o,n,e[7],4249261313,22),n=l(n,r,a,o,e[8],1770035416,7),o=l(o,n,r,a,e[9],2336552879,12),a=l(a,o,n,r,e[10],4294925233,17),r=l(r,a,o,n,e[11],2304563134,22),n=l(n,r,a,o,e[12],1804603682,7),o=l(o,n,r,a,e[13],4254626195,12),a=l(a,o,n,r,e[14],2792965006,17),n=u(n,r=l(r,a,o,n,e[15],1236535329,22),a,o,e[1],4129170786,5),o=u(o,n,r,a,e[6],3225465664,9),a=u(a,o,n,r,e[11],643717713,14),r=u(r,a,o,n,e[0],3921069994,20),n=u(n,r,a,o,e[5],3593408605,5),o=u(o,n,r,a,e[10],38016083,9),a=u(a,o,n,r,e[15],3634488961,14),r=u(r,a,o,n,e[4],3889429448,20),n=u(n,r,a,o,e[9],568446438,5),o=u(o,n,r,a,e[14],3275163606,9),a=u(a,o,n,r,e[3],4107603335,14),r=u(r,a,o,n,e[8],1163531501,20),n=u(n,r,a,o,e[13],2850285829,5),o=u(o,n,r,a,e[2],4243563512,9),a=u(a,o,n,r,e[7],1735328473,14),n=d(n,r=u(r,a,o,n,e[12],2368359562,20),a,o,e[5],4294588738,4),o=d(o,n,r,a,e[8],2272392833,11),a=d(a,o,n,r,e[11],1839030562,16),r=d(r,a,o,n,e[14],4259657740,23),n=d(n,r,a,o,e[1],2763975236,4),o=d(o,n,r,a,e[4],1272893353,11),a=d(a,o,n,r,e[7],4139469664,16),r=d(r,a,o,n,e[10],3200236656,23),n=d(n,r,a,o,e[13],681279174,4),o=d(o,n,r,a,e[0],3936430074,11),a=d(a,o,n,r,e[3],3572445317,16),r=d(r,a,o,n,e[6],76029189,23),n=d(n,r,a,o,e[9],3654602809,4),o=d(o,n,r,a,e[12],3873151461,11),a=d(a,o,n,r,e[15],530742520,16),n=p(n,r=d(r,a,o,n,e[2],3299628645,23),a,o,e[0],4096336452,6),o=p(o,n,r,a,e[7],1126891415,10),a=p(a,o,n,r,e[14],2878612391,15),r=p(r,a,o,n,e[5],4237533241,21),n=p(n,r,a,o,e[12],1700485571,6),o=p(o,n,r,a,e[3],2399980690,10),a=p(a,o,n,r,e[10],4293915773,15),r=p(r,a,o,n,e[1],2240044497,21),n=p(n,r,a,o,e[8],1873313359,6),o=p(o,n,r,a,e[15],4264355552,10),a=p(a,o,n,r,e[6],2734768916,15),r=p(r,a,o,n,e[13],1309151649,21),n=p(n,r,a,o,e[4],4149444226,6),o=p(o,n,r,a,e[11],3174756917,10),a=p(a,o,n,r,e[2],718787259,15),r=p(r,a,o,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+a|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},1972:function(e,t,n){"use strict";var r=n(117).Buffer,a=n(1823).Transform;function o(e){a.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(75)(o,a),o.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(e){r=e}n(r)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var n=this._block,a=0;this._blockOffset+e.length-a>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[a++];this._update(),this._blockOffset=0}for(;a<e.length;)n[this._blockOffset++]=e[a++];for(var i=0,s=8*e.length;s>0;++i)this._length[i]+=s,(s=this._length[i]/4294967296|0)>0&&(this._length[i]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},1973:function(e,t){},1974:function(e,t,n){"use strict";n(214).Buffer;var r=n(1767);function a(){this.head=null,this.tail=null,this.length=0}e.exports=a,a.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},a.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},a.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},a.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t=r.allocUnsafe(e>>>0),n=this.head,a=0;n;)n.data.copy(t,a),a+=n.data.length,n=n.next;return t}},1975:function(e,t,n){"use strict";e.exports=o;var r=n(1815),a=n(101);function o(e){if(!(this instanceof o))return new o(e);r.call(this,e)}a.inherits=n(75),a.inherits(o,r),o.prototype._transform=function(e,t,n){n(null,e)}},1976:function(e,t,n){e.exports=n(1768)},1977:function(e,t,n){e.exports=n(1722)},1978:function(e,t,n){e.exports=n(1766).Transform},1979:function(e,t,n){e.exports=n(1766).PassThrough},1980:function(e,t,n){var r=n(214),a=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function i(e,t,n){return a(e,t,n)}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=i),o(a,i),i.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return a(e,t,n)},i.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=a(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},i.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return a(e)},i.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},1981:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}},1984:function(e,t,n){var r=n(787),a=r&&new r;e.exports=a},1985:function(e,t){e.exports={}},1986:function(e,t,n){var r=n(1771),a=n(1819),o=n(1820),i=n(1987);e.exports=function(e){var t=o(e),n=i[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=a(n);return!!s&&e===s[0]}},1987:function(e,t,n){var r=n(1771),a=n(1769),o=n(1770),i=n(93),s=n(116),c=n(1988),l=Object.prototype.hasOwnProperty;function u(e){if(s(e)&&!i(e)&&!(e instanceof r)){if(e instanceof a)return e;if(l.call(e,"__wrapped__"))return c(e)}return new a(e)}u.prototype=o.prototype,u.prototype.constructor=u,e.exports=u},1988:function(e,t,n){var r=n(1771),a=n(1769),o=n(472);e.exports=function(e){if(e instanceof r)return e.clone();var t=new a(e.__wrapped__,e.__chain__);return t.__actions__=o(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},1989:function(e,t,n){"use strict";
/** @license React v16.9.0
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(77),a=n(0);function o(e){for(var t=e.message,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return e.message="Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",e}var i="function"==typeof Symbol&&Symbol.for,s=i?Symbol.for("react.portal"):60106,c=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,d=i?Symbol.for("react.provider"):60109,p=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.concurrent_mode"):60111,h=i?Symbol.for("react.forward_ref"):60112,m=i?Symbol.for("react.suspense"):60113,b=i?Symbol.for("react.suspense_list"):60120,v=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,y=i?Symbol.for("react.fundamental"):60117;function C(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case c:return"Fragment";case s:return"Portal";case u:return"Profiler";case l:return"StrictMode";case m:return"Suspense";case b:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case p:return"Context.Consumer";case d:return"Context.Provider";case h:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case v:return C(e.type);case g:if(e=1===e._status?e._result:null)return C(e)}return null}var w=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;w.hasOwnProperty("ReactCurrentDispatcher")||(w.ReactCurrentDispatcher={current:null}),w.hasOwnProperty("ReactCurrentBatchConfig")||(w.ReactCurrentBatchConfig={suspense:null});var O={};function k(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var j=new Uint16Array(16),_=0;15>_;_++)j[_]=_+1;j[15]=0;var S=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x=Object.prototype.hasOwnProperty,E={},N={};function A(e){return!!x.call(N,e)||!x.call(E,e)&&(S.test(e)?N[e]=!0:(E[e]=!0,!1))}function I(e,t,n,r,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new I(e,0,!1,e,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new I(t,1,!1,e[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new I(e,2,!1,e.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new I(e,2,!1,e,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new I(e,3,!1,e.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new I(e,3,!0,e,null,!1)}),["capture","download"].forEach(function(e){T[e]=new I(e,4,!1,e,null,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new I(e,6,!1,e,null,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new I(e,5,!1,e.toLowerCase(),null,!1)});var L=/[\-:]([a-z])/g;function P(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(L,P);T[t]=new I(t,1,!1,e,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(L,P);T[t]=new I(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(L,P);T[t]=new I(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new I(e,1,!1,e.toLowerCase(),null,!1)}),T.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(e){T[e]=new I(e,1,!1,e.toLowerCase(),null,!0)});var R=/["'&<>]/;function M(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=R.exec(e);if(t){var n,r="",a=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==n&&(r+=e.substring(a,n)),a=n+1,r+=t}e=a!==n?r+e.substring(a,n):r}return e}function D(e,t){var n,r=T.hasOwnProperty(e)?T[e]:null;return(n="style"!==e)&&(n=null!==r?0===r.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),n||function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(e,t,r,!1)?"":null!==r?(e=r.attributeName,3===(n=r.type)||4===n&&!0===t?e+'=""':(r.sanitizeURL&&(t=""+t),e+'="'+M(t)+'"')):A(e)?e+'="'+M(t)+'"':""}var B=null,q=null,F=null,z=!1,V=!1,U=null,H=0;function W(){if(null===B)throw o(Error(321));return B}function G(){if(0<H)throw o(Error(312));return{memoizedState:null,queue:null,next:null}}function K(){return null===F?null===q?(z=!1,q=F=G()):(z=!0,F=q):null===F.next?(z=!1,F=F.next=G()):(z=!0,F=F.next),F}function X(e,t,n,r){for(;V;)V=!1,H+=1,F=null,n=e(t,r);return q=B=null,H=0,F=U=null,n}function Y(e,t){return"function"==typeof t?t(e):t}function Z(e,t,n){if(B=W(),F=K(),z){var r=F.queue;if(t=r.dispatch,null!==U&&void 0!==(n=U.get(r))){U.delete(r),r=F.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return F.memoizedState=r,[r,t]}return[F.memoizedState,t]}return e=e===Y?"function"==typeof t?t():t:void 0!==n?n(t):t,F.memoizedState=e,e=(e=F.queue={last:null,dispatch:null}).dispatch=function(e,t,n){if(!(25>H))throw o(Error(301));if(e===B)if(V=!0,e={action:n,next:null},null===U&&(U=new Map),void 0===(n=U.get(t)))U.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}.bind(null,B,e),[F.memoizedState,e]}function Q(){}var $=0,J={readContext:function(e){var t=$;return k(e,t),e[t]},useContext:function(e){W();var t=$;return k(e,t),e[t]},useMemo:function(e,t){if(B=W(),t=void 0===t?null:t,null!==(F=K())){var n=F.memoizedState;if(null!==n&&null!==t){e:{var r=n[1];if(null===r)r=!1;else{for(var a=0;a<r.length&&a<t.length;a++){var o=t[a],i=r[a];if((o!==i||0===o&&1/o!=1/i)&&(o==o||i==i)){r=!1;break e}}r=!0}}if(r)return n[0]}}return e=e(),F.memoizedState=[e,t],e},useReducer:Z,useRef:function(e){B=W();var t=(F=K()).memoizedState;return null===t?(e={current:e},F.memoizedState=e):t},useState:function(e){return Z(Y,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:Q,useEffect:Q,useDebugValue:Q,useResponder:function(e,t){return{props:t,responder:e}}},ee={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function te(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var ne={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},re=r({menuitem:!0},ne),ae={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oe=["Webkit","ms","Moz","O"];Object.keys(ae).forEach(function(e){oe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ae[t]=ae[e]})});var ie=/([A-Z])/g,se=/^ms-/,ce=a.Children.toArray,le=w.ReactCurrentDispatcher,ue={listing:!0,pre:!0,textarea:!0},de=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,pe={},fe={};var he=Object.prototype.hasOwnProperty,me={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function be(e,t){if(void 0===e)throw o(Error(152),C(t)||"Component")}function ve(e,t,n){function i(a,i){var s=i.prototype&&i.prototype.isReactComponent,c=function(e,t,n,r){if(r&&"object"==typeof(r=e.contextType)&&null!==r)return k(r,n),r[n];if(e=e.contextTypes){for(var a in n={},e)n[a]=t[a];t=n}else t=O;return t}(i,t,n,s),l=[],u=!1,d={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===l)return null},enqueueReplaceState:function(e,t){u=!0,l=[t]},enqueueSetState:function(e,t){if(null===l)return null;l.push(t)}},p=void 0;if(s)p=new i(a.props,c,d),"function"==typeof i.getDerivedStateFromProps&&(null!=(s=i.getDerivedStateFromProps.call(null,a.props,p.state))&&(p.state=r({},p.state,s)));else if(B={},p=i(a.props,c,d),null==(p=X(i,a.props,p,c))||null==p.render)return void be(e=p,i);if(p.props=a.props,p.context=c,p.updater=d,void 0===(d=p.state)&&(p.state=d=null),"function"==typeof p.UNSAFE_componentWillMount||"function"==typeof p.componentWillMount)if("function"==typeof p.componentWillMount&&"function"!=typeof i.getDerivedStateFromProps&&p.componentWillMount(),"function"==typeof p.UNSAFE_componentWillMount&&"function"!=typeof i.getDerivedStateFromProps&&p.UNSAFE_componentWillMount(),l.length){d=l;var f=u;if(l=null,u=!1,f&&1===d.length)p.state=d[0];else{s=f?d[0]:p.state;var h=!0;for(f=f?1:0;f<d.length;f++){var m=d[f];null!=(m="function"==typeof m?m.call(p,s,a.props,c):m)&&(h?(h=!1,s=r({},s,m)):r(s,m))}p.state=s}}else l=null;if(be(e=p.render(),i),a=void 0,"function"==typeof p.getChildContext&&"object"==typeof(c=i.childContextTypes))for(var b in a=p.getChildContext())if(!(b in c))throw o(Error(108),C(i)||"Unknown",b);a&&(t=r({},t,a))}for(;a.isValidElement(e);){var s=e,c=s.type;if("function"!=typeof c)break;i(s,c)}return{child:e,context:t}}var ge=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");a.isValidElement(t)?t.type!==c?t=[t]:(t=t.props.children,t=a.isValidElement(t)?[t]:ce(t)):t=ce(t),t={type:null,domNamespace:ee.html,children:t,childIndex:0,context:O,footer:""};var r=j[0];if(0===r){var i=j,s=2*(r=i.length);if(!(65536>=s))throw o(Error(304));var l=new Uint16Array(s);for(l.set(i),(j=l)[0]=r+1,i=r;i<s-1;i++)j[i]=i+1;j[s-1]=0}else j[0]=j[r];this.threadID=r,this.stack=[t],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=n,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}return e.prototype.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;j[e]=j[0],j[0]=e}},e.prototype.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;k(n,r);var a=n[r];this.contextStack[t]=n,this.contextValueStack[t]=a,n[r]=e.props.value},e.prototype.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},e.prototype.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},e.prototype.read=function(e){if(this.exhausted)return null;var t=$;$=this.threadID;var n=le.current;le.current=J;try{for(var r=[""],a=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var i=this.threadID;j[i]=j[0],j[0]=i;break}var s=this.stack[this.stack.length-1];if(a||s.childIndex>=s.children.length){var c=s.footer;if(""!==c&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===s.type)this.currentSelectValue=null;else if(null!=s.type&&null!=s.type.type&&s.type.type.$$typeof===d)this.popProvider(s.type);else if(s.type===m){this.suspenseDepth--;var l=r.pop();if(a){a=!1;var u=s.fallbackFrame;if(!u)throw o(Error(303));this.stack.push(u),r[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}r[this.suspenseDepth]+=l}r[this.suspenseDepth]+=c}else{var p=s.children[s.childIndex++],f="";try{f+=this.render(p,s.context,s.domNamespace)}catch(e){throw e}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=f}}return r[0]}finally{le.current=n,$=t}},e.prototype.render=function(e,t,n){if("string"==typeof e||"number"==typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?M(n):this.previousWasTextNode?"\x3c!-- --\x3e"+M(n):(this.previousWasTextNode=!0,M(n));if(e=(t=ve(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!a.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((n=e.$$typeof)===s)throw o(Error(257));throw o(Error(258),n.toString())}return e=ce(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}var i=e.type;if("string"==typeof i)return this.renderDOM(e,t,n);switch(i){case l:case f:case u:case b:case c:return e=ce(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case m:throw o(Error(294))}if("object"==typeof i&&null!==i)switch(i.$$typeof){case h:B={};var C=i.render(e.props,e.ref);return C=X(i.render,e.props,C,e.ref),C=ce(C),this.stack.push({type:null,domNamespace:n,children:C,childIndex:0,context:t,footer:""}),"";case v:return e=[a.createElement(i.type,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case d:return n={type:e,domNamespace:n,children:i=ce(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case p:i=e.type,C=e.props;var w=this.threadID;return k(i,w),i=ce(C.children(i[w])),this.stack.push({type:e,domNamespace:n,children:i,childIndex:0,context:t,footer:""}),"";case y:throw o(Error(338));case g:throw o(Error(295))}throw o(Error(130),null==i?i:typeof i,"")},e.prototype.renderDOM=function(e,t,n){var i=e.type.toLowerCase();if(n===ee.html&&te(i),!pe.hasOwnProperty(i)){if(!de.test(i))throw o(Error(65),i);pe[i]=!0}var s=e.props;if("input"===i)s=r({type:void 0},s,{defaultChecked:void 0,defaultValue:void 0,value:null!=s.value?s.value:s.defaultValue,checked:null!=s.checked?s.checked:s.defaultChecked});else if("textarea"===i){var c=s.value;if(null==c){c=s.defaultValue;var l=s.children;if(null!=l){if(null!=c)throw o(Error(92));if(Array.isArray(l)){if(!(1>=l.length))throw o(Error(93));l=l[0]}c=""+l}null==c&&(c="")}s=r({},s,{value:void 0,children:""+c})}else if("select"===i)this.currentSelectValue=null!=s.value?s.value:s.defaultValue,s=r({},s,{value:void 0});else if("option"===i){l=this.currentSelectValue;var u=function(e){if(null==e)return e;var t="";return a.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(s.children);if(null!=l){var d=null!=s.value?s.value+"":u;if(c=!1,Array.isArray(l)){for(var p=0;p<l.length;p++)if(""+l[p]===d){c=!0;break}}else c=""+l===d;s=r({selected:void 0,children:void 0},s,{selected:c,children:u})}}if(c=s){if(re[i]&&(null!=c.children||null!=c.dangerouslySetInnerHTML))throw o(Error(137),i,"");if(null!=c.dangerouslySetInnerHTML){if(null!=c.children)throw o(Error(60));if(!("object"==typeof c.dangerouslySetInnerHTML&&"__html"in c.dangerouslySetInnerHTML))throw o(Error(61))}if(null!=c.style&&"object"!=typeof c.style)throw o(Error(62),"")}for(C in c=s,l=this.makeStaticMarkup,u=1===this.stack.length,d="<"+e.type,c)if(he.call(c,C)){var f=c[C];if(null!=f){if("style"===C){p=void 0;var h="",m="";for(p in f)if(f.hasOwnProperty(p)){var b=0===p.indexOf("--"),v=f[p];if(null!=v){if(b)var g=p;else if(g=p,fe.hasOwnProperty(g))g=fe[g];else{var y=g.replace(ie,"-$1").toLowerCase().replace(se,"-ms-");g=fe[g]=y}h+=m+g+":",m=p,h+=b=null==v||"boolean"==typeof v||""===v?"":b||"number"!=typeof v||0===v||ae.hasOwnProperty(m)&&ae[m]?(""+v).trim():v+"px",m=";"}}f=h||null}p=null;e:if(b=i,v=c,-1===b.indexOf("-"))b="string"==typeof v.is;else switch(b){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":b=!1;break e;default:b=!0}b?me.hasOwnProperty(C)||(p=A(p=C)&&null!=f?p+'="'+M(f)+'"':""):p=D(C,f),p&&(d+=" "+p)}}l||u&&(d+=' data-reactroot=""');var C=d;c="",ne.hasOwnProperty(i)?C+="/>":(C+=">",c="</"+e.type+">");e:{if(null!=(l=s.dangerouslySetInnerHTML)){if(null!=l.__html){l=l.__html;break e}}else if("string"==typeof(l=s.children)||"number"==typeof l){l=M(l);break e}l=null}return null!=l?(s=[],ue[i]&&"\n"===l.charAt(0)&&(C+="\n"),C+=l):s=ce(s.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?te(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:i,children:s,childIndex:0,context:t,footer:c}),this.previousWasTextNode=!1,C},e}(),ye={renderToString:function(e){e=new ge(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new ge(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){throw o(Error(207))},renderToStaticNodeStream:function(){throw o(Error(208))},version:"16.9.0"},Ce={default:ye},we=Ce&&ye||Ce;e.exports=we.default||we},1990:function(e,t,n){},1991:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(217),i=n.n(o);n(1992);t.a=function(e){var t=e.referenceList,n=e.onClick,r=e.listRef;return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,"参考"),a.a.createElement("ol",{className:"ReferenceList",onClick:n,ref:r},i()(t,"refKey").map(function(e){var n=t.filter(function(t){return t.refKey===e.refKey}),r=n.length>1?a.a.createElement(a.a.Fragment,null,a.a.createElement("span",{className:"ReferenceList-backHint","aria-label":"back"},"^"),n.map(function(e,t){var n="".concat(e.refKey,"_").concat(t);return a.a.createElement("sup",{key:n,className:"ReferenceList-backLink"},a.a.createElement("a",{href:"#".concat(n),"data-reference-link":!0},"abcdefghijklmnopqrstuvwxyz"[t%26]))})):a.a.createElement("a",{className:"ReferenceList-backLink",href:"#".concat(e.refKey,"_0"),"aria-label":"back","data-reference-link":!0},"^");return a.a.createElement("li",{id:e.refKey,key:e.refKey,tabIndex:0},r,e.text&&a.a.createElement("span",null,e.text),e.text&&e.url&&" ",e.url&&a.a.createElement("a",{href:e.url,className:"external",target:"_blank",rel:"noopener noreferrer"},e.url))})))}},1992:function(e,t,n){},1993:function(e,t,n){"use strict";var r=n(0);var a=function(e,t){var n;if(!e.defaultPrevented&&e.target.matches("a[data-reference-link]")){var r=e.target.getAttribute("href"),a=t.querySelector(r);a&&(e.preventDefault(),a.focus({preventScroll:!0}),n=a.getBoundingClientRect().top+window.pageYOffset-Math.max(window.innerHeight/10,100),window.scrollTo({top:n,behavior:"smooth"}),document.documentElement.setAttribute("data-focus-visible",""))}};t.a=function(e){var t=Object(r.useCallback)(function(t){return a(t,e)},[e]);Object(r.useEffect)(function(){if(e)return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}},[e,t])}},1994:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var r=n(9),a=n(28),o=n(0),i=n.n(o),s=n(12),c=n(448),l=n(244),u=n(1710),d=n(19),p=n(450),f=n.n(p),h=n(16),m=n.n(h),b=n(782),v=n.n(b),g=(n(1995),{CONTENT:0,MENTION_IN_CONTENT:1,SHOWCASE:2,LIVING_THEATOR:3}),y={"淘宝":"taobao","天猫":"tmall","京东":"jingdong","京东自营":"jingdongSale","知乎":"zhihu"};function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.hasUnit,r=void 0===n||n,a=t.unitText,o=void 0===a?"元":a,i=t.unitSpace,s=void 0===i||i,c=t.trimZero,l=void 0!==c&&c,u=1===String(e).length?"0".concat(e):String(e).slice(-2),d=r&&o?"".concat(s?" ":"").concat(o):"";return l&&"00"===u?"".concat(Math.floor(e/100)).concat(d):"".concat(Math.floor(e/100),".").concat(u).concat(d)}function w(e){var t=e.className,n=e.source,r=e.sourceClassName,a=e.tagPreset,o=e.tagList;return i.a.createElement("div",{className:m()("MCNLinkCard-tagList",t)},i.a.createElement("div",{className:m()("MCNLinkCard-tag","MCNLinkCard-tag--source","MCNLinkCard-tag--".concat(r),"MCNLinkCard-tag--".concat(a))},n),o.map(function(e){return i.a.createElement("div",{key:e,className:m()("MCNLinkCard-tag","MCNLinkCard-tag--".concat(a))},e)}))}t.b=i.a.forwardRef(function(e,t){var n=Object(o.useState)(null),p=Object(a.a)(n,2),h=p[0],b=p[1],O=e.component,k=void 0===O?"a":O,j=e.id,_=e.scenes,S=void 0===_?g.CONTENT:_,x=e.className,E=e.onClick,N=e.onMouseDown,A=e.refetchKey,I=e.onData,T=void 0===I?f.a:I,L=e.cardSize,P=void 0===L?"normal":L,R=e.enableBackdrop,M=void 0===R||R,D=e.sourceConvert,B=void 0!==D&&D,q=e.tagPreset,F=void 0===q?"grey":q,z=e.enableMetaTag,V=void 0!==z&&z,U=e.enableButton,H=void 0===U||U,W=e.buttonPreset,G=void 0===W?"primary":W,K=e.buttonColor,X=void 0===K?"blue":K,Y=e.enableHint,Z=void 0!==Y&&Y,Q="price";"large"===P&&(Q="title");var $=Object(o.useRef)(null);if(Object(o.useEffect)(function(){null!==A&&function(e){var t=e.id,n=e.scenes,r=void 0===n?g.CONTENT:n;return v()("https://www.zhihu.com/api/v4/mcn/linkcard/".concat(t,"?scenes=").concat(r),{credentials:"include",headers:{"X-Requested-With":"Fetch"}}).then(function(e){return e.json()})}({id:j,scenes:S}).then(function(e){var t=Object(s.camelizeKeys)(e.data);b(t),T(t)})},[j,S,b,T,A]),Object(o.useEffect)(function(){$.current&&Object(c.onViewedOnce)($.current.parentNode,function(){d.default.trackCardShow($.current.parentNode,{id:6108},{button:{text:$.current.parentNode.dataset.zaExtraButtonText}})})},[h]),!h)return i.a.createElement(k,{ref:t,className:m()("MCNLinkCard","MCNLinkCard--".concat(P),"MCNLinkCard-placeholder",x),"data-draft-node":"block","data-draft-type":"mcn-link-card"});var J,ee=h.url,te=h.title,ne=h.imgToken,re=h.price,ae=h.source,oe=h.isJdSale,ie=h.isTmall,se=h.couponAmount,ce=h.freeShipment,le=h.volume,ue=h.comments,de=h.producer,pe=h.authorText,fe=h.heatText,he=null,me="square",be="去购买";"知乎"===ae&&(he=de,me="rectangle",be="去查看",J=pe);var ve=ae;B&&("淘宝"===ae&&(ve=ie?"天猫":"淘宝"),"京东"===ae&&(ve=oe?"京东自营":"京东"));var ge=y[ve];J&&(ve=J);var ye,Ce,we=[];if(V){if(se){var Oe="券￥".concat(C(se,{trimZero:!0,unitText:""}));"plain"===F&&(Oe=" · ".concat(Oe)),we=[].concat(Object(r.a)(we),[Oe])}if(ce){var ke="包邮";"plain"===F&&(ke=" · ".concat(ke)),we=[].concat(Object(r.a)(we),[ke])}}Z&&("淘宝"===ae&&le>100&&(ye="淘宝 ".concat(Object(l.niceNumber)(le)," 人付款")),"京东"===ae&&ue>100&&(ye="京东 ".concat(Object(l.niceNumber)(ue),"+ 条评价")),"知乎"===ae&&(ye=fe));var je=["天猫","京东自营"].includes(ve)||we.length;return je&&(Ce="1"),ye&&(Ce="2"),je&&ye&&(Ce="3"),i.a.createElement(k,{ref:t,className:m()("MCNLinkCard","MCNLinkCard--".concat(P),x),"data-draft-node":"block","data-draft-type":"mcn-link-card","data-mcn-id":h.id,"data-mcn-skuid":h.skuid,"data-mcn-source":h.source,"data-za-detail-view-name":h.id,"data-za-extra-button-text":Ce,"data-za-not-track-link":!0,href:ee,target:"_blank",rel:"noopener noreferrer",onClick:function(e){d.default.trackEvent(e.currentTarget,{id:6208,action:"Click"},{button:{text:e.currentTarget.dataset.zaExtraButtonText}}),E&&E(e)},onMouseDown:N},i.a.createElement("div",{className:"MCNLinkCard-card",ref:$},M&&i.a.createElement("div",{className:"MCNLinkCard-backdrop",style:{backgroundImage:"url(".concat(ne,")")}}),i.a.createElement("div",{className:"MCNLinkCard-cardContainer"},i.a.createElement("div",{className:m()("MCNLinkCard-imageContainer","MCNLinkCard-imageContainer--".concat(me))},i.a.createElement("img",{className:"MCNLinkCard-image",src:ne,alt:""}),he&&i.a.createElement("div",{className:"MCNLinkCard-tagInImage"},he)),i.a.createElement("div",{className:"MCNLinkCard-info"},i.a.createElement("div",{className:"MCNLinkCard-title"},i.a.createElement("div",{className:"MCNLinkCard-titleText"},te),"title"===Q&&i.a.createElement(w,{className:"MCNLinkCard-tagList--".concat(Q),source:ve,sourceClassName:ge,tagPreset:F,tagList:we})),i.a.createElement("div",{className:"MCNLinkCard-tool"},i.a.createElement("div",{className:"MCNLinkCard-toolLeft"},"price"===Q&&i.a.createElement(w,{className:"MCNLinkCard-tagList--".concat(Q),source:ve,sourceClassName:ge,tagPreset:F,tagList:we}),i.a.createElement("div",{className:"MCNLinkCard-price"},"￥",C(re,{unitText:"网络文学"===de?"/千字":""})),ye&&i.a.createElement("div",{className:"MCNLinkCard-hint"},ye)),H&&i.a.createElement("div",{className:m()("MCNLinkCard-button","MCNLinkCard-button--".concat(G),"MCNLinkCard-button--".concat(X))},be,"plain"===G&&i.a.createElement(u.a,{center:!0,size:16})))))))})},1995:function(e,t,n){},1996:function(e,t,n){"use strict";var r=n(28),a=n(0),o=n.n(a),i=n(12),s=n(448),c=n(244),l=n(19),u=n(450),d=n.n(u),p=n(16),f=n.n(p),h=n(782),m=n.n(h),b=n(1710),v=n(1676),g=n(50),y=n.n(g),C=n(1872);n(1997);function w(e){return!!Array.isArray(e)&&e.length>0}function O(e){var t=e.meta,n=e.isMobile;if(!t)return null;var r=t.token,a=t.vote,i=(a=void 0===a?{}:a).totalVotes,s=a.ratio,u="/topic/".concat(r),d=function(e){l.default.trackEvent(e.target,{id:6941,action:"OpenUrl"},{module:[{card:{content:[{token:r}]}}],link:{url:u}})};return n?o.a.createElement("a",{className:f()("MetaLinkCard-metaMobile",{"MetaLinkCard-metaMobile--noRatio":!s}),href:u,onClick:d},o.a.createElement("div",{className:f()("MetaLinkCard-metaInfoMobile",{"MetaLinkCard-metaInfoMobile--noRatio":!s})},Boolean(s)&&o.a.createElement("span",{className:"MetaLinkCard-score MetaLinkCard-score--mobile"},s),o.a.createElement("div",{className:"MetaLinkCard-miscInfo"},Boolean(s)&&o.a.createElement("div",{className:"MetaLinkCard-scoreText"},"知乎评分"),o.a.createElement("div",{className:f()("MetaLinkCard-mobileVoteCount",{"MetaLinkCard-mobileVoteCount--hasRatio":Boolean(s)})},i?"".concat(Object(c.niceNumber)(i)," 人评价"):"评价数据积累中"))),o.a.createElement("span",{className:"MetaLinkCard-mobileMetaButton"},o.a.createElement("span",{className:"MetaLinkCard-metaLinkText"},"相关话题"),o.a.createElement(b.a,{center:!0}))):o.a.createElement("div",{className:"MetaLinkCard-meta"},o.a.createElement("div",{className:"MetaLinkCard-metaInfo"},Boolean(s)&&o.a.createElement("div",{className:"MetaLinkCard-metaScore"},"知乎评分 ",o.a.createElement("span",{className:"MetaLinkCard-score"},s)),o.a.createElement("div",{className:"MetaLinkCard-voteCount"},i?"".concat(Object(c.niceNumber)(i)," 位知乎用户评价过此商品"):"评价数据积累中")),o.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:u,className:"MetaLinkCard-metaButton",onClick:d},"相关话题"))}var k=function(e){var t=e.id,n=e.source,r=e.url,a=e.isMobile,i=e.onClick;return r?o.a.createElement("span",{className:f()("MetaLinkCard-goToShopping",{" MetaLinkCard-goToShopping--mobile":a})},o.a.createElement("a",{rel:"noopener noreferrer",target:"_blank","data-meta-id":t,"data-meta-source":n,"data-za-not-track-link":!0,onClick:function(e){a&&i(e),l.default.trackEvent(e.target,{id:6726,action:"OpenUrl"},{link:{host:r}})},href:r},"去购买"),o.a.createElement(b.a,{center:!0})):null};t.a=o.a.forwardRef(function(e,t){var n=Object(a.useState)(null),c=Object(r.a)(n,2),u=c[0],p=c[1],h=e.id,b=e.className,g=e.onClick,j=e.onMouseDown,_=e.refetchKey,S=e.onData,x=void 0===S?d.a:S,E=Object(a.useRef)(null);if(Object(a.useEffect)(function(){null!==_&&function(e){var t=e.id;return m()("https://www.zhihu.com/api/v4/mcn/metalinks/".concat(t),{credentials:"include",headers:{"X-Requested-With":"Fetch"}}).then(function(e){if(e.ok)return e.json();throw new Error("fetch metalink error")})}({id:h}).then(function(e){var t=Object(i.camelizeKeys)(e);p(t),x(t)})},[h,p,x,_]),Object(a.useEffect)(function(){E.current&&Object(s.onViewedOnce)(E.current.parentNode,function(){var e=u.topicMeta,t=(e=void 0===e?{}:e).token,n=u.url;l.default.setModule(E.current.parentNode,{module:"Content"},{card:{content:{type:"Topic",token:t}}}),l.default.trackCardShow(E.current.parentNode,{id:6725},{button:{text:t?"1":"0"},link:{host:n}})})},[u]),!u)return o.a.createElement("div",{ref:t,className:f()("MetaLinkCard","MetaLinkCard-placeholder",b),"data-draft-node":"block","data-draft-type":"metalink"});var N=u.skuid,A=u.source,I=u.title,T=u.images,L=u.price,P=u.recommendReasons,R=u.ratings,M=u.url,D=u.topicMeta,B=Boolean(y()(navigator.userAgent).Mobile),q=w(P),F=w(R),z=w(T),V=Object(C.a)(T);return o.a.createElement("div",{ref:t,className:f()("MetaLinkCard",b),"data-draft-node":"block","data-draft-type":"metalink","data-meta-id":u.id,"data-meta-skuid":N,"data-meta-source":A,onMouseDown:j},o.a.createElement("div",{className:f()("MetaLinkCard-card",{"MetaLinkCard-card--isMobile":B}),ref:E},o.a.createElement("div",{className:"MetaLinkCard-cardContainer"},o.a.createElement("div",{className:"MetaLinkCard-titleLine"},o.a.createElement("div",{className:"MetaLinkCard-title"},I),!B&&o.a.createElement(k,{id:u.id,source:A,url:M,isMobile:B})),(Boolean(L)||B&&Boolean(M))&&o.a.createElement("div",{className:f()("MetaLinkCard-priceSource",{"MetaLinkCard-priceSource--hasBorderBottom":q||F})},o.a.createElement("span",{className:"MetaLinkCard-priceWrapper"},o.a.createElement("span",{className:"MetaLinkCard-price"},"￥".concat(L)),o.a.createElement("span",{className:"MetaLinkCard-priceText"},"参考价")),B&&o.a.createElement(k,{id:u.id,source:A,url:M,isMobile:B,onClick:g})),q&&o.a.createElement("div",{className:"MetaLinkCard-reasons"},P.map(function(e){return o.a.createElement("span",{key:e,className:"MetaLinkCard-reason"},e)})),F&&o.a.createElement("div",{className:f()("MetaLinkCard-ratings",{"MetaLinkCard-ratings--noReasons":!q})},R.map(function(e){return o.a.createElement("div",{key:e.name,className:"MetaLinkCard-rating"},o.a.createElement("span",{className:"MetaLinkCard-ratingName"},e.name),o.a.createElement("span",{className:"MetaLinkCard-ratingStars"},[1,2,3,4,5].map(function(t){return o.a.createElement("span",{key:t,className:f()("MetaLinkCard-ratingStar",{"MetaLinkCard-ratingStar--rated":t<=e.value})},o.a.createElement(v.a,{size:12}))})))})),z&&o.a.createElement("div",{className:f()("MetaLinkCard-images",{"MetaLinkCard-images--onlyNoRatings":!F&&q})},T.map(function(e){var t=e.token,n=e.url;return o.a.createElement("div",{className:f()("MetaLinkCard-imageWrapper","MetaLinkCard-imageWrapper--".concat(V)),key:t},o.a.createElement("img",{className:"ImageLoader-image origin_image zh-lightbox-thumb",src:n,"data-original":n,"data-actualsrc":n,alt:""}))})),o.a.createElement(O,{meta:D,isMobile:B}))))})},1997:function(e,t,n){},1998:function(e,t,n){},2000:function(e,t,n){},2001:function(e,t,n){"use strict";
/*!
 * bytes
 * Copyright(c) 2012-2014 TJ Holowaychuk
 * Copyright(c) 2015 Jed Watson
 * MIT Licensed
 */e.exports=function(e,t){if("string"==typeof e)return c(e);if("number"==typeof e)return s(e,t);return null},e.exports.format=s,e.exports.parse=c;var r=/\B(?=(\d{3})+(?!\d))/g,a=/(?:\.0*|(\.[^0]+)0+)$/,o={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},i=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function s(e,t){if(!Number.isFinite(e))return null;var n=Math.abs(e),i=t&&t.thousandsSeparator||"",s=t&&t.unitSeparator||"",c=t&&void 0!==t.decimalPlaces?t.decimalPlaces:2,l=Boolean(t&&t.fixedDecimals),u=t&&t.unit||"";u&&o[u.toLowerCase()]||(u=n>=o.pb?"PB":n>=o.tb?"TB":n>=o.gb?"GB":n>=o.mb?"MB":n>=o.kb?"KB":"B");var d=(e/o[u.toLowerCase()]).toFixed(c);return l||(d=d.replace(a,"$1")),i&&(d=d.replace(r,i)),d+s+u}function c(e){if("number"==typeof e&&!isNaN(e))return e;if("string"!=typeof e)return null;var t,n=i.exec(e),r="b";return n?(t=parseFloat(n[1]),r=n[4].toLowerCase()):(t=parseInt(e,10),r="b"),Math.floor(o[r]*t)}},2002:function(e,t,n){},2003:function(e,t,n){},2004:function(e,t,n){"use strict";e.exports=n(2005)},2005:function(e,t,n){"use strict";
/** @license React v16.4.1
 * create-subscription.production.min.js
 *
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r=n(447),a=n(0);function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.createSubscription=function(e){var t=e.getCurrentValue,n=e.subscribe;return function(e){function a(){var n,r;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");for(var i=arguments.length,s=Array(i),c=0;c<i;c++)s[c]=arguments[c];return n=r=o(this,e.call.apply(e,[this].concat(s))),r.state={source:r.props.source,value:null!=r.props.source?t(r.props.source):void 0},r._hasUnmounted=!1,r._unsubscribe=null,o(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e),a.getDerivedStateFromProps=function(e,n){return e.source!==n.source?{source:e.source,value:null!=e.source?t(e.source):void 0}:null},a.prototype.componentDidMount=function(){this.subscribe()},a.prototype.componentDidUpdate=function(e,t){this.state.source!==t.source&&(this.unsubscribe(t),this.subscribe())},a.prototype.componentWillUnmount=function(){this.unsubscribe(this.state),this._hasUnmounted=!0},a.prototype.render=function(){return this.props.children(this.state.value)},a.prototype.subscribe=function(){var e=this,a=this.state.source;if(null!=a){var o=n(a,function(t){e._hasUnmounted||e.setState(function(e){return t===e.value||a!==e.source?null:{value:t}})});"function"!=typeof o&&function(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=0;a<t;a++)n+="&args[]="+encodeURIComponent(arguments[a+1]);r(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}("266"),this._unsubscribe=o,(o=t(this.props.source))!==this.state.value&&this.setState({value:o})}},a.prototype.unsubscribe=function(){"function"==typeof this._unsubscribe&&this._unsubscribe(),this._unsubscribe=null},a}(a.Component)}},2006:function(e,t,n){},2007:function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var a=new Uint8Array(16);n=function(){return r.getRandomValues(a),a}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(this,n(45))},2008:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,a=n;return a[e[r++]]+a[e[r++]]+a[e[r++]]+a[e[r++]]+"-"+a[e[r++]]+a[e[r++]]+"-"+a[e[r++]]+a[e[r++]]+"-"+a[e[r++]]+a[e[r++]]+"-"+a[e[r++]]+a[e[r++]]+a[e[r++]]+a[e[r++]]+a[e[r++]]+a[e[r++]]}},2009:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(480),a=n(479),o=n(481);function i(e){return Object(r.a)(e)||Object(a.a)(e)||Object(o.a)()}},2014:function(e,t,n){"use strict";var r=n(4),a=n(5),o=n(8),i=n(6),s=n(7),c=n(28),l=n(31),u=n.n(l),d=n(0),p=n.n(d),f=n(3),h=n.n(f),m=n(10),b=function(e){return p.a.createElement(m.a,e,p.a.createElement("path",{d:"M11.991 3C7.023 3 3 7.032 3 12s4.023 9 8.991 9C16.968 21 21 16.968 21 12s-4.032-9-9.009-9zm6.237 5.4h-2.655a14.084 14.084 0 0 0-1.242-3.204A7.227 7.227 0 0 1 18.228 8.4zM12 4.836A12.678 12.678 0 0 1 13.719 8.4h-3.438A12.678 12.678 0 0 1 12 4.836zM5.034 13.8A7.418 7.418 0 0 1 4.8 12c0-.621.09-1.224.234-1.8h3.042A14.864 14.864 0 0 0 7.95 12c0 .612.054 1.206.126 1.8H5.034zm.738 1.8h2.655a14.084 14.084 0 0 0 1.242 3.204A7.188 7.188 0 0 1 5.772 15.6zm2.655-7.2H5.772a7.188 7.188 0 0 1 3.897-3.204c-.54.999-.954 2.079-1.242 3.204zM12 19.164a12.678 12.678 0 0 1-1.719-3.564h3.438A12.678 12.678 0 0 1 12 19.164zm2.106-5.364H9.894A13.242 13.242 0 0 1 9.75 12c0-.612.063-1.215.144-1.8h4.212c.081.585.144 1.188.144 1.8 0 .612-.063 1.206-.144 1.8zm.225 5.004c.54-.999.954-2.079 1.242-3.204h2.655a7.227 7.227 0 0 1-3.897 3.204zm1.593-5.004c.072-.594.126-1.188.126-1.8 0-.612-.054-1.206-.126-1.8h3.042c.144.576.234 1.179.234 1.8s-.09 1.224-.234 1.8h-3.042z"}))};b.defaultProps={name:"Browser"};var v=b,g=n(1704),y=n(16),C=n.n(y),w=n(76),O=n.n(w),k=n(74),j=(n(1990),function(){return p.a.createElement("div",{className:"LinkCard-image LinkCard-image--default"},p.a.createElement(v,{size:32}))}),_=/^https?:\/\/link\.zhihu\.com/,S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e;if(_.test(e)){var n=e.match(/target=([^=]+)/)||[],r=Object(c.a)(n,2)[1];r&&(t=decodeURIComponent(r))}var a=t.split("/");return Object(c.a)(a,3)[2]||""},x=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"renderLinkMeta",value:function(){var e=this.props,t=e.url,n=e.entityType,r=e.entityData,a=S(t);if(n&&r&&"job"===n){var o=r.salary,i=r.city,s=r.location,c=r.seniority,l=r.education;return p.a.createElement("span",{className:"LinkCard-meta"},p.a.createElement("span",{className:"LinkCard-textMeta"},c&&p.a.createElement("span",{className:"LinkCard-metaItem"},c),l&&p.a.createElement("span",{className:"LinkCard-metaItem"},l),(i||s)&&p.a.createElement("span",{className:"LinkCard-metaItem"},i,p.a.createElement("span",{className:"LinkCard-metaItem-jobLocation"},s))),o&&p.a.createElement("span",{className:"LinkCard-badge"},o))}return p.a.createElement("span",{className:"LinkCard-meta"},p.a.createElement(g.a,{size:17,center:!0}),a)}},{key:"render",value:function(){var e=O()(this.props,["entityType","entityData"]),t=e.text,n=e.target,r=e.url,a=e.image,o=e.imageWidth,i=e.imageHeight,s=e.component,c=e.className,l=u()(e,["text","target","url","image","imageWidth","imageHeight","component","className"]),d=function(e,t){if(e>0&&t>0){var n=e/t;if(n>1.2)return{modifier:"horizontal",size:"180x120"};if(n<=.8)return{modifier:"vertical",size:"120x160"}}return{modifier:"square",size:"ipico"}}(o,i),f=d.modifier,h=d.size,m=!a&&function(e){var t=S(e);return"zhihu.com"===t||t.endsWith(".zhihu.com")}(r)?"https://zhstatic.zhihu.com/assets/zhihu/editor/zhihu-card-default.svg":Object(k.imgUrl)(a,h);return p.a.createElement(s,Object.assign({target:n,href:r,"data-draft-node":"block","data-draft-type":"link-card"},m&&{"data-image":m},o&&{"data-image-width":o},i&&{"data-image-height":i},{className:C()("LinkCard",c,{"LinkCard--hasImage":Boolean(m),"LinkCard--noImage":!m})},l),m&&p.a.createElement("span",{className:"LinkCard-backdrop",style:{backgroundImage:"url(".concat(m,")")}}),p.a.createElement("span",{className:"LinkCard-content"},p.a.createElement("span",{className:"LinkCard-text"},p.a.createElement("span",{className:"LinkCard-title","data-text":!0},t),this.renderLinkMeta()),p.a.createElement("span",{className:"LinkCard-imageCell"},m?p.a.createElement("img",{className:C()("LinkCard-image","LinkCard-image--".concat(f)),alt:"图标",src:m}):p.a.createElement(j,null))))}}]),t}(p.a.Component);x.propTypes={component:h.a.oneOfType([h.a.string,h.a.func]),target:h.a.string,url:h.a.string.isRequired,text:h.a.string.isRequired,image:h.a.string,imageWidth:h.a.oneOfType([h.a.string,h.a.number]),imageHeight:h.a.oneOfType([h.a.string,h.a.number])},x.defaultProps={component:"a",target:"_blank"};t.a=x},2019:function(e,t,n){"use strict";function r(e){try{return JSON.parse(e)}catch(e){return null}}n.d(t,"a",function(){return r})},2051:function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},2052:function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},2053:function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},2054:function(e,t,n){},2055:function(e,t,n){"use strict";var r=n(1),a=(n(0),n(20)),o=n.n(a);n(2103);t.a=function(e){var t=e.header,n=e.options,a=e.className,i=e.onRef,s=e.showOptions,c=void 0===s||s;return Object(r.b)("div",{className:o()("Topbar",a,!1),ref:i},Object(r.b)("div",{className:"Topbar-title"},t),c&&Object(r.b)("div",{className:"Topbar-options"},n))}},2056:function(e,t,n){var r=n(1841)(!0);e.exports=r},2057:function(e,t,n){},2058:function(e,t,n){},2059:function(e,t,n){"use strict";var r=n(97);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=r(n(91)),i=r(n(179)),s=r(n(350)),c=r(n(180)),l=r(n(245)),u=r(n(349)),d=r(n(0)),p=r(n(1827)),f=n(1765),h=n(1779),m=n(1817),b=n(1723),v=n(1828);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}n(2062);var y="ecommerce-ad";function C(){var e=window.location.pathname.match(/\/(\d+)/g);return e?e.pop().replace("/",""):""}var w=(0,h.errorWrapper)(a=function(e){function t(){var e,n;(0,i.default)(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(n=(0,c.default)(this,(e=(0,l.default)(t)).call.apply(e,[this].concat(a)))).onClick=function(e){e.stopPropagation(),e.preventDefault();var t=n.props,r=t.data,a=t.parentType;try{(0,b.track)(n.getTrackUrl({at:"click"})),(0,f.zaTrack)("trackEvent",n.node,{id:5641,action:"Click"}),(0,v.openECommerceDeeplinkAd)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},r,{token:C(),pagetype:a}))}catch(e){console.error(e.message)}},n.getET=function(){var e=window.navigator.appVersion;return e.toLowerCase().includes("iphone")?"ios_commodity":e.toLowerCase().includes("android")?"android_commodity":"pc_commodity"},n.si=(0,p.default)(),n.ti=C(),n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentDidMount",value:function(){var e=this;(0,b.onShowedOnce)(this.node,function(){try{(0,b.track)(e.getTrackUrl({at:"view",_dk:"".concat(Date.now()*Math.random())})),(0,f.zaTrack)("cardShow",e.node,{id:5642})}catch(e){console.error(e.message)}})}},{key:"getTrackUrl",value:function(e){var t=e.at,n=e._dk,r=this.props.parentType,a="".concat("https://sugar.zhihu.com/plutus_adreaper/page_monitor_log","?at=").concat(t,"&pt=").concat(r,"&et=").concat(this.getET(),"&ti=").concat(this.ti,"&si=").concat(this.si);return n&&(a="".concat(a,"&_dk=").concat(n)),(0,b.patchURLTrackCI)(a)}},{key:"render",value:function(){var e=this,t=this.props.data,n=!!t.price;return d.default.createElement("div",{className:"".concat(y,"-container")},d.default.createElement("div",{className:y,style:{height:"81px"},ref:function(t){e.node=t},onClick:this.onClick},d.default.createElement("div",{className:"".concat(y,"-img"),style:{height:"81px",backgroundImage:"url(".concat(t.picUrl,")")}}),d.default.createElement("div",{className:"".concat(y,"-main"),style:{padding:n?"8px 10px":"10px"}},d.default.createElement("div",{className:"".concat(y,"-main-content")},d.default.createElement("header",{className:"".concat(y,"-main-content-title"),style:{fontSize:"12px",lineHeight:n?"13px":"18px"}},d.default.createElement("img",{alt:"",className:"".concat(y,"-main-content-title-logo"),src:t.logo,align:"middle"}),t.productName," 的推荐"),d.default.createElement("div",{className:"".concat(y,"-main-content-des"),style:{marginTop:n?"3.5px":"7px",lineHeight:n?"16px":"18px",height:n?"32px":"36px",fontSize:n?"12px":"13px"}},t.description),n?d.default.createElement("div",{className:"".concat(y,"-main-content-price")},"¥",t.price/100):null)),d.default.createElement("div",{className:"".concat(y,"-icon")},(!t.interactionLaunch||"去购买"===t.interactionLaunch)&&d.default.createElement(m.Cart,{style:{width:"14px",height:"12px",marginRight:"4px",verticalAlign:"-1px"}}),t.interactionLaunch||"去购买")))}}]),t}(d.default.PureComponent))||a;t.default=w},2060:function(e,t,n){var r,a,o=n(1833),i=n(1834),s=0,c=0;e.exports=function(e,t,n){var l=t&&n||0,u=t||[],d=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:a;if(null==d||null==p){var f=o();null==d&&(d=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==p&&(p=a=16383&(f[6]<<8|f[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:c+1,b=h-s+(m-c)/1e4;if(b<0&&void 0===e.clockseq&&(p=p+1&16383),(b<0||h>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=h,c=m,a=p;var v=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;u[l++]=v>>>24&255,u[l++]=v>>>16&255,u[l++]=v>>>8&255,u[l++]=255&v;var g=h/4294967296*1e4&268435455;u[l++]=g>>>8&255,u[l++]=255&g,u[l++]=g>>>24&15|16,u[l++]=g>>>16&255,u[l++]=p>>>8|128,u[l++]=255&p;for(var y=0;y<6;++y)u[l+y]=d[y];return t||i(u)}},2061:function(e,t,n){var r=n(1833),a=n(1834);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var i=(e=e||{}).random||(e.rng||r)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t)for(var s=0;s<16;++s)t[o+s]=i[s];return t||a(i)}},2062:function(e,t,n){},2063:function(e){e.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},2064:function(e,t,n){var r=n(1737),a=/\s+/g,o=n(1839),i=n(2065);function s(e,t,n){"object"==typeof e?(n=t,t=e,e=null):"function"==typeof t&&(n=t,t=c),this._callback=e,this._options=t||c,this._elementCB=n,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var c={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1};s.prototype.onparserinit=function(e){this._parser=e},s.prototype.onreset=function(){s.call(this,this._callback,this._options,this._elementCB)},s.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},s.prototype._handleCallback=s.prototype.onerror=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},s.prototype.onclosetag=function(){var e=this._tagStack.pop();this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e)},s.prototype._createDomElement=function(e){if(!this._options.withDomLvl1)return e;var t;for(var n in t="tag"===e.type?Object.create(i):Object.create(o),e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},s.prototype._addDomElement=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,r=n[n.length-1];e.next=null,this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),r?(e.prev=r,r.next=e):e.prev=null,n.push(e),e.parent=t||null},s.prototype.onopentag=function(e,t){var n={type:"script"===e?r.Script:"style"===e?r.Style:r.Tag,name:e,attribs:t,children:[]},a=this._createDomElement(n);this._addDomElement(a),this._tagStack.push(a)},s.prototype.ontext=function(e){var t,n=this._options.normalizeWhitespace||this._options.ignoreWhitespace;if(!this._tagStack.length&&this.dom.length&&(t=this.dom[this.dom.length-1]).type===r.Text)n?t.data=(t.data+e).replace(a," "):t.data+=e;else if(this._tagStack.length&&(t=this._tagStack[this._tagStack.length-1])&&(t=t.children[t.children.length-1])&&t.type===r.Text)n?t.data=(t.data+e).replace(a," "):t.data+=e;else{n&&(e=e.replace(a," "));var o=this._createDomElement({data:e,type:r.Text});this._addDomElement(o)}},s.prototype.oncomment=function(e){var t=this._tagStack[this._tagStack.length-1];if(t&&t.type===r.Comment)t.data+=e;else{var n={data:e,type:r.Comment},a=this._createDomElement(n);this._addDomElement(a),this._tagStack.push(a)}},s.prototype.oncdatastart=function(){var e={children:[{data:"",type:r.Text}],type:r.CDATA},t=this._createDomElement(e);this._addDomElement(t),this._tagStack.push(t)},s.prototype.oncommentend=s.prototype.oncdataend=function(){this._tagStack.pop()},s.prototype.onprocessinginstruction=function(e,t){var n=this._createDomElement({name:e,data:t,type:r.Directive});this._addDomElement(n)},e.exports=s},2065:function(e,t,n){var r=n(1839),a=e.exports=Object.create(r),o={tagName:"name"};Object.keys(o).forEach(function(e){var t=o[e];Object.defineProperty(a,e,{get:function(){return this[t]||null},set:function(e){return this[t]=e,e}})})},2066:function(e,t,n){var r=n(1736),a=r.DomHandler,o=r.DomUtils;function i(e,t){this.init(e,t)}function s(e,t){return o.getElementsByTagName(e,t,!0)}function c(e,t){return o.getElementsByTagName(e,t,!0,1)[0]}function l(e,t,n){return o.getText(o.getElementsByTagName(e,t,n,1)).trim()}function u(e,t,n,r,a){var o=l(n,r,a);o&&(e[t]=o)}n(75)(i,a),i.prototype.init=a;var d=function(e){return"rss"===e||"feed"===e||"rdf:RDF"===e};i.prototype.onend=function(){var e,t,n={},r=c(d,this.dom);r&&("feed"===r.name?(t=r.children,n.type="atom",u(n,"id","id",t),u(n,"title","title",t),(e=c("link",t))&&(e=e.attribs)&&(e=e.href)&&(n.link=e),u(n,"description","subtitle",t),(e=l("updated",t))&&(n.updated=new Date(e)),u(n,"author","email",t,!0),n.items=s("entry",t).map(function(e){var t,n={};return u(n,"id","id",e=e.children),u(n,"title","title",e),(t=c("link",e))&&(t=t.attribs)&&(t=t.href)&&(n.link=t),(t=l("summary",e)||l("content",e))&&(n.description=t),(t=l("updated",e))&&(n.pubDate=new Date(t)),n})):(t=c("channel",r.children).children,n.type=r.name.substr(0,3),n.id="",u(n,"title","title",t),u(n,"link","link",t),u(n,"description","description",t),(e=l("lastBuildDate",t))&&(n.updated=new Date(e)),u(n,"author","managingEditor",t,!0),n.items=s("item",r.children).map(function(e){var t,n={};return u(n,"id","guid",e=e.children),u(n,"title","title",e),u(n,"link","link",e),u(n,"description","description",e),(t=l("pubDate",e))&&(n.pubDate=new Date(t)),n}))),this.dom=n,a.prototype._handleCallback.call(this,r?null:Error("couldn't find root of feed"))},e.exports=i},2067:function(e,t,n){e.exports=a;var r=n(1840);function a(e){r.call(this,new o(this),e)}function o(e){this.scope=e}n(75)(a,r),a.prototype.readable=!0;var i=n(1736).EVENTS;Object.keys(i).forEach(function(e){if(0===i[e])o.prototype["on"+e]=function(){this.scope.emit(e)};else if(1===i[e])o.prototype["on"+e]=function(t){this.scope.emit(e,t)};else{if(2!==i[e])throw Error("wrong number of arguments!");o.prototype["on"+e]=function(t,n){this.scope.emit(e,t,n)}}})},2068:function(e,t){},2069:function(e,t,n){function r(e){this._cbs=e||{}}e.exports=r;var a=n(1736).EVENTS;Object.keys(a).forEach(function(e){if(0===a[e])e="on"+e,r.prototype[e]=function(){this._cbs[e]&&this._cbs[e]()};else if(1===a[e])e="on"+e,r.prototype[e]=function(t){this._cbs[e]&&this._cbs[e](t)};else{if(2!==a[e])throw Error("wrong number of arguments");e="on"+e,r.prototype[e]=function(t,n){this._cbs[e]&&this._cbs[e](t,n)}}})},2070:function(e,t,n){var r=e.exports;[n(2071),n(2077),n(2078),n(2079),n(2080),n(2081)].forEach(function(e){Object.keys(e).forEach(function(t){r[t]=e[t].bind(r)})})},2071:function(e,t,n){var r=n(1737),a=n(2072),o=r.isTag;e.exports={getInnerHTML:function(e,t){return e.children?e.children.map(function(e){return a(e,t)}).join(""):""},getOuterHTML:a,getText:function e(t){if(Array.isArray(t))return t.map(e).join("");if(o(t)||t.type===r.CDATA)return e(t.children);if(t.type===r.Text)return t.data;return""}}},2072:function(e,t,n){var r=n(2073),a=n(2074),o={__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},i={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};var s={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},c=e.exports=function(e,t){Array.isArray(e)||e.cheerio||(e=[e]),t=t||{};for(var n="",a=0;a<e.length;a++){var o=e[a];"root"===o.type?n+=c(o.children,t):r.isTag(o)?n+=l(o,t):o.type===r.Directive?n+=u(o):o.type===r.Comment?n+=f(o):o.type===r.CDATA?n+=p(o):n+=d(o,t)}return n};function l(e,t){"svg"===e.name&&(t={decodeEntities:t.decodeEntities,xmlMode:!0});var n="<"+e.name,r=function(e,t){if(e){var n,r="";for(var i in e)r&&(r+=" "),!(n=e[i])&&o[i]?r+=i:r+=i+'="'+(t.decodeEntities?a.encodeXML(n):n)+'"';return r}}(e.attribs,t);return r&&(n+=" "+r),!t.xmlMode||e.children&&0!==e.children.length?(n+=">",e.children&&(n+=c(e.children,t)),s[e.name]&&!t.xmlMode||(n+="</"+e.name+">")):n+="/>",n}function u(e){return"<"+e.data+">"}function d(e,t){var n=e.data||"";return!t.decodeEntities||e.parent&&e.parent.name in i||(n=a.encodeXML(n)),n}function p(e){return"<![CDATA["+e.children[0].data+"]]>"}function f(e){return"\x3c!--"+e.data+"--\x3e"}},2073:function(e,t){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",isTag:function(e){return"tag"===e.type||"script"===e.type||"style"===e.type}}},2074:function(e,t,n){var r=n(2075),a=n(2076);t.decode=function(e,t){return(!t||t<=0?a.XML:a.HTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?a.XML:a.HTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?r.XML:r.HTML)(e)},t.encodeXML=r.XML,t.encodeHTML4=t.encodeHTML5=t.encodeHTML=r.HTML,t.decodeXML=t.decodeXMLStrict=a.XML,t.decodeHTML4=t.decodeHTML5=t.decodeHTML=a.HTML,t.decodeHTML4Strict=t.decodeHTML5Strict=t.decodeHTMLStrict=a.HTMLStrict,t.escape=r.escape},2075:function(e,t,n){var r=s(n(1783)),a=c(r);t.XML=f(r,a);var o=s(n(1782)),i=c(o);function s(e){return Object.keys(e).sort().reduce(function(t,n){return t[e[n]]="&"+n+";",t},{})}function c(e){var t=[],n=[];return Object.keys(e).forEach(function(e){1===e.length?t.push("\\"+e):n.push(e)}),n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}t.HTML=f(o,i);var l=/[^\0-\x7F]/g,u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function d(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function p(e){return"&#x"+(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function f(e,t){function n(t){return e[t]}return function(e){return e.replace(t,n).replace(u,p).replace(l,d)}}var h=c(r);t.escape=function(e){return e.replace(h,d).replace(u,p).replace(l,d)}},2076:function(e,t,n){var r=n(1782),a=n(1838),o=n(1783),i=n(1837),s=l(o),c=l(r);function l(e){var t=Object.keys(e).join("|"),n=p(e),r=new RegExp("&(?:"+(t+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(e){return String(e).replace(r,n)}}var u=function(){for(var e=Object.keys(a).sort(d),t=Object.keys(r).sort(d),n=0,o=0;n<t.length;n++)e[o]===t[n]?(t[n]+=";?",o++):t[n]+=";";var i=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=p(r);function c(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}return function(e){return String(e).replace(i,c)}}();function d(e,t){return e<t?1:-1}function p(e){return function(t){return"#"===t.charAt(1)?"X"===t.charAt(2)||"x"===t.charAt(2)?i(parseInt(t.substr(3),16)):i(parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}e.exports={XML:s,HTML:u,HTMLStrict:c}},2077:function(e,t){var n=t.getChildren=function(e){return e.children},r=t.getParent=function(e){return e.parent};t.getSiblings=function(e){var t=r(e);return t?n(t):[e]},t.getAttributeValue=function(e,t){return e.attribs&&e.attribs[t]},t.hasAttrib=function(e,t){return!!e.attribs&&hasOwnProperty.call(e.attribs,t)},t.getName=function(e){return e.name}},2078:function(e,t){t.removeElement=function(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}},t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var a=t.parent=e.parent;if(a){var o=a.children;o[o.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(t.parent=e,1!==e.children.push(t)){var n=e.children[e.children.length-2];n.next=t,t.prev=n,t.next=null}},t.append=function(e,t){var n=e.parent,r=e.next;if(t.next=r,t.prev=e,e.next=t,t.parent=n,r){if(r.prev=t,n){var a=n.children;a.splice(a.lastIndexOf(r),0,t)}}else n&&n.children.push(t)},t.prepend=function(e,t){var n=e.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}},2079:function(e,t,n){var r=n(1737).isTag;function a(e,t,n,r){for(var o,i=[],s=0,c=t.length;s<c&&!(e(t[s])&&(i.push(t[s]),--r<=0))&&(o=t[s].children,!(n&&o&&o.length>0&&(o=a(e,o,n,r),i=i.concat(o),(r-=o.length)<=0)));s++);return i}e.exports={filter:function(e,t,n,r){Array.isArray(t)||(t=[t]);"number"==typeof r&&isFinite(r)||(r=1/0);return a(e,t,!1!==n,r)},find:a,findOneChild:function(e,t){for(var n=0,r=t.length;n<r;n++)if(e(t[n]))return t[n];return null},findOne:function e(t,n){var a=null;for(var o=0,i=n.length;o<i&&!a;o++)r(n[o])&&(t(n[o])?a=n[o]:n[o].children.length>0&&(a=e(t,n[o].children)));return a},existsOne:function e(t,n){for(var a=0,o=n.length;a<o;a++)if(r(n[a])&&(t(n[a])||n[a].children.length>0&&e(t,n[a].children)))return!0;return!1},findAll:function e(t,n){var a=[];for(var o=0,i=n.length;o<i;o++)r(n[o])&&(t(n[o])&&a.push(n[o]),n[o].children.length>0&&(a=a.concat(e(t,n[o].children))));return a}}},2080:function(e,t,n){var r=n(1737),a=t.isTag=r.isTag;t.testElement=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){if("tag_name"===n){if(!a(t)||!e.tag_name(t.name))return!1}else if("tag_type"===n){if(!e.tag_type(t.type))return!1}else if("tag_contains"===n){if(a(t)||!e.tag_contains(t.data))return!1}else if(!t.attribs||!e[n](t.attribs[n]))return!1}else;return!0};var o={tag_name:function(e){return"function"==typeof e?function(t){return a(t)&&e(t.name)}:"*"===e?a:function(t){return a(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return!a(t)&&e(t.data)}:function(t){return!a(t)&&t.data===e}}};function i(e,t){return"function"==typeof t?function(n){return n.attribs&&t(n.attribs[e])}:function(n){return n.attribs&&n.attribs[e]===t}}function s(e,t){return function(n){return e(n)||t(n)}}t.getElements=function(e,t,n,r){var a=Object.keys(e).map(function(t){var n=e[t];return t in o?o[t](n):i(t,n)});return 0===a.length?[]:this.filter(a.reduce(s),t,n,r)},t.getElementById=function(e,t,n){return Array.isArray(t)||(t=[t]),this.findOne(i("id",e),t,!1!==n)},t.getElementsByTagName=function(e,t,n,r){return this.filter(o.tag_name(e),t,n,r)},t.getElementsByTagType=function(e,t,n,r){return this.filter(o.tag_type(e),t,n,r)}},2081:function(e,t){t.removeSubsets=function(e){for(var t,n,r,a=e.length;--a>-1;){for(t=n=e[a],e[a]=null,r=!0;n;){if(e.indexOf(n)>-1){r=!1,e.splice(a,1);break}n=n.parent}r&&(e[a]=t)}return e};var n=1,r=2,a=4,o=8,i=16,s=t.compareDocumentPosition=function(e,t){var s,c,l,u,d,p,f=[],h=[];if(e===t)return 0;for(s=e;s;)f.unshift(s),s=s.parent;for(s=t;s;)h.unshift(s),s=s.parent;for(p=0;f[p]===h[p];)p++;return 0===p?n:(l=(c=f[p-1]).children,u=f[p],d=h[p],l.indexOf(u)>l.indexOf(d)?c===t?a|i:a:c===e?r|o:r)};t.uniqueSort=function(e){var t,n,o=e.length;for(e=e.slice();--o>-1;)t=e[o],(n=e.indexOf(t))>-1&&n<o&&e.splice(o,1);return e.sort(function(e,t){var n=s(e,t);return n&r?-1:n&a?1:0}),e}},2082:function(e,t,n){function r(e){this._cbs=e||{},this.events=[]}e.exports=r;var a=n(1736).EVENTS;Object.keys(a).forEach(function(e){if(0===a[e])e="on"+e,r.prototype[e]=function(){this.events.push([e]),this._cbs[e]&&this._cbs[e]()};else if(1===a[e])e="on"+e,r.prototype[e]=function(t){this.events.push([e,t]),this._cbs[e]&&this._cbs[e](t)};else{if(2!==a[e])throw Error("wrong number of arguments");e="on"+e,r.prototype[e]=function(t,n){this.events.push([e,t,n]),this._cbs[e]&&this._cbs[e](t,n)}}}),r.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},r.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var e=0,t=this.events.length;e<t;e++)if(this._cbs[this.events[e][0]]){var n=this.events[e].length;1===n?this._cbs[this.events[e][0]]():2===n?this._cbs[this.events[e][0]](this.events[e][1]):this._cbs[this.events[e][0]](this.events[e][1],this.events[e][2])}}},2083:function(e,t,n){},2084:function(e,t,n){},2090:function(e,t,n){"use strict";var r=n(4),a=n(5),o=n(8),i=n(6),s=n(33),c=n(7),l=n(1),u=n(3),d=n.n(u),p=n(0),f=n(37),h=n(19),m=n(1749),b=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).handleViewed=function(){var e=n.props,t=e.view,r=void 0===t?{}:t,a=e.extra;setTimeout(function(){h.default.trackCardShow(Object(s.default)(n),r,a)})},n.trackEvent=function(e,t,r){h.default.trackEvent(e,t,Object.assign({},n.props.extra,{},r))},n}return Object(c.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.setModule()}},{key:"componentDidUpdate",value:function(){this.setModule()}},{key:"setModule",value:function(){var e=this.props,t=e.module,n=e.index,r=e.isAd,a=e.moduleName,o=e.content,i=e.list,s=e.card,c=e.attachedInfoBytes;if(t){var l=Object(f.findDOMNode)(this);l&&h.default.setModule(l,{module:t,index:n,is_ad:r,module_name:a},function(e,t,n,r){return e?{card:{content:e}}:Object.assign({},t&&{card:t},{},n&&{list:n},{},r&&{attached_info_bytes:r})}(o,s,i,c))}}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.trackCardShow,r=e.children,a="string"==typeof r.type?r:Object(p.cloneElement)(r,{trackEvent:this.trackEvent});return n?Object(l.b)(m.a,{id:t,onViewed:this.handleViewed},a):a}}]),t}(p.Component);b.propTypes={id:d.a.string,module:d.a.string,index:d.a.string,isAd:d.a.bool,content:d.a.object,extra:d.a.object,trackCardShow:d.a.bool,attachedInfoBytes:d.a.string},b.defaultProps={id:null,module:null,index:null,isAd:!1,content:null,extra:null,attachedInfoBytes:null,trackCardShow:!1};var v=b;n.d(t,"a",function(){return v})},2094:function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(4),a=n(5),o=n(8),i=n(6),s=n(7),c=n(1),l=n(3),u=n.n(l),d=n(0),p=n(50),f=n.n(p),h=n(2090),m=n(177),b=n(246),v=(n(2161),{zhihu:"注册或登录",wechat:"使用微信快速登录",weibo:"使用微博快速登录",qq:"使用 QQ 快速登录"}),g={qq:"qqconn",weibo:"sina",wechat:"wechat_mp"},y=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).jumpToOAuthUrl=function(e){var t=n.props.redirectUrl,r=void 0===t?location.href:t,a=Object(b.c)(r),o=a.utm_source,i=a.utm_medium,s=f()(navigator.userAgent).isZhihu;location.href="zhihu"!==e?"https://www.zhihu.com/oauth/redirect/login/".concat(g[e],"?next=/oauth/account_callback&from=").concat(encodeURIComponent(r),"&utm_source=").concat(o,"&ref_source=").concat(i):s?"zhihu://signin?next=".concat(r):"https://www.zhihu.com/signin?next=".concat(r).concat(o?"?utm_source=".concat(o):"")},n.renderSignButtons=function(){var e=n.props.buttons;return"string"==typeof e?n.renderSingleSignButton({name:e}):e.map(function(e){return"string"==typeof e?n.renderSingleSignButton({name:e}):"object"==typeof e?n.renderSingleSignButton(e):null})},n.renderSingleSignButton=function(e){var t=e.name,r=e.text,a=e.fill,o=e.color,i="#fff"===a||"#ffffff"===a;return-1===Object.keys(v).indexOf(t)?null:Object(c.b)("button",{className:"SignInModal-button-".concat(t),key:t,style:{backgroundColor:a,borderColor:i?"#0f88eb":a,color:i?"#0f88eb":o},onClick:function(){n.jumpToOAuthUrl(t)}},r||v[t])},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.urlScheme,r=this.props.title||"".concat(n?"打开 App 或":"","登录后继续操作");return Object(c.b)(m.b,{size:"small",className:"SignInModal",title:r,onClose:t},Object(c.b)(h.a,{module:"SignForm",moduleName:r,trackCardShow:!0},Object(c.b)("div",{className:"SignInModal-content"},n&&Object(c.b)(b.a,{className:"SignInModal-openInAppButton",href:n},"立即打开 App"),this.renderSignButtons())))}}]),t}(d.Component);y.propTypes={onClose:u.a.func.isRequired,urlScheme:u.a.string,redirectUrl:u.a.string,buttons:u.a.oneOfType([u.a.array,u.a.string])},y.defaultProps={buttons:["zhihu"]}},2103:function(e,t,n){},2136:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(10),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M14.782 16.78a.737.737 0 0 1-1.052 0L9.218 12.53a.758.758 0 0 1 0-1.063L13.73 7.22a.737.737 0 0 1 1.052 0c.29.294.29.77.001 1.063L11 12l3.782 3.716c.29.294.29.77 0 1.063z",fillRule:"evenodd"}))};i.defaultProps={name:"ArrowLeft"},t.a=i},2143:function(e,t,n){"use strict";var r,a,o,i=n(23),s=n(1747),c=n(9),l=n(4),u=n(5),d=n(8),p=n(6),f=n(33),h=n(7),m=n(1),b=n(0),v=n.n(b),g=n(3),y=n.n(g),C=n(37),w=n(25),O=n(21),k=n(20),j=n.n(k),_=n(19),S=n(781),x=n.n(S),E=n(30),N=n.n(E),A=n(17),I=n(462),T=n(212),L=n(467),P=n(102),R=n(251),M=n(469),D=n(1689),B=n(778),q=n(135),F=n(22),z=n(18),V="zhihu::comment_local_key",U=5,H=(z.N,1e3),W=980,G=function(){return""},K={error:"上传失败",success:"上传成功",uploadIng:"上传中",default:""},X=(n(2167),Object(O.connect)(null,{showNotification:F.h,uploadImage:q.b})((o=a=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={uploadStatus:K.default},n.triggerClick=function(e){var t=n.props.handleInputActive;n.uploadInput.click(),t(!0),e.preventDefault()},n.onError=function(){var e=n.props,t=e.showNotification,r=e.resetUploadImg;t("图片上传失败","red"),r()},n.onSuccess=function(){n.setState({uploadStatus:K.default})},n.resetFileInput=function(){n.uploadInput.value=null},n.beforeUpload=function(e){var t=n.props.showNotification;return e?e.size>1024*z.N*1024?(t("请上传小于 ".concat(z.N,"M 的图片。"),"red"),n.resetFileInput(),!1):(n.reactPopoverNode.open(),void n.setState({uploadStatus:K.uploadIng})):(n.resetFileInput(),!1)},n.uploadImage=function(e){var t=e.file,r=n.props,a=r.uploadImage,o=r.handleImages,i=r.updatePublishStatus;return a(t).then(function(e){o([Object.assign({},e.payload,{url:e.payload.src})]),i(!1),n.resetFileInput()}).catch(function(){n.setState({uploadStatus:K.error}),o([])})},n.handleOnRef=function(e){var t=n.props.onRef;t&&t(e),n.reactPopoverNode=e},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.images,r=t.disableButton,a=t.resetUploadImg,o=this.state.uploadStatus,i=Boolean(n.length);return Object(m.b)(b.Fragment,null,Object(m.b)(P.a,{className:"ImagePopover",arrowed:!0,ref:this.handleOnRef,placement:"bottom",globalClose:!n.length,onClick:this.triggerClick,toggler:Object(m.b)(R.a,{label:"插入图片",icon:D.a,disabled:r})},Object(m.b)("div",{className:"ImagePopover-thumbnail"},i&&Object(m.b)(b.Fragment,null,Object(m.b)("img",{src:n[0].src}),Object(m.b)("div",{className:"closeButton",onClick:a},Object(m.b)(B.a,null))),o&&!i&&Object(m.b)("p",{className:"ImagePopover-uplodaStatus"},o))),Object(m.b)(M.a,{accept:"image/png,image/jpeg",onRef:function(t){e.uploadInput=t},beforeUpload:this.beforeUpload,customUpload:this.uploadImage,onSuccess:this.onSuccess,onError:this.onError}))}}]),t}(b.Component),a.propTypes={className:y.a.string,disableButton:y.a.bool},a.defaultProps={disableButton:!0},r=o))||r),Y=n(74),Z=n(1690),Q=n(10),$=function(e){return v.a.createElement(Q.a,e,v.a.createElement("path",{d:"M16.375 3.018C19.701 4.643 22 8.047 22 12a9.944 9.944 0 0 1-1.349 5c-1.73 2.986-4.952 5-8.651 5-3.7 0-6.921-2.014-8.651-5A9.944 9.944 0 0 1 2 12c0-3.951 2.298-7.357 5.625-8.982A9.95 9.95 0 0 1 12 2c1.571 0 3.051.373 4.375 1.018zm-4.322 11.17c1.5 0 2.911.662 3.871 1.817a.6.6 0 0 1-.514.978.599.599 0 0 1-.406-.214 3.823 3.823 0 0 0-2.951-1.385c-.605 0-1.185.136-1.723.407a3.85 3.85 0 0 0-1.321 1.093c-.039.05-.091.081-.141.116H8.19c-.006-.004-.013-.003-.018-.006a.6.6 0 0 1-.11-.839 5.074 5.074 0 0 1 1.73-1.433 4.988 4.988 0 0 1 2.26-.534zM8.875 10.75a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5zm6.25-2.5a1.25 1.25 0 1 1-.001 2.5 1.25 1.25 0 0 1 0-2.5zM19.17 17a8.695 8.695 0 0 0 1.58-5c0-3.23-1.764-6.05-4.375-7.566A8.698 8.698 0 0 0 12 3.25a8.69 8.69 0 0 0-4.375 1.184C5.014 5.95 3.25 8.77 3.25 12c0 1.859.586 3.581 1.579 5 1.583 2.264 4.205 3.75 7.171 3.75 2.965 0 5.586-1.486 7.17-3.75z",fillRule:"evenodd"}))};$.defaultProps={name:"Sad"};var J=$,ee=(n(2168),function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={isGifReady:!1,isGifError:!1},n.renderLoadStatus=function(){var e=n.state.isGifError;return Object(m.b)("div",{className:"CommentSticker-load"},e?Object(m.b)(v.a.Fragment,null,Object(m.b)(J,{className:"CommentSticker-load-Icons"}),"加载失败"):Object(m.b)(v.a.Fragment,null,Object(m.b)(Z.a,{className:"CommentSticker-load-Icons"}),"加载中"))};var r=n.props.src;return Object(Y.loadImage)(Object(Y.imgUrl)(r)).then(function(){n.setState({isGifReady:!0})}).catch(function(){n.setState({isGifError:!0})}),n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.isGifReady,t=this.props,n=t.src,r=t.handleStickerClick;return Object(m.b)("div",{className:"CommentSticker"},e?Object(m.b)("img",{src:n,className:"CommentSticker-img",onClick:r}):this.renderLoadStatus())}}]),t}(v.a.Component));ee.propsTypes={handleStickerClick:y.a.func};var te=ee,ne=(n(2169),function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).handleOnRef=function(e){var t=n.props.onRef;t&&t(e)},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.sticker,r=e.stickers,a=e.disableButton,o=e.handleStickerPopoverOpen,i=e.handleStickerPopoverClose,s=e.resetStickers,c=e.addSticker,l=e.handleEmotionClick;return Object(m.b)(P.a,{className:t,arrowed:!0,ref:this.handleOnRef,globalClose:!n.length,preventCloseOnTarget:!0,onClick:l,onOpen:o,onClose:i,toggler:Object(m.b)(R.a,{label:"插入表情",icon:Z.a,disabled:a}),placement:"bottom"},Boolean(n.length)&&Object(m.b)("li",{className:"StickerPopover-stickers-item StickerPopover-stickers-item-single"},Object(m.b)("img",{src:Object(Y.imgUrl)(n[0].url),alt:n[0].title}),Object(m.b)("div",{className:"closeButton",onClick:s},Object(m.b)(B.a,null))),!n.length&&Object(m.b)("div",{className:"StickerPopover-stickers-wrap"},Object(m.b)("ul",{className:"StickerPopover-stickers-list"},r.map(function(e){var t=e.url,n=e.title,r=e.id;return Object(m.b)("li",{className:"StickerPopover-stickers-item",key:r},Object(m.b)(te,{width:48,height:48,src:t,handleStickerClick:function(){return c(e)}}),Object(m.b)("p",null,n))}))))}}]),t}(b.Component));ne.propTypes={className:y.a.string,disableButton:y.a.bool},ne.defaultProps={disableButton:!0};var re,ae,oe,ie;n(2170);function se(){var e=Object(s.a)(["回复","",""]);return se=function(){return e},e}n.d(t,"a",function(){return ce});var ce=(re=Object(O.connect)(function(e){return{stickers:e.commentsV2.stickers||[],commentWithPicPermission:e.commentsV2.commentWithPicPermission||{}}},{showNotification:F.h}),Object(w.withRouter)(ae=re((ie=oe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={active:!1,hasNoContent:!0,shown:!1,submitting:!1,value:{toHTML:G},images:[],uploadIsFetchingNum:0,sticker:[],stickerIconActive:!1,toggleInputStyle:!1,commentTextLength:0},n.handleSubmit=n.context.authRequired(function(){var e=n.props,t=e.replyTo,r=e.onSubmit,a=e.onCancel,o=e.rootCommentId,i=e.isConversation,s=e.zaInfo.zaSubmitCommentId;if(!n.state.submitting){n.setState({submitting:!0});var c=n.state,l=c.images,u=c.sticker,d=n.input.toHTML();if(d||l.length||u.length){d&&n.saveLocalComment();var p=d;if(l.length||u.length){var h=l[0]||u[0],m=l[0]?l[0].url.includes(".gif")?"comment_gif":"comment_img":"comment_sticker";p+='<a class="'.concat(m,"\" href='").concat(h.url,"' data-width='").concat(h.dataRawwidth||"","' data-height='").concat(h.dataRawheight||"","'>[").concat(h.title||"图片","]</a>")}var b=r(p,t,{rootCommentId:o,isConversation:i});b.then?b.then(function(){a&&a(),n.input?(n.input.reset(),n.resetImage(),n.setState({value:{toHTML:G}},function(){return n.saveLocalComment()})):n.saveLocalComment({toHTML:G})}).finally(function(){n.setState({submitting:!1})}):(n.setState({submitting:!1}),a&&a(),n.input.reset()),_.default.trackEvent(Object(f.default)(n),Object.assign({action:"Comment",element:"Button"},s&&{id:s}))}}},void 0,F.b),n.handleCommentShow=n.context.authRequired(function(){n.setState({shown:!0}),n.hiddenInput.focus()}),n.handleCommentHide=function(){n.setState({shown:!1})},n.initLocalComment=function(){var e=n.props,t=e.type,r=e.id;if(t&&r){var a=N.a.get(V)||[],o="".concat(t,"_").concat(r),i=a.find(function(e){return e.key===o}),s=i&&i.value;s&&n.setState({value:{toHTML:function(){return s}},hasNoContent:!1})}},n.saveLocalComment=function(e){var t=n.props,r=t.type,a=t.id;if(r&&a){var o=e?e.toHTML():n.state.value.toHTML(),i="".concat(r,"_").concat(a),s=(N.a.get(V)||[]).filter(function(e){return e.key!==i}),l=o?[].concat(Object(c.a)(s.slice(0,U-1)),[{key:i,value:o}]):s;N.a.set(V,l)}},n.handleChange=function(e){var t=n.state,r=t.sticker,a=t.images;r.length||a.length?n.setState({value:e}):n.setState({value:e,hasNoContent:e.isEmpty}),n.handleInputChange()},n.handleFocus=function(){n.setState({active:!0},n.handleInputChange)},n.handleBlur=function(){var e=n.state,t=e.sticker,r=e.images;t.length||r.length||(n.setState({active:!1}),n.handleInputChange())},n.handleMobileComment=function(){n.handleSubmit(),n.handleCommentHide()},n.handleEmotionClick=function(){var e=n.state.stickerIconActive;e&&n.setState({stickerIconActive:e},n.stickerPopover.close)},n.handleInputChange=function(){var e,t=Object(C.findDOMNode)(n.input);t&&(t.getBoundingClientRect().height>40?n.setState({toggleInputStyle:!0}):n.setState({toggleInputStyle:!1}),e="innerText"in document?t.innerText.length:t.textContent.length,n.setState({commentTextLength:e}),n.imgUploadPopover&&n.imgUploadPopover.position(),n.stickerPopover&&n.stickerPopover.position())},n.handleStickerPopoverOpen=function(){n.setState({active:!0,stickerIconActive:!0},n.stickerPopover.position),setTimeout(n.stickerPopover.position,400)},n.handleStickerPopoverClose=function(){n.setState({stickerIconActive:!1})},n.handleImages=function(e){n.setState({images:e},n.imgUploadPopover.position)},n.handleInputActive=function(e){n.setState({active:e})},n.updatePublishStatus=function(e){n.setState({hasNoContent:e})},n.resetStickers=function(){var e=n.state.value,t=void 0===e.isEmpty||e.isEmpty;n.stickerPopover&&n.stickerPopover.close(),n.setState({sticker:[],hasNoContent:t})},n.resetImage=function(){n.resetStickers(),n.resetUploadImg()},n.resetUploadImg=function(){var e=n.state.value,t=void 0===e.isEmpty||e.isEmpty;n.imgUploadPopover&&n.imgUploadPopover.close(),n.setState({images:[],hasNoContent:t})},n.addSticker=function(e){n.setState({sticker:[e],hasNoContent:!1},n.stickerPopover.position)},n.focusInput=function(e){e.preventDefault(),n.input.focus()},n.createImageOnRef=function(e){n.imgUploadPopover=e},n.createStickerOnRef=function(e){n.stickerPopover=e},n.renderInput=function(e){var t=e.placeholder,r=e.className,a=n.props,o=a.autoFocus,i=a.stickers,s=a.commentWithPicPermission.commentWithPic,c=n.state,l=c.images,u=c.sticker,d=c.stickerIconActive,p=c.toggleInputStyle,f=c.active,h=c.hasNoContent,b=c.commentTextLength,v=Boolean(u.length)||Boolean(l.length);return Object(m.b)("div",{className:j()("CommentEditorV2-inputWrap",{"CommentEditorV2-inputWrap--change":p,"CommentEditorV2-inputWrap--active":f||!h}),onClick:function(e){e.nativeEvent.stopImmediatePropagation()}},Object(m.b)(T.c,{keyMap:{FOCUS_COMMENT_INPUT:"shift+c"},handlers:{FOCUS_COMMENT_INPUT:n.focusInput}}),Object(m.b)(L.a,{className:j()("CommentEditorV2-input",r),defaultValue:n.state.value.toHTML(),allowMention:!0,allowPasteRichText:!1,autoFocus:o,outputBlockType:"div",ref:function(e){n.input=e},placeholder:t,onFocus:n.handleFocus,onChange:n.handleChange,onSubmit:n.handleSubmit,minRows:5}),Object(m.b)("div",{className:j()("CommentEditorV2-inputUpload",{"CommentEditorV2-inputUpload--FlexEnd":p,"CommentEditorV2-inputUpload--SpaceBetween":p&&b>W})},p&&b>W&&Object(m.b)(I.a,{className:"CommentEditorV2-MaxLength",current:b,max:H}),Object(m.b)("div",{className:"CommentEditorV2-popoverWrap"},s&&Object(m.b)(X,{onRef:n.createImageOnRef,images:l,disableButton:v,resetUploadImg:n.resetUploadImg,handleInputActive:n.handleInputActive,updatePublishStatus:n.updatePublishStatus,handleImages:n.handleImages}),Object(m.b)(ne,{className:j()("CommentEditorV2-inputUpLoad-Icon",{"CommentEditorV2-inputUpLoad-Icon--active":d&&!u.length}),onRef:n.createStickerOnRef,disableButton:v,handleEmotionClick:n.handleEmotionClick,handleStickerPopoverOpen:n.handleStickerPopoverOpen,handleStickerPopoverClose:n.handleStickerPopoverClose,stickerIconActive:d,sticker:u,stickers:i,resetStickers:n.resetStickers,addSticker:n.addSticker}))))},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.initLocalComment(),document.addEventListener("click",this.handleBlur)}},{key:"componentWillUnmount",value:function(){this.saveLocalComment(),document.removeEventListener("click",this.handleBlur)}},{key:"render",value:function(){var e=this.props,t=e.replyTo,n=e.commentNeedsReview,r=e.className,a=e.ownerAuthorIsOrg,o=e.ownerAuthorIsBrand,s=this.state,c=s.active,l=s.hasNoContent,u=s.submitting,d=a?"机构":"作者",p={preset:"primary",color:"blue",children:"发布",disabled:l||u};if(t&&t.author){var f=x()(se(),t.author.member.name,n?"，评论由".concat(d,"筛选后公开"):"");return Object(m.b)("div",{className:j()(r,"CommentEditorV2--normal",{"CommentEditorV2--active":c||!l})},this.renderInput({placeholder:f}),Object(m.b)(A.c,Object(i.default)({},p,{className:"CommentEditorV2-singleButton",onClick:this.handleSubmit})))}var h="写下你的评论...";return n&&(h=o?"已开启预审评论，评论由品牌筛选后公开":a?"已开启预审评论，评论由机构筛选后公开":"评论由作者筛选后显示"),Object(m.b)("div",{className:j()(r,"CommentEditorV2--normal",{"CommentEditorV2--active":c||!l})},this.renderInput({placeholder:h}),Object(m.b)(A.c,Object(i.default)({},p,{className:"CommentEditorV2-singleButton",onClick:this.handleSubmit})))}}]),t}(b.Component),oe.propTypes={className:y.a.string,defaultActive:y.a.bool,replyTo:y.a.object,inCommentItem:y.a.bool,commentNeedsReview:y.a.bool,canComment:y.a.object,onCancel:y.a.func,onSubmit:y.a.func.isRequired,zaInfo:y.a.object},oe.defaultProps={defaultActive:!1,replyTo:null,inCommentItem:!1,autoFocus:!0,ownerAuthorIsOrg:!1,ownerAuthorIsBrand:!1,zaInfo:{}},oe.contextTypes={authRequired:y.a.func},ae=ie))||ae)||ae)},2145:function(e,t,n){"use strict";var r,a,o,i,s=n(23),c=n(4),l=n(5),u=n(8),d=n(6),p=n(7),f=n(1),h=n(0),m=n.n(h),b=n(3),v=n.n(b),g=n(21),y=n(25),C=n(20),w=n.n(C),O=n(213),k=n(17),j=n(2434),_=n(1688),S=n(1691),x=n(2467),E=n(2468),N=n(2435),A=n(2469),I=n(2470),T=n(2471),L=n(22),P=n(90),R=n(499),M=n(85),D=n(1862),B=n(150),q=n(133),F=n(2143),z=n(9),V=n(37),U=n(455),H=n(74),W=n(1777),G=(n(2171),function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={previewImg:null},n.handlePreview=function(e){var t=e.target,r=n.props.onPreviewImage;"function"==typeof r?r(e).catch(function(){n.setState({previewImg:t})}):n.setState({previewImg:t})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"mount",value:function(){var e=this;this.imagesGifNode=this.root.getElementsByClassName("comment_gif"),this.imagesNode=this.root.getElementsByClassName("comment_img"),this.imagesStickerNode=this.root.getElementsByClassName("comment_sticker"),this.imgNode=this.root.getElementsByClassName("origin_image zh-lightbox-thumb"),this.imagesNodes=Array.from([].concat(Object(z.a)(this.imagesGifNode),Object(z.a)(this.imagesNode),Object(z.a)(this.imagesStickerNode),Object(z.a)(this.imgNode))).map(function(t){var n=t.dataset||{},r=n.width,a=n.height,o=n.rawwidth,i=n.rawheight,s=Number(r||o),c=Number(a||i),l=document.createElement("div");l.className="Richtext-content_img",t.parentNode.replaceChild(l,t);var u=t.getAttribute("href")||t.getAttribute("src"),d=new Image,p=t.getAttribute("class");return"comment_sticker"!==p&&l.addEventListener("click",e.handlePreview),d.className=p,d.src=u,d.dataset.original=Object(H.imgUrl)(u,"r"),d.dataset.rawwidth=s,d.onload=function(){s===c||"comment_sticker"===p?l.classList.add("Richtext-content_img-square"):s>c?l.classList.add("Richtext-content_img-square--wideShape"):l.classList.add("Richtext-content_img-square--highShape"),l.appendChild(d)},l})}},{key:"unmount",value:function(){this.imagesNodes&&this.imagesNodes.forEach(function(e){Object(V.unmountComponentAtNode)(e)})}},{key:"componentDidMount",value:function(){this.mount()}},{key:"componentWillUpdate",value:function(e){this.props.html!==e.html&&this.unmount()}},{key:"componentDidUpdate",value:function(e){e.html!==this.props.html&&this.mount()}},{key:"componentWillUnmount",value:function(){this.unmount()}},{key:"render",value:function(){var e=this,t=this.state.previewImg,n=this.props,r=n.html,a=n.className;return Object(f.b)("div",{className:w()("CommentRichText",a),ref:function(t){return e.root=t}},Object(f.b)(W.a,{html:r}),t&&Object(f.b)(U.a,{className:"CommentRichText-ImageView",img:t,onClose:function(){return e.setState({previewImg:null})}}))}}]),t}(h.Component)),K=n(18);n(2172);n.d(t,"a",function(){return X});var X=(r=Object(g.connect)(function(e){return{isWechat:e.env.userAgent.Wechat,permission:Object(P.R)(e)}}),Object(y.withRouter)(a=r((i=o=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={reportModalShown:!1,isReplying:!1,guideShown:!1,deleteModal:!1},n.toggleReply=n.context.authRequired(function(){n.setState({isReplying:!n.state.isReplying})},void 0,L.b),n.openReportModal=n.context.authRequired(function(){n.setState({reportModalShown:!0})}),n.like=n.context.authRequired(function(e){var t=n.props;(0,t.onLike)(t.comment.id,e)},K.S.like,L.b),n.dislike=n.context.authRequired(function(){var e=n.props;(0,e.onDislike)(e.comment.id)},K.S.like,L.b),n.delete=function(){var e=n.props;return(0,e.onDelete)(e.comment.id)},n.feature=function(e){var t=n.props,r=t.onFeature,a=t.comment.id;r(e?"".concat(a,"_featured"):a)},n.collapse=function(){var e=n.props;(0,e.onCollapse)(e.comment.id)},n.approve=function(){var e=n.props;(0,e.onApprove)(e.comment.id)},n.reject=function(){var e=n.props;(0,e.onReject)(e.comment.id)},n.showConversation=function(e){var t=n.props;(0,t.onShowConversation)({commentId:t.comment.id,isAnchorComments:e})},n.stopReply=function(){n.setState({isReplying:!1})},n.closeReportModal=function(e){if(e){var t=e.result.payload,r=t&&t.message||t&&t.code&&"举报失败";e.commentDeleteResult&&!(e.commentDeleteResult.payload||{}).code?D.b.showModal({reportText:r}):Object(M.b)(r||"举报成功")}n.setState({reportModalShown:!1})},n.handleToggleGuide=function(){n.setState({guideShown:!n.state.guideShown})},n.handleCloseDelete=function(){return n.setState({deleteModal:!1})},n.handleDelete=function(){return n.setState({deleteModal:!0})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"renderRoleInfo",value:function(e,t){return"normal"===e?null:Object(f.b)("span",{className:"CommentItemV2-roleInfo"},"ancestor"===e||"author"===e&&"question"===t?" (提问者) ":" (作者) ")}},{key:"renderReplyTo",value:function(){var e=this.props.comment,t=e.replyToAuthor,n=e.resourceType;if(!t)return null;var r=t.member,a=void 0===r?{}:r,o=t.role;return Object(f.b)(m.a.Fragment,null,Object(f.b)("span",{className:"CommentItemV2-reply"},"回复"),Object(f.b)(q.a,{noBadge:!0,noHoverCard:!0,user:a}),this.renderRoleInfo(o,n))}},{key:"renderItem",value:function(){var e,t=this,n=this.props,r=n.isConversation,a=n.ownerAuthorIsOrg,o=n.parent,i=o.canComment,c=(i=void 0===i?{status:!0}:i).status,l=o.questionType,u=n.commentNeedsReview,d=n.comment,p=n.onReply,h=n.status,b=n.type,v=n.canOperate,g=n.commentPattern,y=n.rootCommentId,C=n.byComment,L=n.isReverseAndStatusOpen,P=n.hasRecommend,M=n.permission.canBrandAdminEdit,z=n.showCollapsed,V=this.state,U=V.reportModalShown,H=V.isReplying,W=d.id,K=d.author,X=d.content,Y=d.voteCount,Z=d.replyToAuthor,Q=d.isAuthor,$=d.createdTime,J=d.featured,ee=d.voting,te=d.reviewing,ne=d.disliked,re=d.resourceType,ae=d.childCommentCount,oe=d.allowDelete,ie=d.allowVote,se=d.canRecommend,ce=d.canCollapse,le=d.collapsedReason,ue=void 0===le?"":le,de=d.isDelete,pe=d.collapsed,fe=pe&&!z,he=fe?"该评论已被折叠":X,me=de||fe,be=K||{},ve=be.member,ge=be.role,ye=Boolean(Z),Ce=J&&(ae>0||ye)&&!r||C&&ye||L&&ye,we=Q||oe&&("question"!==b||"commercial"===l),Oe=Object(f.b)("div",{className:"CommentItemV2-footer"},Object(f.b)(k.c,{className:w()("CommentItemV2-likeBtn",ee&&"is-liked"),preset:"plain",onClick:this.like,disabled:Q},Object(f.b)(j.a,{style:{marginRight:5},center:!0,size:16}),Y>0?Y:"赞"),pe&&ue&&Object(f.b)("div",{className:"CommentItemV2-walleTag"},"阴阳怪气自动折叠"===ue&&Object(f.b)(_.a,{size:16,className:"CommentItemV2-walleIcon"}),ue),Ce&&Object(f.b)(k.c,{preset:"plain",className:"CommentItemV2-talkBtn",onClick:function(){return t.showConversation(ye)}},Object(f.b)(S.a,{style:{marginRight:5},center:!0,size:16}),"查看回复"),!Q&&c&&!pe&&Object(f.b)(k.c,{preset:"plain",className:w()({"CommentItemV2-hoverBtn":!H}),onClick:this.toggleReply},Object(f.b)(x.a,{style:{marginRight:5},center:!0,size:16}),H?"取消回复":"回复"),se&&!P&&v&&Object(f.b)(k.c,{className:w()({"CommentItemV2-hoverBtn":!Q&&!H}),preset:"plain",onClick:function(){return t.feature(J)}},Object(f.b)(E.a,{style:{marginRight:5},center:!0,size:16}),J?"取消推荐":"推荐"),ce&&!Q&&Object(f.b)(k.c,{className:w()({"CommentItemV2-hoverBtn":!Q&&!H}),preset:"plain",onClick:this.collapse},Object(f.b)(N.a,{style:{marginRight:5},center:!0,size:14}),pe?"取消折叠":"折叠"),ie&&!Q&&v&&Object(f.b)(k.c,{className:w()({"CommentItemV2-hoverBtn":!H}),preset:"plain",onClick:this.dislike},Object(f.b)(j.a,{style:{transform:"rotate(180deg)",marginRight:5},size:16,center:!0}),ne?"取消踩":"踩"),Q||Object(f.b)(m.a.Fragment,null,Object(f.b)(k.c,{className:"CommentItemV2-hoverBtn",preset:"plain",onClick:this.openReportModal},Object(f.b)(A.a,{style:{marginRight:5},center:!0,size:16}),"举报"),"question"===b&&"commercial"===l&&M&&Object(f.b)(k.c,{className:"CommentItemV2-hoverBtn",preset:"plain",onClick:this.reject},Object(f.b)(N.a,{style:{marginRight:5},center:!0,size:16}),"隐藏")),we&&Object(f.b)(k.c,{className:w()({"CommentItemV2-hoverBtn":!Q&&!H&&!H}),preset:"plain",onClick:this.handleDelete},Object(f.b)(I.a,{style:{marginRight:5},center:!0,size:16}),"删除"),Object(f.b)(D.a,{shown:this.state.deleteModal,id:W,onDelete:this.delete,onClose:this.handleCloseDelete}),Object(f.b)(B.a,Object(s.default)({type:"comment",urlToken:W,shown:U,onClose:this.closeReportModal},we&&{onDeleteComment:this.delete},{notification:{failure:R.a},zaEnabled:!0})));return e=H?Object(f.b)("div",null,Oe,Object(f.b)(F.a,{type:"comment",id:W,commentNeedsReview:u,className:"CommentItemV2-editor",defaultActive:!0,replyTo:d,onCancel:this.stopReply,onSubmit:p,rootCommentId:y,isConversation:r})):"reviewing"===h?Object(f.b)("div",{className:"CommentItemV2-footer"},Object(f.b)(k.c,{preset:"plain",onClick:this.approve},Object(f.b)(T.a,{style:{marginRight:5},center:!0,size:14}),"公开"),Object(f.b)(k.c,{className:"CommentItemV2-hoverBtn",preset:"plain",onClick:this.handleDelete},Object(f.b)(I.a,{style:{marginRight:5},center:!0,size:16}),"删除"),Object(f.b)(D.a,{shown:this.state.deleteModal,id:W,onDelete:this.delete,onClose:this.handleCloseDelete})):Oe,Object(f.b)("div",null,Object(f.b)("div",{className:"CommentItemV2-meta"},ve&&Object(f.b)(q.a,{className:"CommentItemV2-avatar",avatar:!0,noHoverCard:"fixed"===g,user:ve}),ve&&Object(f.b)(q.a,{noBadge:!0,noHoverCard:!0,user:ve}),this.renderRoleInfo(ge,re),this.renderReplyTo(),te&&Object(f.b)(N.a,{className:"CommentItemV2-reviewing","data-tooltip":"".concat(!1===a?"评论未公开，由作者筛选后显示":"已开启预审评论，评论由机构筛选后公开"),center:!0,size:14}),Object(f.b)("span",{className:"CommentItemV2-time"},Object(O.toRelativeString)($))),Object(f.b)("div",{className:"CommentItemV2-metaSibling"},Object(f.b)(G,{className:w()("CommentItemV2-content",{"CommentItemV2-shield":me}),html:he}),!me&&e))}},{key:"render",value:function(){return this.renderItem()&&Object(f.b)("div",{className:"CommentItemV2",ref:this.props.onRef},this.renderItem())}}]),t}(h.Component),o.propTypes={comment:v.a.object.isRequired,parent:v.a.object.isRequired,commentNeedsReview:v.a.bool,type:v.a.string,isConversation:v.a.bool,onLike:v.a.func.isRequired,onShowConversation:v.a.func,onReply:v.a.func,onFeature:v.a.func,onDelete:v.a.func.isRequired,onCollapse:v.a.func,commentPattern:v.a.string,showCollapsed:v.a.bool},o.contextTypes={currentUser:v.a.object,authRequired:v.a.func},a=i))||a)||a)},2161:function(e,t,n){},2162:function(e,t,n){},2163:function(e,t,n){e.exports=n.p+"assets/deleteComment.97d8abc0.gif"},2164:function(e,t,n){},2167:function(e,t,n){},2168:function(e,t,n){},2169:function(e,t,n){},2170:function(e,t,n){},2171:function(e,t,n){},2172:function(e,t,n){},2296:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(10),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M10.229 17.516c-.318.327-.75.484-1.199.484-.453 0-.884-.16-1.202-.488l-4.335-4.47a1.77 1.77 0 0 1 .007-2.459 1.663 1.663 0 0 1 2.397.01l3.137 3.246 9.072-9.329a1.662 1.662 0 0 1 2.397 0c.663.681.663 1.786 0 2.466L10.23 17.516z",fillRule:"evenodd"}))};i.defaultProps={name:"Check"},t.a=i},2319:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(10),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M12 13L8.285 9.218a.758.758 0 0 0-1.064 0 .738.738 0 0 0 0 1.052l4.249 4.512a.758.758 0 0 0 1.064 0l4.246-4.512a.738.738 0 0 0 0-1.052.757.757 0 0 0-1.063 0L12.002 13z",fillRule:"evenodd"}))};i.defaultProps={name:"ArrowDown"},t.a=i},2324:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(10),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M18.453 7.992l-1.833-1.65.964-.978a1.223 1.223 0 0 1 1.73-.012l.005.006a1.24 1.24 0 0 1 .007 1.748l-.873.886zm-1.178 1.194l-5.578 5.66-1.935.697a.393.393 0 0 1-.504-.504l.697-1.935 5.488-5.567 1.832 1.65zM7.58 5.848l5.654.006-1.539 1.991-3.666.012A1.02 1.02 0 0 0 7 8.868v7.993c0 .558.46 1.01 1.029 1.01l7.941-.01c.568 0 1.03-.453 1.03-1.012v-4.061l2-1.442v6.002c0 1.397-1.2 2.501-2.62 2.501H7.574C6.153 19.85 5 18.717 5 17.32V8.35c0-1.397 1.16-2.502 2.58-2.502z"}))};i.defaultProps={name:"EditSurround"},t.a=i},2325:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(10),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M6 3.956v16.088C6 21.124 6.517 22 7.9 22c.326 0 .533-.087.896-.236L22 13.784c.571-.355 1.143-.87 1.143-1.784S22.57 10.571 22 10.216L8.796 2.236C8.433 2.087 8.226 2 7.9 2 6.514 2 6 2.876 6 3.956z"}))};i.defaultProps={name:"Play"},t.a=i},2411:function(e,t,n){"use strict";var r=n(4),a=n(5),o=n(8),i=n(6),s=n(7),c=n(9),l=n(0),u=n.n(l),d=n(16),p=n.n(d),f=n(17),h=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).handleClick=function(){var e=n.props;(0,e.onSelect)(e.page)},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.isCurrent,r=e.className;return u.a.createElement(f.c,{preset:f.b.Plain,className:p()("PaginationButton",{"PaginationButton--current":n},r),onClick:this.handleClick,disabled:n},t)}}]),t}(l.Component),m=(n(2451),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Array.from({length:t},function(t,n){return n+e})}),b=function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.onSelect,r=t.className,a=t.clickCallback,o=this.props.current,i=this.props.total,s=a&&(e=a,function(){e.apply(void 0,arguments)})||n,l=function(e,t){var n="...";return t<=5?m(1,t):e>t-3?[1,n].concat(Object(c.a)(m(t-3,3)),[t]):e<=3?[1].concat(Object(c.a)(m(2,3)),[n,t]):[1,n].concat(Object(c.a)(m(e-Math.floor(1.5),3)),[n,t])}(o,i);return u.a.createElement("div",{className:p()("Pagination",r)},o>1&&o<=i&&u.a.createElement(h,{className:"PaginationButton-prev",onSelect:s,text:"上一页",page:o-1}),l.map(function(e,t){return"number"==typeof e?u.a.createElement(h,{onSelect:s,text:e,page:e,key:t,isCurrent:o===e}):u.a.createElement("button",{disabled:!0,key:t,className:"PaginationButton PaginationButton--ellipsis"},e)}),o>0&&o<i&&u.a.createElement(h,{className:"PaginationButton-next",onSelect:s,text:"下一页",page:o+1}))}}]),t}(l.Component);b.defaultProps={current:1,total:1,onSelect:function(){}},n.d(t,"a",function(){return b})},2434:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(10),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M14.445 9h5.387s2.997.154 1.95 3.669c-.168.51-2.346 6.911-2.346 6.911s-.763 1.416-2.86 1.416H8.989c-1.498 0-2.005-.896-1.989-2v-7.998c0-.987.336-2.032 1.114-2.639 4.45-3.773 3.436-4.597 4.45-5.83.985-1.13 3.2-.5 3.037 2.362C15.201 7.397 14.445 9 14.445 9zM3 9h2a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V10a1 1 0 0 1 1-1z",fillRule:"evenodd"}))};i.defaultProps={name:"Like"},t.a=i},2435:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(10),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M17.007 11.504c0 .65-.13 1.26-.36 1.83l3 3.073S23 14.136 23 11.504C23 8.008 17.255 4 11.995 4c-1.4 0-2.741.25-3.982.701l2.161 2.16c.57-.23 1.18-.36 1.831-.36a5.004 5.004 0 0 1 5.002 5.003zM2.57 4.342l2.067 2.075C3.499 7.258 1 9.119 1 11.504c0 3.336 5.79 7.503 11.005 7.503 1.55 0 3.031-.3 4.382-.84l.42.42 2.125 2.118s.782.571 1.314 0-.074-1.305-.074-1.305L3.955 3.183s-.76-.742-1.385-.19c-.626.554 0 1.35 0 1.35zm4.963 4.96l1.55 1.552c-.05.21-.08.43-.08.65 0 1.66 1.341 3.001 3.002 3.001.22 0 .44-.03.65-.08l1.551 1.551c-.67.33-1.41.53-2.2.53a5.004 5.004 0 0 1-5.003-5.002c0-.79.2-1.53.53-2.201zm4.312-.78l3.151 3.152.02-.16c0-1.66-1.34-3.001-3.001-3.001l-.17.01z",opacity:".9",fillRule:"evenodd"}))};i.defaultProps={name:"EyeSlash"},t.a=i},2451:function(e,t,n){},2467:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(10),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M22.959 17.22c-1.686-3.552-5.128-8.062-11.636-8.65-.539-.053-1.376-.436-1.376-1.561V4.678c0-.521-.635-.915-1.116-.521L1.469 10.67a1.506 1.506 0 0 0-.1 2.08s6.99 6.818 7.443 7.114c.453.295 1.136.124 1.135-.501V17a1.525 1.525 0 0 1 1.532-1.466c1.186-.139 7.597-.077 10.33 2.396 0 0 .396.257.536.257.892 0 .614-.967.614-.967z",fillRule:"evenodd"}))};i.defaultProps={name:"Reply"},t.a=i},2468:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(10),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M6.433 14.285l-.918 5.355c-.219 1.274.532 1.82 1.676 1.218l4.81-2.528 4.807 2.528c1.145.601 1.896.056 1.677-1.218l-.918-5.355 3.89-3.792c.925-.903.64-1.785-.64-1.97l-2.843-.414c-.538.583-4.195 4.547-5.757 6.12-.865.822-1.572.015-1.572.015l-1.92-1.906s-.405-.623.213-1.204c.62-.58 1.174-.193 1.174-.193l1.32 1.14 4.008-4.34-2.404-4.872c-.572-1.159-1.5-1.159-2.072 0L8.56 7.741l-5.376.781c-1.279.186-1.566 1.068-.64 1.971l3.89 3.792z",fillRule:"evenodd"}))};i.defaultProps={name:"Recommend"},t.a=i},2469:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(10),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M19.947 3.129c-.633.136-3.927.639-5.697.385-3.133-.45-4.776-2.54-9.949-.888-.997.413-1.277 1.038-1.277 2.019L3 20.808c0 .3.101.54.304.718a.97.97 0 0 0 .73.304c.275 0 .519-.102.73-.304.202-.179.304-.418.304-.718v-6.58c4.533-1.235 8.047.668 8.562.864 2.343.893 5.542.008 6.774-.657.397-.178.596-.474.596-.887V3.964c0-.599-.42-.972-1.053-.835z",fillRule:"evenodd"}))};i.defaultProps={name:"Report"},t.a=i},2470:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(10),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M16.464 4s.051-2-1.479-2H9C7.194 2 7.465 4 7.465 4H4.752c-2.57 0-2.09 3.5 0 3.5l1.213 13.027S5.965 22 7.475 22h8.987c1.502 0 1.502-1.473 1.502-1.473l1.2-13.027c2.34 0 2.563-3.5 0-3.5h-2.7zM8.936 18.5l-.581-9h1.802v9H8.936zm4.824 0v-9h1.801l-.61 9H13.76z",fillRule:"evenodd"}))};i.defaultProps={name:"Trash"},t.a=i},2471:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(10),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M1 11.5C1 15 7 19 12 19s11-4 11-7.5S17 4 12 4 1 8 1 11.5zm11 5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm-3-5c0 1.66 1.34 3 3 3s3-1.34 3-3-1.34-3-3-3-3 1.34-3 3z",fillRule:"evenodd"}))};i.defaultProps={name:"Eye"},t.a=i},2477:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(10),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M12 11l-3.716 3.782a.758.758 0 0 1-1.064 0 .738.738 0 0 1 0-1.052l4.249-4.512a.758.758 0 0 1 1.064 0l4.246 4.512a.738.738 0 0 1 0 1.052.757.757 0 0 1-1.063 0L12.002 11z",fillRule:"evenodd"}))};i.defaultProps={name:"ArrowUp"},t.a=i},2489:function(e,t,n){"use strict";var r=n(4),a=n(5),o=n(8),i=n(6),s=n(7),c=n(1),l=n(0),u=n(3),d=n.n(u),p=n(20),f=n.n(p),h=n(187),m=n(17),b=n(244),v=n(2055),g=n(3023),y={normal:{text:"默认排序",value:"reverse"},reverse:{text:"时间排序",value:"normal"}},C=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={text:"时间排序",value:"normal"},n.switchType=function(e){var t=n.state.value,r=n.props.onOrderChange,a=y[t],o=a.text,i=a.value;n.setState({text:o,value:i}),r&&r(i,e)},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.state.text,t=this.props,n=t.isConversation,r=t.commentClosed;return t.shouldReverse?!n&&!r&&Object(c.b)(m.c,{preset:"plain",onClick:this.switchType,icon:g.a,label:"切换为".concat(e)}):null}}]),t}(l.Component);C.propTypes={isConversation:d.a.bool,commentClosed:d.a.bool,onOrderChange:d.a.func,shouldReverse:d.a.bool};var w=n(70),O=(n(3274),function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props,t=e.commentPattern,n=e.onNavBack;return Object(c.b)("h2",{className:"CommentTopbar-title"},"bottom"!==t?Object(c.b)(m.c,{className:"CommentTopbar-back",preset:"plain",onClick:n},Object(c.b)(w.a,{className:"CommentTopbar-backIcon",name:"arrowLeft",left:!0,width:14,height:14}),"返回评论"):Object(c.b)("div",null,"查看对话"))}}]),t}(l.Component));O.propTypes={commentPattern:d.a.string,onNavBack:d.a.func};n(3275);n.d(t,"a",function(){return k});var k=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).renderTopBarSwitch=function(){var e=n.props,t=e.isMobile,r=e.status,a=e.isConversation,o=e.commentCount,i=e.onOrderChange,s=e.commentClosed,l=e.shouldReverse;return!t&&Boolean(o&&!s)&&"reviewing"!==r&&Object(c.b)(C,{isConversation:a,onOrderChange:i,commentClosed:s,shouldReverse:l})},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"renderTitle",value:function(){var e=this.props,t=e.commentCount,n=e.commentClosed,r=e.isConversation,a=e.onNavBack,o=e.targetLink,i=e.isCommentReviewer,s=e.reviewingCounts,u=e.onStatusChange,d=e.status,p=e.commentPattern,v=e.isOrg,g=e.isMobile;return r?Object(c.b)(O,{commentPattern:p,onNavBack:a}):i&&!n?Object(c.b)("div",{className:"CommentTopbar-tabsWrapper"},Object(c.b)(h.b,{className:"CommentTopbar-tabs"},Object(c.b)(h.a,{className:"CommentTopbar-tab","aria-controls":"CommentTopbar-open",meta:Object(b.formatNumber)(t)},Object(c.b)(m.c,{className:f()("CommentTopbar-tabButton",{"is-active":"open"===d}),onClick:function(){return u("open")}},"公开评论")),!g&&Object(c.b)(h.a,{className:"CommentTopbar-tab","aria-controls":"CommentTopbar-reviewing",meta:void 0===s?null:Object(b.formatNumber)(s)},Object(c.b)(m.c,{className:f()("CommentTopbar-tabButton",{"is-active":"reviewing"===d}),onClick:function(){return u("reviewing")}},"待".concat(v?"审核":"筛选","评论")))),o):Object(c.b)(l.Fragment,null,Object(c.b)("h2",{className:"CommentTopbar-title"},t&&!n?"".concat(Object(b.formatNumber)(t)," 条评论"):"还没有评论",o))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.onRef,r=e.isMobile;return Object(c.b)(v.a,{className:f()("CommentTopbar",t),onRef:n,header:this.renderTitle(),options:this.renderTopBarSwitch(),showOptions:!r})}}]),t}(l.Component);k.propTypes={commentCount:d.a.oneOfType([d.a.number,d.a.string]),isConversation:d.a.bool,onNavBack:d.a.func,isCommentReviewer:d.a.bool,onStatusChange:d.a.func,onOrderChange:d.a.func,status:d.a.string,reviewingCounts:d.a.oneOfType([d.a.number,d.a.string]),targetLink:d.a.node,commentClosed:d.a.bool,commentPattern:d.a.string,isOrg:d.a.bool,isMobile:d.a.bool,options:d.a.element,shouldReverse:d.a.bool},k.defaultProps={shouldReverse:!0}},2582:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(10),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-2.762-5.37c.243.246.452.37.78.37.33 0 .576-.203.827-.443.25-.24 7.052-7.054 7.052-7.054a.988.988 0 0 0-.311-1.354.973.973 0 0 0-1.345.315l-6.222 6.077-2.31-2.418a.971.971 0 0 0-1.368-.19.988.988 0 0 0-.188 1.377s2.841 3.074 3.085 3.32z",fillRule:"evenodd"}))};i.defaultProps={name:"CheckCircle"},t.a=i},2598:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(4),a=n(5),o=n(8),i=n(6),s=n(7),c=n(1),l=n(0),u=n(151),d=(n(3273),function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props.onRef;return Object(c.b)("div",{className:"Comments-pattern-loading",ref:e},Object(c.b)(u.a,null))}}]),t}(l.PureComponent))},2599:function(e,t,n){"use strict";n.d(t,"a",function(){return d});var r=n(28),a=n(1),o=n(0),i=n.n(o),s=n(1868),c=n(2477),l=n(149),u=n.n(l);n(3276);function d(e){var t=e.onClick,n=e.commentsElRef,o=i.a.useState(!1),l=Object(r.a)(o,2),d=l[0],p=l[1],f=i.a.useState(0),h=Object(r.a)(f,2),m=h[0],b=h[1];return i.a.useEffect(function(){var e=n.current;if(e){var t=e.getBoundingClientRect().right;b(t-16)}},[n]),i.a.useEffect(function(){var e=u()(function(){var e=n.current;if(e){var t=window.innerHeight,r=e.getBoundingClientRect(),a=r.top,o=r.bottom,i=r.height;p(i>500&&o>t&&a<0)}},100);return window.addEventListener("scroll",e),function(){e.cancel(),window.removeEventListener("scroll",e)}},[n]),Object(s.d)(d,null,{from:{opacity:0,left:m},enter:{opacity:1,left:m},leave:{opacity:0,left:m}}).map(function(e){var n=e.item,r=e.key,o=e.props;return n&&Object(a.b)(s.a.button,{key:r,style:o,onClick:t,className:"CommentCollapseButton"},"收起评论",Object(a.b)(c.a,{center:!0}))})}},2600:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(2);function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.selectedKey,o=void 0===a?"selectedProps":a,i=n.dropedKey,s=void 0===i?"dropedProps":i;return Object.keys(e).reduce(function(n,a){var i=t.includes(a)?o:s;return Object.assign({},n,Object(r.a)({},i,Object.assign({},n[i],Object(r.a)({},a,e[a]))))},{})}},2601:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){return"article"===e?"Post":"book_review"===e?"BookReview":"".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1))}},3023:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(10),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M13.004 7V4.232c0-.405.35-.733.781-.733.183 0 .36.06.501.17l6.437 5.033c.331.26.376.722.1 1.033a.803.803 0 0 1-.601.264H2.75a.75.75 0 0 1-.75-.75V7.75A.75.75 0 0 1 2.75 7h10.254zm-1.997 9.999v2.768c0 .405-.35.733-.782.733a.814.814 0 0 1-.5-.17l-6.437-5.034a.702.702 0 0 1-.1-1.032.803.803 0 0 1 .6-.264H21.25a.75.75 0 0 1 .75.75v1.499a.75.75 0 0 1-.75.75H11.007z",fillRule:"evenodd"}))};i.defaultProps={name:"Switch"},t.a=i},3099:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(10),i=function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M18 8c.1-3.308-2.592-6-5.9-6-3.308 0-6 2.692-6 6v2H5.002C4 10 4 11 4 11v9s0 2 2 2h12c2 0 2-1.97 2-1.97V11s0-1-1-1h-1V8zm-6-4c2.143.018 4.005 1.597 4 4v2H8V7.996C8.013 5.562 9.857 3.982 12 4z",fillRule:"evenodd"}))};i.defaultProps={name:"Lock"},t.a=i},3271:function(e,t,n){},3272:function(e,t,n){},3273:function(e,t,n){},3274:function(e,t,n){},3275:function(e,t,n){},3276:function(e,t,n){},3277:function(e,t,n){},3278:function(e,t,n){var r=n(796),a=n(252),o=n(485),i=Math.max,s=Math.min;e.exports=function(e,t,n){var c=null==e?0:e.length;if(!c)return-1;var l=c-1;return void 0!==n&&(l=o(n),l=n<0?i(c+l,0):s(l,c-1)),r(e,a(t,3),l,!0)}},3279:function(e,t,n){},3280:function(e,t,n){},3281:function(e,t,n){},3282:function(e,t,n){},3283:function(e,t,n){},3284:function(e,t,n){},3285:function(e,t,n){},3286:function(e,t,n){},3287:function(e,t,n){},3288:function(e,t,n){},3354:function(e,t){e.exports={attributes:{width:"72px",height:"58px",viewBox:"0 0 72 58"},content:'<defs>         <path d="M0.00434937116,11.7604183 C0.0014585125,11.8367351 0,11.9134174 0,11.9904392 L0,52.0095608 C0,55.3137533 2.68603825,58 5.99943435,58 L66.0005656,58 C69.3089213,58 72,55.317989 72,52.0095608 L72,11.9904392 C72,8.68624675 69.3139617,6 66.0005656,6 L31.1520961,6 L30.2346555,3.7077864 C29.4154984,1.66113281 26.9585394,0 24.7478675,0 L6.18638069,0 C2.86742525,0 0.139552484,2.68348852 0.0902454792,5.99373937 L0.00434937116,11.7604183 Z" id="path-1"></path>         <mask id="mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="72" height="58" fill="white">             <use xlink:href="#path-1"></use>         </mask>     </defs>     <g id="空状态" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">         <g id="collection" transform="translate(-39.000000, -30.000000)" stroke="#E7EAF1">             <g transform="translate(39.000000, 30.000000)" id="Group-7">                 <g>                     <use id="Combined-Shape" mask="url(#mask-2)" stroke-width="6" xlink:href="#path-1"></use>                     <path d="M36.4126782,38.4800003 L30.2669271,41.2927815 C29.7656337,41.522213 29.4096881,41.2718295 29.4738593,40.716584 L30.2498317,34.0024302 L25.6755762,29.0266708 C25.3024658,28.6208107 25.4306014,28.2049135 25.9785012,28.0943637 L32.6038296,26.7575697 L35.9225353,20.8696 C36.1932338,20.3893332 36.6283715,20.3826781 36.9028211,20.8696 L40.2215268,26.7575697 L46.8468552,28.0943637 C47.3872665,28.2034026 47.5280608,28.6151866 47.1497802,29.0266708 L42.5755247,34.0024302 L43.3514971,40.716584 C43.4147912,41.2642406 43.0666691,41.5253922 42.5584293,41.2927815 L36.4126782,38.4800003 Z" id="Star" stroke-width="3"></path>                 </g>             </g>         </g>     </g>'}},3355:function(e,t,n){},3356:function(e,t,n){},3357:function(e,t,n){},3358:function(e,t,n){},3359:function(e,t,n){},3361:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(5),o=n(8),i=n(6),s=n(7),c=n(1),l=n(0),u=n.n(l),d=n(20),p=n.n(d),f=n(450),h=n.n(f),m=n(19);n(536);var b=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).rootRef=u.a.createRef(),n.unobserve=h.a,n.renderTarget=function(){var e=n.props.item,t=e.content.target,r=t.text,a=t.link,o=e.id,i=e.target,s=e.target,l=(s=void 0===s?{}:s).id,u=s.target,d=void 0===u?{}:u,p=d.type;return i&&"comment"===i.type?n.renderCommentButton(r,{type:p,href:a,byComment:l,target:d,notificationId:o}):Object(c.b)("span",null,a?Object(c.b)("a",{href:a,"data-za-detail-view-id":5109},r):Object(c.b)("span",null,r))},n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.addObserve,n=e.item.attachInfo,r=this.rootRef.current;m.default.setModule(r,{module:"Content"},{attached_info_bytes:n}),this.unobserve=t(r)}},{key:"componentWillUnmount",value:function(){this.unobserve()}},{key:"renderCommentButton",value:function(e,t){var n=this,r=t.href,a=t.byComment,o=t.notificationId;return Object(c.b)("a",{href:"".concat(r).concat(a?"#comment-".concat(a,"?notificationId=").concat(o):""),"data-za-detail-view-id":5109,onClick:function(e){e.preventDefault(),n.props.onCommentsModalOpen(t)}},e)}},{key:"render",value:function(){var e,t=this.props.item,n=t.content,r=n.verb,a=n.actors,o=t.isRead;return Object(c.b)("div",{ref:this.rootRef,className:p()("PushNotifications-item",{"PushNotifications-newItem":!o})},Object(c.b)("span",null,(e=a,Array.isArray(e)||(e=[e]),e.map(function(e,t){return Object(c.b)("span",{className:"PushNotifications-actor",key:t},e.link?Object(c.b)("a",{href:e.link,"data-za-detail-view-id":5109},e.name):Object(c.b)("span",null,e.name))})))," ",r," ",this.renderTarget())}}]),t}(l.Component);t.default=b},3373:function(e,t,n){"use strict";n.r(t);var r,a,o=n(23),i=n(27),s=n(2),c=n(4),l=n(5),u=n(8),d=n(6),p=n(7),f=n(1),h=n(3),m=n.n(h),b=n(0),v=n.n(b),g=n(19),y=n(177),C=n(63),w=n.n(C),O=n(1710),k=n(17),j=n(44),_=(n(3282),"oneself"),S="enterprise",x={declare:{title:"发表澄清声明",image:"https://zhstatic.zhihu.com/assets/report/Statement@3x.png",description:(r={},Object(s.a)(r,_,"个人可以对站内关于自身的不实描述内容发表澄清声明，声明通过审核后，将会以标记的形式显示在投诉内容的上方，点击可跳转至您的声明全文页面"),Object(s.a)(r,S,"企业可以对站内关于自身的不实描述内容发表澄清声明，声明通过审核后，将会以标记的形式显示在投诉内容的上方，点击可跳转至您的声明全文页面"),r)},trespass:{title:"提交侵权举报",image:"https://zhstatic.zhihu.com/assets/report/Infringement@3x.png",description:Object(f.b)("span",null,"您提交的侵权举报将会根据知乎侵权举报规范进行受理")}},E=(a={},Object(s.a)(a,S,"当您发现知乎上存在涉嫌侵犯您企业合法权益的内容时，您可以先尝试与作者沟通解决，如沟通无效，也可以通过以下方式向知乎提出诉求。"),Object(s.a)(a,_,"当您发现知乎上存在涉嫌侵犯您个人合法权益的内容时，您可以通过以下方式向知乎提出诉求。"),a),N=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).handleClick=function(e){g.default.trackEvent(e,{id:3467,aciton:"Click"})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){g.default.trackCardShow(null,{id:3466})}},{key:"render",value:function(){var e=this,t=this.props,n=t.onSubMenuEnter,r=t.onBackClick,a=t.isMobile,o=t.childNodes,i=t.activeNode.reason,s=o.map(function(e){return Object.assign({},x[e.reason],{id:e.id})});return Object(f.b)("section",{className:w()("ReportInfringement",{"ReportInfringement--mobile":a})},Object(f.b)("p",{className:"ReportInfringement-subtitle"},E[i]),Object(f.b)("ul",{className:"ReportInfringement-list"},s.map(function(t){var r=t.image,a=t.title,o=t.description,s=t.id,c=o[i]||o;return Object(f.b)("li",{className:"ReportInfringement-item",key:a,"data-za-module":"Content","data-za-detail-view-path-module_name":a,onClick:function(t){e.handleClick(t.currentTarget),n(s)}},Object(f.b)("img",{className:"ReportInfringement-image",src:r}),Object(f.b)("div",{className:"ReportInfringement-content"},Object(f.b)("h1",{className:"ReportInfringement-itemTitle"},a),Object(f.b)("p",{className:"ReportInfringement-itemDescription"},c)),Object(f.b)(O.a,{className:"ReportInfringement-arrow"}))})),Object(f.b)(j.a,{direction:"horizontal"},Object(f.b)(k.c,{"data-za-module":"Content","data-za-detail-path-view-module_name":"返回",onClick:function(t){e.handleClick(t.currentTarget),r()}},"返回")))}}]),t}(v.a.Component),A=n(34),I=function(e){return"https://www.zhihu.com/account/infringement?".concat(Object(A.stringify)(e))};n(3283);function T(e){var t=e.infringementType;return Object(f.b)("p",{className:"ReportOrgContent"},"若您已注册机构号，可使用",Object(f.b)("span",{className:"ReportOrgContent-highlight"},"机构号"),"declare"===t?"发表澄清声明":"提交侵权举报","，",Object(f.b)("span",{className:"ReportOrgContent-highlight"},"免提交资质材料"),"。")}n(3284);function L(e){var t=e.infringementType,n=e.isIndividualReason,r=e.onBackClick,a="declare"===t;return Object(f.b)("div",{className:"ReportInfringementMobile"},Object(f.b)("p",{className:"ReportInfringementMobile-text"},"1."," ",a?"".concat(n?"个人":"企业","可以对站内关于自身的不实描述内容发表澄清声明，声明通过审核后，将会以标记的方式形式显示在投诉内容的上方，点击可跳转至您的声明全文。"):"您提交的侵权举报将会根据知乎侵权举报规范进行受理。"),Object(f.b)("p",{className:"ReportInfringementMobile-text"},"2. 根据",Object(f.b)("a",{className:"ReportInfringementMobile-link",href:"https://www.zhihu.com/terms#sec-report",target:"_blank",rel:"noopener noreferrer"},"知乎侵权举报规范"),"，您需按照提示提供完整、有效的证明材料，",a?"以发表澄清声明。":"并规范填写投诉说明。","若您已确认完毕，",Object(f.b)("span",{className:"ReportInfringementMobile-bold"},"请到桌面版网页进行诉求提交。")),!n&&Object(f.b)("p",{className:"ReportInfringementMobile-text"},"若您已注册机构号，可使用机构号".concat(a?"发表澄清声明":"提交侵权举报","，免提交资质材料。")),Object(f.b)("img",{className:"ReportInfringementMobile-img",src:"https://zhstatic.zhihu.com/report/app_report.png"}),Object(f.b)(k.c,{color:k.a.Blue,preset:k.b.Primary,onClick:r,className:"ReportInfringementMobile-button"},"我知道了"))}n(3285);var P=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).handleClick=function(e){g.default.trackEvent(null,{id:3469,action:"Click"},{button:{text:e}})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){g.default.trackCardShow(null,{id:3468})}},{key:"render",value:function(){var e=this,t=this.props,n=t.onBackClick,r=t.urlToken,a=t.type,o=t.isMobile,i=!("enterprise"===t.parentNode.reason);return o?Object(f.b)(L,{isIndividualReason:i,infringementType:"declare",onBackClick:n}):Object(f.b)("section",{className:"ReportDeclare"},Object(f.b)("div",{className:"ReportDeclare-description"},"当您发现知乎上有关于您",i?"个人":"企业","的侵权内容时，您可通过此方式发表澄清声明。",Object(f.b)("br",null),Object(f.b)("br",null),"申请发表澄清声明的流程如下：",Object(f.b)("ul",null,Object(f.b)("li",null,"1. 在站内写一篇",Object(f.b)("a",{href:"https://zhuanlan.zhihu.com/write",target:"_blank",rel:"noopener noreferrer",onClick:function(){return e.handleClick("澄清声明文章")}},"澄清声明文章"),"并发布。",Object(f.b)("a",{href:"https://zhstatic.zhihu.com/assets/report/template-v2.png",target:"_blank",rel:"noopener noreferrer",onClick:function(){return e.handleClick("查看模版")}},"查看模版"),Object(f.b)("br",null)),Object(f.b)("li",null,"2.返回此页面继续发表声明，您需按照提示提供完整、有效的证明材料。",Object(f.b)("br",null)),Object(f.b)("li",null,"3.审核通过后，侵权纠纷内容上会关联展示您的澄清声明，点击可跳转至您的声明全文。")),!i&&Object(f.b)(T,{infringementType:"declare"})),Object(f.b)(j.a,{direction:"horizontal"},Object(f.b)(k.c,{onClick:n},"返回"),Object(f.b)(k.c,{onClick:function(){return e.handleClick("继续发表声明")},component:"a",href:I({infringementType:"declare",resourceId:r,type:a,reasonType:i?"inflictIndividual":"enterprise"}),className:"ReportDeclare-continue",color:k.a.Blue,preset:k.b.Primary},"继续发表声明")))}}]),t}(v.a.Component),R=(n(3286),function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).handleClick=function(e){g.default.trackEvent(null,{id:3510,aciton:"Click"},{button:{text:e}})},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){g.default.trackCardShow(null,{id:3509})}},{key:"render",value:function(){var e=this,t=this.props,n=t.onBackClick,r=t.urlToken,a=t.type,o=t.isMobile,i=!("enterprise"===t.parentNode.reason);return o?Object(f.b)(L,{isIndividualReason:i,infringementType:"trespass",onBackClick:n}):Object(f.b)("section",{className:"ReportTrespass"},Object(f.b)("p",{className:"ReportTrespass-description"},"根据",Object(f.b)("a",{href:"https://www.zhihu.com/terms#sec-report",onClick:function(){e.handleClick("知乎侵权举报规范")}},"知乎侵权举报规范"),"，您需按照提示提供完整、有效的证明材料，并规范填写投诉说明。若您已确认完毕，请继续提交举报信息。"),!i&&Object(f.b)(T,{infringementType:"trespass"}),Object(f.b)(j.a,{direction:"horizontal"},Object(f.b)(k.c,{onClick:function(){e.handleClick("返回"),n()}},"返回"),Object(f.b)(k.c,{onClick:function(){e.handleClick("继续提交举报")},component:"a",href:I({resourceId:r,type:a,reasonType:i?"inflictIndividual":"enterprise"}),className:"ReportTrespass-continue",color:k.a.Blue,preset:k.b.Primary},"继续提交举报")))}}]),t}(v.a.Component)),M=[{id:0,text:"举报",childIds:[1,2,3,4,5,21,7,8,9]},{id:1,text:"低质问题",types:["question","drama_statement"],childIds:[23,33,34,40,35,27,22]},{id:2,text:"垃圾广告信息",reason:"spam",copywriter:{title:"举报说明",placeholder:"举报详细说明（选填）",isRequired:!1},disabled:!0},{id:3,text:"不友善行为",types:["answer","comment","drama_bullet","article","pin","book_review","favlist","discussion_review","zvideo"],childIds:[40,41],effects:["delete_comment"]},{id:4,text:"有害信息",childIds:[19,30,39,26,18,28]},{id:5,text:"涉嫌侵权",childIds:[20,29,12],types:["question","drama_statement","answer","comment","drama_bullet","article","pin","book_review"],reason:"infringement",disabled:!0},{id:7,text:"其他",reason:"old",copywriter:{title:"举报说明",placeholder:"举报详细说明（必填）"},disabled:!0,types:["question","answer","comment","article","column","message","member","favlist","activity","book_review","discussion_review","drama_statement","drama_bullet"]},{id:8,reason:"direction",shouldShow:function(e){return e.isColumnArticle}},{id:9,reason:"tipjar",shouldShow:function(e){return e.isTipjarEnabled}},{id:12,reason:"enterprise",disabled:!0,customComponent:N,childIds:[48,49]},{id:17,reason:"spam"},{id:18,reason:"illegality",copywriter:{title:"举报说明",placeholder:"举报详细说明（必填）"},disabled:!0},{id:19,reason:"politics"},{id:20,reason:"repost",copywriter:{title:"不规范转载说明",placeholder:"原文链接或补充说明（必填）",maxLength:1e3},types:["answer","article","pin","book_review"],disabled:!0},{id:21,reason:"temptation",copywriter:{title:"举报说明",placeholder:"举报详细说明（必填）"},disabled:!0,types:["answer","comment","drama_bullet","article","column","zvideo"]},{id:22,reason:"personal"},{id:23,reason:"ambiguity"},{id:26,reason:"suicide",types:["question","drama_statement","answer","article","pin","book_review","comment","drama_bullet","zvideo"]},{id:27,reason:"medicine"},{id:28,reason:"superstition"},{id:29,reason:"oneself",disabled:!0,customComponent:N,childIds:[46,47]},{id:30,reason:"porn"},{id:33,reason:"subjective"},{id:34,reason:"rumour"},{id:35,reason:"provoke"},{id:39,text:"不实信息",types:["answer","comment","drama_bullet","article","pin","book_review","zvideo"],childIds:[42,43,44,45]},{id:40,reason:"abuse"},{id:41,reason:"unfriendly",copywriter:{title:"举报说明",placeholder:"举报详细说明（必填）"},disabled:!0},{id:42,reason:"untruth_science",text:"科学类不实信息",copywriter:{title:"举报说明",placeholder:"举报详细说明（必填）"},disabled:!0},{id:43,reason:"untruth_rumor",text:"社会谣言类不实信息",copywriter:{title:"举报说明",placeholder:"举报详细说明（必填）"},disabled:!0},{id:44,reason:"untruth_fake_profile",text:"编造经历类不实信息",copywriter:{title:"举报说明",placeholder:"举报详细说明（必填）"},disabled:!0,types:["answer","comment","drama_bullet","article","pin","book_review"]},{id:45,text:"诽谤等侵权信息",childIds:[20,29,12],types:["answer","comment","drama_bullet","article","pin","book_review"]},{id:46,customComponent:P,text:"发表澄清声明",reason:"declare",types:["answer","article","pin"],subtitle:"个人侵权"},{id:47,customComponent:R,text:"提交侵权举报",reason:"trespass",subtitle:"个人侵权"},{id:48,customComponent:P,text:"发表澄清声明",reason:"declare",types:["answer","article","pin"],subtitle:"企业侵权"},{id:49,customComponent:R,text:"提交侵权举报",reason:"trespass",subtitle:"企业侵权"}],D=[{id:0,text:"举报",childIds:[1,2,3,4]},{id:1,text:"垃圾广告信息",reason:"spam"},{id:2,text:"不友善行为",reason:"unkind"},{id:3,text:"有害信息",reason:"imitation"},{id:4,text:"其他",reason:"old",copywriter:{title:"举报说明",placeholder:"举报详细说明（必填）"},disabled:!0}],B=[{id:0,text:"举报",childIds:[1,2,3]},{id:1,reason:"abuse"},{id:2,reason:"harassment"},{id:3,reason:"spam"}],q=[{id:0,text:"举报",childIds:[1,4,6,7]},{id:1,text:"冒充我或他人",childIds:[8,9],reason:"fake",disabled:!0},{id:4,reason:"spam",text:"垃圾广告帐号"},{id:6,reason:"profile",copywriter:{title:"举报说明",placeholder:"举报详细说明（必填）"},disabled:!0},{id:7,reason:"old",text:"其他",copywriter:{title:"举报说明",placeholder:"举报详细说明（必填）"},disabled:!0},{id:8,text:"冒充我",subtitle:"请选择举报理由",reason:"oneself",disabled:!0,childIds:[10,11]},{id:9,reason:"impersonate",copywriter:{title:"举报说明",placeholder:"举报详细说明（必填）"},text:"冒充他人",disabled:!0},{id:10,reason:"oneself",disabled:!0,isRequired:!0,customComponent:N,childIds:[12]},{id:11,reason:"enterprise",disabled:!0,isRequired:!0,customComponent:N,childIds:[13]},{id:12,isRequired:!0,customComponent:R,text:"提交侵权举报",reason:"trespass",subtitle:"个人侵权"},{id:13,isRequired:!0,customComponent:R,text:"提交侵权举报",reason:"trespass",subtitle:"企业侵权"}],F=[{id:0,text:"举报",childIds:[2,3,4,5,14,15,16,17,18,700]},{id:2,reason:"abuse",text:"骚扰/辱骂/歧视等不友善行为"},{id:3,reason:"illegality",text:"发过违反法律法规的内容"},{id:4,reason:"spam",text:"垃圾广告帐号"},{id:5,reason:"politics",text:"发过政治敏感内容"},{id:14,reason:"minor"},{id:15,reason:"porn"},{id:16,reason:"uncivilized_behavior"},{id:17,reason:"suicide",text:"疑似自杀或自残"},{id:18,reason:"superstition"},{id:700,reason:"old",text:"其他",copywriter:{title:"举报说明",placeholder:"举报详细说明（必填）"},disabled:!0}],z=[{id:0,text:"举报",childIds:[1]},{id:1,reason:"profile"}],V=n(28),U=n(33),H=n(50),W=n.n(H),G=n(236),K=n(2582),X=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).handleClick=e.handleClick.bind(Object(U.default)(e)),e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(){var e=this.props,t=e.id,n=e.reason,r=e.disabled,a=e.onSubMenuEnter,o=e.onItemSelect;n&&!r?o(t):a(t)}},{key:"render",value:function(){var e=this.props,t=e.reason,n=e.text,r=e.disabled,a=e.isSelected,o=e.id,i=n||G.b[t];return Boolean(t&&!r)?Object(f.b)("label",{className:"ReportMenu-item",htmlFor:t},Object(f.b)("div",{className:"ReportMenu-itemValue needsclick"},i),Object(f.b)("input",{className:"ReportMenu-itemCheck",type:"radio",name:"report",value:o,id:t,checked:a,onChange:this.handleClick}),Object(f.b)(K.a,{size:18,className:"ReportMenu-itemCheckIcon",name:"checkRound"})):Object(f.b)("button",{className:"ReportMenu-item",onClick:this.handleClick},Object(f.b)("span",{className:"ReportMenu-itemValue"},i),Object(f.b)(O.a,{size:18}))}}]),t}(b.Component);X.propTypes={id:m.a.number.isRequired,reason:m.a.string,text:m.a.string,disabled:m.a.bool,isSelected:m.a.bool,onSubMenuEnter:m.a.func.isRequired,onItemSelect:m.a.func.isRequired};var Y=n(99),Z=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.copywriter.placeholder,n=e.onDetailInput,r=e.errorText,a=e.checkCustomReasonContent;return Object(f.b)("div",{className:"ReportMenu-inner"},Object(f.b)(Y.a,{multiline:!0,grey:!0,rows:5,className:"ReportMenu-textarea",placeholder:t,onChange:function(e){return n(e.target.value)},onBlur:a}),Object(f.b)("div",{className:"ReportMenu-errorText"},r))}}]),t}(b.Component);Z.propTypes={onDetailInput:m.a.func.isRequired,copywriter:m.a.object,errorText:m.a.string};n(3287);var Q=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.checked,n=e.onChange,r=e.name,a=e.text,o=e.desc,i=r||a;return Object(f.b)("div",null,Object(f.b)("label",{className:"ReportOption-check",htmlFor:i},Object(f.b)("input",{type:"checkbox",name:i,checked:t,onChange:n}),Object(f.b)("span",null,"同时",a)),o&&Object(f.b)("div",{className:"ReportOption-desc"},o))}}]),t}(b.Component),$=function(e,t){var n=t&&t.maxLength;return e.length>(n||150)?{isLegal:!1,errorReason:n?"".concat(t.title||"举报说明","不能超过 ").concat(n," 字"):G.a.contentTooLong}:/[\u4e00-\u9fa5a-zA-Z0-9]/.test(e)?{isLegal:!0,errorReason:""}:{isLegal:!1,errorReason:G.a.contentIllegal}},J=(n(3288),function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={blockChecked:!1,commentChecked:!1,activeId:0,parentId:null,selectedId:null,errorText:"",isMobile:!1,isSubmiting:!1,isSubmited:!1,path:[]},n.menuItems={},n.getReportText=function(e){if(!e)return"";var t=n.props.nodes[e];return t&&(t.text||G.b[t.reason])||""},n.getReportLevel=function(){return"第 ".concat(n.state.path.length+1," 级")},n.handleItemSelect=function(e){var t=n.selectedId===e?null:e;n.setState({selectedId:t});var r=n.props,a=r.zaEnabled,o=r.type;t&&a&&g.default.trackEvent(null,{action:"Select",element:"Menu",id:2883,name:n.getReportLevel()},{button:{text:n.getReportText(e)},report:{id:e,type:o}})},n.handleSubMenuEnter=function(e){n.setState(function(t){var n=t.activeId,r=t.path;return{activeId:e,parentId:n,selectedId:null,path:r.concat([e])}});var t=n.props,r=t.zaEnabled,a=t.type;r&&g.default.trackEvent(null,{action:"Expand",element:"Menu",id:2883,name:n.getReportLevel()},{button:{text:n.getReportText(e)},report:{id:e,type:a}})},n.hasEffectOfDeleteComment=function(){var e=n.props.nodes,t=n.state,r=t.parentId,a=t.activeId,o=e[r||a];return Boolean(o&&o.effects)&&o.effects.includes("delete_comment")},n.handleDetailInput=function(e){n.setState({customReason:e,errorText:""})},n.handleBackClick=function(){var e=n.props.nodes,t=n.state,r=t.parentId,a=t.path,o=Object.keys(e).find(function(t){var n=e[t].childIds;return n&&n.includes(r)});n.setState({activeId:r,parentId:o&&Number(o),selectedId:null,hasWarning:!1,customReason:"",errorText:"",path:a.slice(0,-1)});var i=n.props,s=i.zaEnabled,c=i.type;s&&g.default.trackEvent(null,{action:"Back",element:"Button",id:2884,name:n.getReportLevel()},{report:{id:n.state.activeId,type:c}})},n.handleSubmit=function(){var e=n.state,t=e.selectedId,r=e.customReason,a=e.activeId;if(n.isSubmitEnabled()&&n.checkCustomReasonContent()){var o=n.props,i=o.nodes,s=o.onSubmit,c=o.onDeleteComment,l=i[t||a],u=l.reason,d=l.id;n.setState({isSubmiting:!0});var p=s({reason:u,customReason:r});p&&p.then?p.then(n.submitEnd):n.submitEnd();var f=n.props,h=f.zaEnabled,m=f.type;if(h){var b=c&&n.hasEffectOfDeleteComment();g.default.trackEvent(null,{id:2885,name:n.getReportLevel(),action:"Click"},{report:{type:m},button:{text:n.getReportText(d)}}),g.default.trackEvent(Object(U.default)(n),Object.assign({action:"Report",element:"Button"},b&&{id:3039,name:u}),Object.assign({report:{id:d,type:m}},b&&{button:{text:n.state.commentChecked?"举报并删除":"仅举报"}}))}}},n.submitEnd=function(e){n.setState({isSubmiting:!1,isSubmited:!0});var t=n.state,r=t.blockChecked,a=t.commentChecked,o=n.props,i=o.onBlockUser,s=o.onDeleteComment,c=o.onEnd;Promise.all([r&&i&&i(),a&&s&&s()].map(function(e){return Promise.resolve(e).catch(function(e){return e})})).then(function(t){var n=Object(V.a)(t,2),r=n[0],a=n[1];c&&c({result:e,blockUserResult:r,commentDeleteResult:a})})},n.checkCustomReasonContent=function(){var e=n.state,t=e.activeId,r=e.customReason,a=n.props.nodes[t].copywriter;if(Boolean(a)&&r){var o=$(r,a),i=o.isLegal,s=o.errorReason;if(!i)return n.setState({errorText:s}),!1}return!0},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.type,t=W()(navigator.userAgent);this.setState({isMobile:t.Mobile}),g.default.trackCardShow(null,{id:2890},{button:{text:e}})}},{key:"componentWillUpdate",value:function(e,t){var n=this.state.activeId,r=t.activeId,a=this.props,o=a.nodes,i=a.onContentChange;if(r!==n){var s=o[r],c=s.reason,l=s.text,u=s.childIds,d=s.copywriter,p=s.subtitle;i(l||G.b[c],p||d&&d.title||(u?void 0:""))}}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.zaEnabled,n=e.type,r=this.state.isSubmited;t&&!r&&g.default.trackEvent(null,{id:4328,action:"Close",name:this.getReportLevel()},{report:{type:n}})}},{key:"isSubmitEnabled",value:function(){var e=this.state,t=e.selectedId,n=e.activeId,r=e.customReason,a=this.props.nodes;return t||Boolean(a[n].copywriter)&&(!1===a[n].copywriter.isRequired||r)}},{key:"render",value:function(){var e=this,t=this.props,n=t.nodes,r=t.options,a=Object(i.a)(t,["nodes","options"]),s=this.state,c=s.activeId,l=s.parentId,u=s.selectedId,d=s.errorText,p=s.isMobile,h=n[c],m=h.childIds,b=h.copywriter,v=h.customComponent,g=m&&m.map(function(e){return n[e]}).filter(function(e){return e&&(!e.shouldShow||e.shouldShow(a))});if(void 0!==v)return Object(f.b)(v,Object(o.default)({onBackClick:this.handleBackClick,onItemSelect:this.handleItemSelect,onSubMenuEnter:this.handleSubMenuEnter},this.props,this.state,{activeNode:h,parentNode:n[l],childNodes:g}));var y=Boolean(m),C=Boolean(b),O=y&&Object(f.b)("div",{className:"ReportMenu-inner ReportMenu-options"},g.map(function(t){return Object(f.b)(X,Object(o.default)({ref:function(n){e.menuItems[t.id]=n},key:t.id},t,{isSelected:u===t.id,onSubMenuEnter:e.handleSubMenuEnter,onItemSelect:e.handleItemSelect}))})," ")||C&&Object(f.b)(Z,{onDetailInput:this.handleDetailInput,copywriter:b,errorText:d,checkCustomReasonContent:this.checkCustomReasonContent}),_=y&&a.talkerToken&&Object(f.b)(Q,{checked:this.state.blockChecked,text:"将此人屏蔽",onChange:function(t){return e.setState({blockChecked:t.target.checked})}}),S=n[l||c],x=a.onDeleteComment&&this.hasEffectOfDeleteComment()&&Object(f.b)(Q,{checked:this.state.commentChecked,desc:S&&"社区鼓励举报".concat(S.text,"，同时可以直接删除该评论，删除操作并不影响对违规内容和违规用户的处理。"),onChange:function(t){return e.setState({commentChecked:t.target.checked})},text:"删除该评论"}),E=this.props.isSubmiting;return Object(f.b)("div",{className:w()("ReportMenu",{"ReportMenu-mobile":p})},O,(_||x)&&Object(f.b)("div",null,_,x,r),Object(f.b)(j.a,{direction:"horizontal"},"number"==typeof l&&Object(f.b)(k.c,{onClick:this.handleBackClick}," 返回 "),(y||C)&&Object(f.b)(k.c,{className:"ReportMenu-button",disabled:E||!this.isSubmitEnabled(),onClick:this.handleSubmit,color:"blue",preset:"primary"},"举报")))}}]),t}(b.Component));J.propTypes={nodes:m.a.object.isRequired,onContentChange:m.a.func.isRequired,onSubmit:m.a.func.isRequired,onEnd:m.a.func,onBlockUser:m.a.func,onDeleteComment:m.a.func,isColumnArticle:m.a.bool,isTipjarEnabled:m.a.bool};var ee=J,te=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).filterNodes=function(e,t,n){var r=e.filter(function(e){return!!e.isRequired||(-1!=["infringement","repost","oneself","enterprise","fake"].indexOf(e.reason)||0===e.id||("question"!==t||-1==["closed","suggested","evaluated","locked"].indexOf(n)||0===e.id)&&("member"!==t||-1==["ban","hang"].indexOf(n)||"profile"===e.reason))});return 1===r.length&&0===r[0].id&&(r=[]),r},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.type,r=t.status,a=Object(i.a)(t,["type","status"]);return e="message"===n?B:-1!==["member","club_mask"].indexOf(n)?q:-1!==["drama","drama_connect_member"].indexOf(n)?F:"theater"===n?z:"favlist"===n?D:M.filter(function(e){return!e.types||e.types.includes(n)}),e=this.filterNodes(e,n,r),Object(f.b)(ee,Object(o.default)({nodes:e.reduce(function(e,t){return Object.assign({},e,Object(s.a)({},t.id,t))},{})},a,{type:n}))}}]),t}(b.Component);te.propTypes={type:m.a.string.isRequired};var ne=n(2600),re=n(2601),ae=n(48),oe="请选择举报理由",ie="举报",se=function(e){function t(){var e,n;Object(c.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={title:void 0!==n.props.title?n.props.title:ie,subtitle:void 0!==n.props.subtitle?n.props.subtitle:oe},n.handleSubmit=function(e){var t=e.reason,r=e.customReason,a=n.props,o=a.urlToken,i=a.type;return n.props.doReport(o,i,t,r)},n.handleContentChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oe;n.setState({title:e,subtitle:t})},n.handleClose=function(){n.props.zaEnabled&&g.default.trackEvent(n.container,{action:"Ok"},{button:{text:"知道了"}}),n.props.onClose()},n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){if(!e.shown&&this.props.shown){var t=this.props,n=t.type,r=t.id;g.default.setModule(this.container,{module:"ReportDialog"},{card:{card_type:"Content",content:Object(s.a)({type:Object(re.a)(n)},"comment"===n?"id":"token",String(r))}})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.shown,r=t.onClose,a=Object(i.a)(t,["shown","onClose"]),s=this.state,c=s.title,l=s.subtitle,u=Object(ne.a)(a,Object.keys(y.b.propTypes)),d=u.selectedProps,p=u.dropedProps;return Object(f.b)(y.b,Object(o.default)({title:c,subtitle:l,onClose:this.handleClose,className:"ReportModal"},d),n&&Object(f.b)(te,Object(o.default)({ref:function(t){e.container=t},onSubmit:this.handleSubmit,onEnd:r,onContentChange:this.handleContentChange},p)))}}]),t}(b.Component);se.propTypes={onClose:m.a.func.isRequired,type:m.a.oneOf(ae.a).isRequired,shown:m.a.bool.isRequired,isColumnArticle:m.a.bool,isTipjarEnabled:m.a.bool,onBlockUser:m.a.func,onDeleteComment:m.a.func,doReport:m.a.func.isRequired,zaEnabled:m.a.bool},se.defaultTypes={zaEnabled:!1},n.d(t,"ReportModal",function(){return se})},3381:function(e,t,n){"use strict";n.r(t);var r=n(23),a=n(27),o=n(4),i=n(5),s=n(8),c=n(6),l=n(7),u=n(1),d=n(3),p=n.n(d),f=n(0),h=n(17),m=(n(263),n(44)),b=n(19),v=n(177),g=n(33),y=n(99),C=n(462),w=function(e,t,n){return n&&void 0!==t&&(e||!t)},O=20,k=60,j=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(s.a)(this,Object(c.a)(t).call(this))).shouldSubmitIsDisabled=function(){var t=e.state,n=t.title,r=t.description;return!n||n.length>O||r.length>k},e.state={isPublic:!0,title:"",description:""},e.handleSubmit=e.handleSubmit.bind(Object(g.default)(e)),e}return Object(l.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t=this.state,n=t.isPublic,r=t.title,a=t.description;if(r){var o=this.props,i=o.onSubmit,s=o.onBack,c=o.authRequired,l=o.isActive,u={title:r,description:a,isPublic:n};w(n,l,c)?c(i)(u):(i(u),s())}}},{key:"render",value:function(){var e=this,t=this.state,n=t.title,r=t.description,a=t.isPublic,o=this.props.onBack,i=this.shouldSubmitIsDisabled();return Object(u.b)("form",{className:"Favlists-content",onSubmit:this.handleSubmit},Object(u.b)("div",{className:"Favlists-addItems"},Object(u.b)("div",{className:"Favlists-addItem"},Object(u.b)(y.a,{className:"Favlists-titleInput",placeholder:"收藏标题",onChange:function(t){var n=t.target.value;e.setState({title:n})}}),Object(u.b)("div",{className:"Favlists-inputTips"},Object(u.b)(C.a,{name:"收藏标题",current:n?n.length:0,max:O}))),Object(u.b)("div",{className:"Favlists-addItem"},Object(u.b)(y.a,{multiline:!0,className:"Favlists-descritionInput",placeholder:"收藏描述（可选）",onChange:function(t){var n=t.target.value;e.setState({description:n})},rows:5}),Object(u.b)("div",{className:"Favlists-inputTips"},Object(u.b)(C.a,{name:"收藏描述",current:r?r.length:0,max:k}))),Object(u.b)("div",{className:"Favlists-addItem"},Object(u.b)("label",{className:"Favlists-privacyOption"},Object(u.b)("input",{className:"Favlists-privacyOptionRadio",name:"isPublic",type:"radio",value:"true",checked:a,onChange:function(){return e.setState({isPublic:!0})}}),Object(u.b)("span",null,"公开"),Object(u.b)("span",{className:"Favlists-privacyOptionTips"},"有其他人关注此收藏夹时不可设置为私密")),Object(u.b)("label",{className:"Favlists-privacyOption"},Object(u.b)("input",{className:"Favlists-privacyOptionRadio",name:"isPublic",type:"radio",value:"false",checked:!a,onChange:function(){return e.setState({isPublic:!1})}}),Object(u.b)("span",null,"私密"),Object(u.b)("span",{className:"Favlists-privacyOptionTips"},"只有你自己可以查看这个收藏夹")))),Object(u.b)(m.a,{direction:"horizontal",className:""},o&&Object(u.b)(h.c,{onClick:o},"返回"),Object(u.b)(h.c,{color:"blue",preset:"primary",type:"submit",disabled:i},"确认创建")))}}]),t}(f.Component);j.propTypes={onSubmit:p.a.func.isRequired,onBack:p.a.func,authRequired:p.a.func};var _=j,S=n(131),x=n(1856),E=n(3099),N=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(a)))).handleChange=function(){var e=n.props;(0,e.onChange)(e.id,n.props.checked)},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.zaEnabled,n=e.id;t&&b.default.setModule(this,{module:"CollectionItem"},{card:{card_type:"Content",content:{type:"Collection",token:String(n)}}})}},{key:"render",value:function(){var e=this.props,t=e.answerCount,n=e.title,a=e.isPublic,o=e.checked,i=void 0!==o&&o?{preset:"primary",color:"grey",children:"已收藏"}:{color:"blue",children:"收藏"};return Object(u.b)("div",{className:"Favlists-item"},Object(u.b)("div",{className:"Favlists-itemInner"},Object(u.b)("div",{className:"Favlists-itemName"},Object(u.b)("span",{className:"Favlists-itemNameText"},n),!1===a&&Object(u.b)("span",{className:"Favlists-itemIcon"},Object(u.b)(E.a,{size:16}))),Object(u.b)("div",{className:"Favlists-itemContent"},t," 条内容")),Object(u.b)(h.c,Object(r.default)({},i,{className:"Favlists-updateButton",onClick:this.handleChange})))}}]),t}(f.Component),A=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(a)))).items={},n.handleFavlistItemChange=function(e,t){b.default.trackEvent(n.items[e],{action:t?"UnCollect":"Collect",element:"Button",is_intent:!1}),n.props.onUpdate(e,t)},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.relations,a=t.items,o=t.isFetching,i=t.isDrained,s=t.onAdd,c=t.onLoad;return Object(u.b)("div",{className:"Favlists-content"},Object(u.b)(S.b,{isLocal:!0,isLoading:o,isDrained:i,onLoad:c,placeholder:Object(u.b)(x.a,{title:!0}),getContainer:function(e){return e},className:"Favlists-items"},a.map(function(t){return Object(u.b)(N,Object(r.default)({key:t.id,onChange:e.handleFavlistItemChange,checked:n[t.id]},t,{ref:function(n){e.items[t.id]=n}}))})),!a.length&&o||Object(u.b)("div",{className:"Favlists-actions"},Object(u.b)(h.c,{className:"Favlists-addButton",onClick:s,preset:"primary",color:"blue"},"创建收藏夹")))}}]),t}(f.Component);A.propTypes={isFecthing:p.a.bool,relations:p.a.object,onUpdate:p.a.func.isRequired,onAdd:p.a.func.isRequired,onLoad:p.a.func.isRequired,items:p.a.array.isRequired,isDrained:p.a.bool,authRequired:p.a.func};var I=A,T=n(2600),L=n(2601),P=(n(3354),n(3355),{list:{title:"添加收藏",tips:function(e){return e?"请选择你想添加的收藏夹":"你可以创建多个收藏夹，将答案分类收藏"}},add:{title:"创建新收藏夹"}}),R=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(a)))).state={status:n.props.defaultStatus},n.handleCloseModal=function(){n.props.onClose&&n.props.onClose(),n.setState({status:"list"})},n.handleUpdate=function(e,t){var r=n.props,a=r.onUpdateFav,o=r.id,i=r.type,s=r.items,c=r.authRequired,l=r.isUserActive,u=s.find(function(t){return t.id===e})||{},d=[e,o,i,u.isPublic];return!t&&w(u.isPublic,l,c)?c(a).apply(void 0,d):a.apply(void 0,d)},n.handleAdd=function(){return n.setState({status:"add"})},n.handleBack=function(){return n.setState({status:"list"})},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.shown,r=t.items,a=t.id,o=t.type,i=t.onFetchRelations,s=e.items,c=e.relations;if(i&&(s.length!==r.length&&e.shown||s.length&&!n&&e.shown)){var l=(c?s.filter(function(e){return!{}.hasOwnProperty.call(c,e.id)}):s).map(function(e){return e.id});l.length&&i(a,o,l)}s.length>r.length&&this.setState({status:"list"})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.id,r=t.type,a=t.shown,o=t.zaEnabled;a&&!e.shown&&this.container&&o&&b.default.setModule(this.container,{module:"CollectionDialogue"},{card:{card_type:"Content",content:{type:Object(L.a)(r),token:String(n)}}})}},{key:"render",value:function(){var e,t=this,n=this.state.status,o=P[n],i=o.title,s=o.tips,c=this.props,l=c.shown,d=c.defaultStatus,p=c.relations,f=c.onFavlistAdd,b=c.onLoad,g=c.isFetching,y=c.isDrained,C=c.items,w=c.zaEnabled,O=c.authRequired,k=c.isUserActive,j=Object(a.a)(c,["shown","defaultStatus","relations","onFavlistAdd","onLoad","isFetching","isDrained","items","zaEnabled","authRequired","isUserActive"]),S=!(y&&!C.length),x=Object(T.a)(j,Object.keys(v.b.propTypes)).selectedProps;return e="list"===n?S?Object(u.b)(I,{ref:function(e){t.container=e},items:C,isFetching:g,isDrained:y,relations:p,onAdd:this.handleAdd,onUpdate:this.handleUpdate,onLoad:b,zaEnabled:w}):Object(u.b)(m.a,null,Object(u.b)(h.c,{preset:"primary",color:"blue",onClick:this.handleAdd},"创建收藏夹"),Object(u.b)(h.c,{onClick:this.handleCloseModal},"取消")):Object(u.b)(_,{onSubmit:f,isActive:k,onBack:"add"===d?this.handleCloseModal:this.handleBack,authRequired:O}),Object(u.b)(v.b,Object(r.default)({},x,{onClose:this.handleCloseModal,title:i,subtitle:s&&s(S),buttonGroupOnly:!S,className:"FavlistsModal",size:"large"}),l&&e)}}]),t}(f.Component);R.propTypes={id:p.a.oneOfType([p.a.string,p.a.number]),type:p.a.oneOf(["answer","article","pin"]),relations:p.a.object,onUpdateFav:p.a.func.isRequired,onFavlistAdd:p.a.func.isRequired,onFetchRelations:p.a.func,onClose:p.a.func.isRequired,shown:p.a.bool,zaEnabled:p.a.bool,authRequired:p.a.func,isUserActive:p.a.number},R.defaultProps={defaultStatus:"list",relations:{},authRequired:function(e){return e}};var M=R;n.d(t,"FavlistsModal",function(){return M})},3382:function(e,t,n){"use strict";n.r(t);var r=n(23),a=n(27),o=n(4),i=n(5),s=n(8),c=n(6),l=n(7),u=n(1),d=n(0),p=n.n(d),f=n(3),h=n.n(f),m=n(21),b=n(20),v=n.n(b),g=n(511),y=n(3278),C=n.n(y),w=n(131),O=n(2411),k=n(244),j=n(22),_=n(56),S=n(461),x=n(29),E=n(90),N=n(183),A=n(2143),I=n(2598),T=n(2489),L=n(2599),P=n(2145),R=n(2),M=n(17),D=(n(3279),5),B=2,q=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(a)))).state={},n.handleClick=function(){var e=n.props,t=e.loadRestComments,r=e.onShowConversation,a=e.comment,o=a.id,i=a.childCommentCount,s=i<=D&&i>B;(s?t:r)({commentId:o}),s&&n.setState(Object(R.a)({},"hide_".concat(o),!0))},n.handleRef=function(e){var t=n.props.onRef;"function"==typeof t&&t(e)},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.comment,n=t.id,r=t.childCommentCount,a=e.isFetching,o=e.className,i=this.state["hide_".concat(n)],s=r<=D&&r>B?"展开其他 ".concat(r-B," 条回复"):"查看全部 ".concat(r," 条回复");return Object(u.b)("div",{className:o,ref:this.handleRef},!i&&Object(u.b)("div",{className:"CommentMoreReplyButton"},Object(u.b)(M.c,{preset:"plain",onClick:this.handleClick},s)),a&&Object(u.b)(w.a,{className:"CommentMoreReplyButton",small:!0}))}}]),t}(d.Component);q.propTypes={comment:h.a.object.isRequired,isFetching:h.a.bool,onShowConversation:h.a.func,loadRestComments:h.a.func};n(3280);var F,z=Object(m.connect)(null,{loadConversation:g.g})(F=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(a)))).loadRestComments=function(e){var t=e.commentId;(0,n.props.loadConversation)({id:t,isLoadRest:!0})},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.parent,n=t.type,r=t.author,a=(r=void 0===r?{isOrg:!1}:r).isOrg,o=e.parent,i=e.commentNeedsReview,s=e.onShowConversation,c=e.status,l=e.onItemLike,p=e.onItemDelete,f=e.onItemCollapse,h=e.onItemDislike,m=e.onItemApprove,b=e.onItemReject,g=e.canOperateItem,y=e.commentPattern,C=e.conversation,w=void 0===C?{}:C,O=e.entities,k=e.byComment,j=e.isReverseAndStatusOpen,_=e.comment,S=e.onReply,x=e.onFeature,E=e.ids,N=e.showCollapsed,A=_.id,I=_.featured,T=_.childComments,L=void 0===T?[]:T,R=_.childCommentCount,M=void 0===R?0:R,D=I?"".concat(A,"_featured"):"".concat(A),B=!I&&E.includes("".concat(A,"_featured")),F=Boolean(L.length)&&!j,z=M<=5&&M>2,V=L.map(function(e){return O.comments[e]}),U=!I&&M>2&&!j,H=(z&&w[A]||{isFetching:!1}).isFetching;return Object(u.b)(d.Fragment,null,Object(u.b)("li",{className:v()({"NestComment--rootCommentNoChild":!F,"NestComment--rootComment":F}),key:D},Object(u.b)(P.a,{key:D,comment:_,status:c,type:n,parent:o,canOperate:g,commentNeedsReview:i,onShowConversation:s,ownerAuthorIsOrg:a,onLike:l,onReply:S,onFeature:x,onDelete:p,onCollapse:f,onDislike:h,onApprove:m,onReject:b,commentPattern:y,rootCommentId:A,byComment:k,isReverseAndStatusOpen:j,hasRecommend:B,showCollapsed:N})),F&&V.map(function(e){var t=e.id,r=e.featured,d=r?"".concat(t,"_featured"):"".concat(t),v=!r&&E.includes("".concat(t,"_featured"));return Object(u.b)("li",{className:"NestComment--child",key:d},Object(u.b)(P.a,{key:d,comment:e,status:c,type:n,parent:o,canOperate:g,commentNeedsReview:i,onShowConversation:s,ownerAuthorIsOrg:a,onLike:l,onReply:S,onFeature:x,onDelete:p,onCollapse:f,onDislike:h,onApprove:m,onReject:b,commentPattern:y,rootCommentId:A,hasRecommend:v,showCollapsed:N}))}),U&&Object(u.b)(q,{comment:_,isFetching:H,onShowConversation:s,loadRestComments:this.loadRestComments}))}}]),t}(d.Component))||F;function V(e){var t=e.id,n=e.replyTo,r=e.isConversation;if(e.isNotification)return{type:"notification"};if(r)return{type:"conversation"};if(!n)return{type:"comment"};var a=n.featured,o=n.replyToAuthor,i=n.id;return t===i&&a?o?{type:"replyToSubFeatured"}:{type:"replyToFeatured"}:t!==i||o?t!==i&&o?{type:"replyToSubCommon"}:{type:"comment"}:{type:"replyToCommon"}}n(3281);var U,H,W,G=Object(m.connect)(function(e,t){var n=t.parent,r=t.parent,a=r.type,o=r.id,i=t.status,s=t.order,c=t.byComment,l=t.commentPattern,u=t.notificationId,d=e.entities,p=e.commentsV2,f=e.commentsV2,h=f.conversation,m=f.stickers,b=void 0===m?[]:m,v=f.commentWithPicPermission,g=f.notificationsComments,y="".concat(a,"_").concat(o),w=p.parent,O=d.comments[c],k=p.pagination;"reviewing"===i&&(k=p.reviewing);var j="reverse"===s&&"open"===i;j&&(k=p.reverse);var _=[],S=p.collapsed[y]||{};S.ids&&S.ids.length>0&&(_=S.ids.map(function(e){return d.comments[e]}));u&&(k=g,y=u);var N=k[y]||{isPrevDrained:!1,isFetching:!1,isDrained:!1,ids:[]},A=N.isFetching,I=N.isPrevDrained,T=N.isDrained,L=N.ids,P=N.newIds,R=void 0===P?[]:P,M=N.totals,D="bottom"!==l?L:R,B=D.map(function(e){return d.comments[e]}),q=C()(D,function(e){return String(e).includes("_featured")});return{currentUser:Object(x.c)(e),isFetching:A,isPrevDrained:I,isDrained:T,totals:u?B.length:M,collapsedInfo:S,collapsedComments:_,targetComment:O,conversation:h,entities:d,stickers:b,lastFeaturedIndex:q,comments:B,isReverseAndStatusOpen:j,commentWithPicPermission:v,ids:D,parent:Object.assign({},n,{},w[y]),permission:Object(E.R)(e)}},{loadComments:g.f,loadConversation:g.g,addComment:g.a,loadStickers:g.j,clearNotification:j.e,getCommentWithPicPermission:g.e,loadNotificationComments:g.i,loadAnswerCommentPermission:_.n,loadArticleCommentPermission:S.b})((W=H=function(e){function t(){var e,n;Object(o.a)(this,t);for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).state={collapsed:!0,current:1},n.commentsWithPaginationElRef=p.a.createRef(),n.load=function(e,t,r){if(!n.props.isFetching&&!n.props.parent.adminClosedComment){var a=e||n.props,o=a.order,i=a.status,s=a.parent,c=s.id,l=s.type,u=a.commentPattern,d=a.needLoadCommentPermission,p=a.loadComments,f=a.notificationId,h=a.loadNotificationComments;if(f)return h(f);if(d&&n.loadCommentPermission(l,c),r){p(l,c,{order:o,isPrevious:t,status:"collapsed",commentPattern:u},!0)}else p(l,c,{order:o,isPrevious:t,status:i,commentPattern:u})}},n.addComment=function(e,t,r){var a=r.rootCommentId,o=r.isConversation,i=n.props,s=i.parent,c=s.id,l=s.type,u=i.commentId,d=i.addComment,p=i.notificationId;return d({parentType:l,parentId:c,content:e,replyTo:t,conversationId:u,rootCommentId:a,isConversation:o,notificationId:p,replyType:V({id:a,replyTo:t,isConversation:o,isNotification:Boolean(p)}).type})},n.featureItem=function(e){(0,n.props.onItemFeature)(e,n.lastFeaturedIndex)},n.handleOpenCollapsed=function(){n.setState({collapsed:!1}),n.load(n.props,!1,!0)},n.handlePageSelect=function(e){var t=n.props.onPaginationClick,r=n.state.current;t&&t(r,e),n.commentsElement.scrollIntoView(),n.setState({current:e}),n.loadByPagination(e)},n.loadByPagination=function(e,t){var r=t||n.props,a=r.order,o=r.status,i=r.parent,s=i.id,c=i.type,l=r.commentPattern,u=r.needLoadCommentPermission,d=r.loadComments;u&&n.loadCommentPermission(c,s),d(c,s,{order:a,isPrevious:!1,status:o,commentPattern:l,current:e})},n.renderComment=function(e){var t=e.id,a=e.featured?"".concat(t,"_featured"):t,o=!n.state.collapsed;return Object(u.b)("ul",{className:"NestComment",key:a},Object(u.b)(z,Object(r.default)({comment:e,onReply:n.addComment,onFeature:n.featureItem,showCollapsed:o},n.props)))},n.renderNormalComments=function(e){var t=n.state.collapsed,r=n.props,a=r.byComment,o=r.lastFeaturedIndex,i=r.parent,s=i.featuredCounts,c=i.commonCounts,l=[],d=s>0;return n.lastFeaturedIndex=0,e.length>0&&e.forEach(function(r,i){if(a||!r.collapsed){var p=e[i-1];r.collapsed&&(p&&p.collapsed||l.push(n.renderCollapsedDivider()),t)||(i===o&&l.push(Object(u.b)("div",{className:"NestComment-nextSiblings--noBorder",key:"NestComment-nextSiblings--noBorder"})),d&&0===i&&-1!==o&&l.push(Object(u.b)("div",{className:"CommentListV2-header-divider",key:"divider-featured"},"精选评论（",s,"）")),l.push(n.renderComment(r)),i===o&&(n.lastFeaturedIndex=i,l.push(Object(u.b)("div",{className:"CommentListV2-header-divider",key:"divider-comment"},"评论（",c,"）"))))}}),l},n.renderCollapsedComments=function(){var e=n.props,t=e.collapsedComments,r=e.isDrained,a=e.parent,o=(a=void 0===a?{}:a).collapsedCounts;return!r||o<=0?[]:t.map(function(e){return n.renderComment(e)})},n.renderComments=function(e){return e.map(n.renderComment)},n.renderCollapsedDivider=function(){var e=n.props,t=e.isDrained,r=e.parent.collapsedCounts;return!t||r<=0?[]:n.state.collapsed?Object(u.b)("div",{className:"CommentListV2-action",key:"collapsed"},Object(u.b)("div",{className:"CommentListV2-expendCollapseButton"},Object(u.b)("span",{onClick:n.handleOpenCollapsed},Object(k.formatNumber)(r)," 条评论被折叠"),"（",Object(u.b)("a",{href:"//www.zhihu.com/question/52029856/answer/128623557",target:"_blank",rel:"noopener noreferrer"},"为什么？"),"）")):Object(u.b)("div",{className:"CommentListV2-divider",key:"divider-collapsed"},Object(u.b)("div",{className:"CommentListV2-dividerLine"}),Object(u.b)("div",{className:"CommentListV2-dividerText"},Object(k.formatNumber)(r)," 条评论被折叠（",Object(u.b)("a",{href:"//www.zhihu.com/question/52029856/answer/128623557",target:"_blank",rel:"noopener noreferrer"},"为什么？"),"）"))},n.renderCollapsedInfiLoader=function(){var e=n.state.collapsed;if(e)return[];var t=n.props.collapsedInfo,r=(t=void 0===t?{}:t).isFetching,a=t.isPrevDrained,o=t.isDrained;return Object(u.b)(w.b,{className:"CommentListV2",onRef:function(e){n.listEl=e},isLocal:!0,isLoading:r,isPrevDrained:a,isDrained:o,onLoad:function(t){return n.load(n.props,t,!e)},placeholder:Object(u.b)(w.a,{className:"CommentItem",small:!0})},n.renderCollapsedComments())},n.renderPatternContent=function(e){var t=n.props,r=t.isFetching,a=t.parent.adminClosedComment,o=t.byComment,i=t.status,s=t.order,c=t.totals,l=t.showPackupButton,d=t.handlePackupButton,p=Math.ceil(c/20),f=n.state.current;return a?null:r?Object(u.b)(I.a,null):Object(u.b)("div",{ref:n.commentsWithPaginationElRef},Object(u.b)("div",{className:"CommentListV2"},"normal"===s&&"open"===i?n.renderNormalComments(e):n.renderComments(e)),p>1&&Object(u.b)(O.a,{className:"CommentsV2-pagination",current:f,total:p,onSelect:n.handlePageSelect}),!o&&n.renderCollapsedDivider(),!o&&n.renderCollapsedInfiLoader(),l&&Object(u.b)(L.a,{onClick:d,commentsElRef:n.commentsWithPaginationElRef}))},n.renderModalContent=function(e){var t=n.props,a=t.collapsedInfo,o=t.parent.adminClosedComment,i=t.status,s=t.order,c=t.byComment,l=n.state.collapsed,d=l?n.props:a,p=d.isFetching,f=d.isDrained,h=d.isPrevDrained;if(f&&e.length<=0||o)return Object(u.b)("div",{className:"CommentsV2-empty"},Object(u.b)(N.k,null,Object(u.b)(N.e,null),Object(u.b)("div",null,"还没有评论")));return Object(u.b)(w.b,Object(r.default)({className:"CommentListV2",onRef:function(e){n.listEl=e},isLocal:!0,isLoading:p,isPrevDrained:h,isDrained:f,onLoad:function(e){return n.load(n.props,e,!l)},placeholder:Object(u.b)(w.a,{className:"CommentItemV2",small:!0})},{getContainer:function(e){return e}}),"normal"===s&&"open"===i?n.renderNormalComments(e):n.renderComments(e),!c&&n.renderCollapsedDivider(),!c&&n.renderCollapsedComments())},n.renderCommentEdit=function(){var e=n.props,t=e.parent,r=t.canComment,a=(r=void 0===r?{status:!0}:r).status,o=r.reason,i=t.author,s=(i=void 0===i?{isOrg:!1}:i).isOrg,c=t.type,l=t.id,d=t.adminClosedComment,p=t.questionType,f=e.byComment,h=e.autoFocus,m=e.commentNeedsReview,b=e.zaInfo,g=d?"当前内容暂时无法评论":o,y=h&&!f;return a&&!d?Object(u.b)(A.a,{className:"CommentsV2-footer",type:c,id:l,commentNeedsReview:m,onSubmit:n.addComment,autoFocus:y,ownerAuthorIsOrg:s,ownerAuthorIsBrand:"commercial"===p,zaInfo:b}):Object(u.b)("div",{className:v()("CommentsV2-disabledText")},Object(u.b)("div",{className:"CommentsV2-disabledReason"},g))},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"loadCommentPermission",value:function(e,t){var n=this.props,r=n.loadAnswerCommentPermission,a=n.loadArticleCommentPermission;switch(e){case"answer":return r(t);case"article":return a(t);default:return null}}},{key:"componentDidMount",value:function(){var e=this.props,t=e.commentPattern,n=e.parent.adminClosedComment,r=e.stickers,a=e.loadStickers,o=e.getCommentWithPicPermission,i=e.commentWithPicPermission,s=e.currentUser,c=this.state.current;"bottom"!==t||n||this.loadByPagination(c),!r.length&&a(),void 0===i.commentWithPic&&s&&o()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.order,r=t.status,a=t.targetComment,o=t.commentPattern;n===e.order&&r===e.status||("bottom"===o?(this.setState({current:1}),this.loadByPagination(1,e)):this.load(e),this.setState({collapsed:!0}));var i=e.targetComment;i!==a&&i&&this.setState({collapsed:i.collapsed})}},{key:"componentWillUnmount",value:function(){Object(j.e)(j.b)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.comments,o=t.commentPattern,i=t.commentInputPosition,s=t.isAuthor,c=t.parent,l=c.author,d=(l=void 0===l?{isOrg:!1}:l).isOrg,p=c.commentPermission,f=c.reviewingCounts,h=c.commentCount,m=c.adminClosedComment,b=t.totals,g=t.status,y=t.order,C=t.onStatusChange,w=t.onOrderChange,O=t.targetLink,k=t.shouldReverse,j=t.permission.canBrandAdminEdit,_="censor"===p&&(s||j),S=_?{isCommentReviewer:_,onStatusChange:C,status:g,reviewingCounts:f}:{status:g};return Object(u.b)("div",{className:v()("CommentsV2 CommentsV2--withEditor",{"CommentsV2-withPagination":"bottom"===o},n),ref:function(t){e.commentsElement=t}},Object(u.b)(T.a,Object(r.default)({commentCount:void 0!==h?h:b,shouldReverse:k,commentClosed:m,targetLink:O,order:y,onOrderChange:w,commentPattern:o,isOrg:d},S)),"top"===i&&this.renderCommentEdit(),"bottom"===o?this.renderPatternContent(a):this.renderModalContent(a),"bottom"===i&&this.renderCommentEdit())}}]),t}(d.Component),H.propTypes={type:h.a.string,parent:h.a.object.isRequired,targetLink:h.a.node,commentNeedsReview:h.a.bool,byComment:h.a.oneOfType([h.a.number,h.a.string]),commentPattern:h.a.string,commentInputPosition:h.a.oneOf(["top","bottom"]),showPackupButton:h.a.bool,handlePackupButton:h.a.func,onPaginationClick:h.a.func,autoFocus:h.a.bool,shouldReverse:h.a.bool},H.contextTypes={authRequired:h.a.func.isRequired},H.defaultProps={commentInputPosition:"bottom",showPackupButton:!0,autoFocus:!0,shouldReverse:!0},U=W))||U;var K,X,Y,Z=n(33),Q=n(9),$=n(103),J=n.n($),ee=n(217),te=n.n(ee),ne=n(177),re=n(2319),ae=Object(m.connect)(function(e,t){var n=t.conversationId,r=t.isAnchorComments,a=e.entities.comments,o=e.commentsV2,i=o.conversation,s=o.conversationMore,c=i[n]||{isFetching:!1,isDrained:!1,isPrevDrained:!1,ids:[]},l=c.isFetching,u=c.isDrained,d=c.isPrevDrained,p=c.ids,f=c.totals,h=c.topComments,m=(h=void 0===h?{}:h).paging,b=(m||{}).isEnd,v=s[n]||{isFetching:!1,isDrained:!1,ids:[]},g=v.isFetching,y=v.isDrained,C=v.ids,w=C.map(function(e){return a[e]}),O=p.map(function(e){return a[e]}),k=a["".concat(n,"_featured")]||a[n]||{},j=r?te()(C.length?[].concat(Object(Q.a)(O.slice(0,4)),Object(Q.a)(w),Object(Q.a)(O.slice(4))):O,"id"):[k].concat(Object(Q.a)(O)),_=m?[].concat(Object(Q.a)(O.slice(0,3)),Object(Q.a)(w)).length:-1;return{isFetching:l,isDrained:u,isPrevDrained:d,totals:f,comments:j,openComment:k,topCommentsPaging:m,isConversationMoreFetching:g,isConversationMoreDrained:b||y,offsetIndex:_}},{loadConversation:g.g,addComment:g.a,loadMoreAnchorComments:g.h})((Y=X=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(a)))).load=function(){var e=n.props,t=e.isAnchorComments,r=e.conversationId;(0,e.loadConversation)({id:r,isAnchorComments:t})},n.addComment=function(e,t,r){var a=r.rootCommentId,o=r.isConversation,i=n.props,s=i.parent,c=s.type,l=s.id,u=i.conversationId,d=i.addComment,p=i.isAnchorComments;return d({parentType:c,parentId:l,content:e,replyTo:t,conversationId:u,rootCommentId:a,isConversation:o,replyType:V({id:a,replyTo:t,isConversation:o}).type,isAnchorComments:p})},n.loadMoreAnchorComments=function(){var e=n.props,t=e.conversationId,r=e.topCommentsPaging,a=void 0===r?{}:r;(0,e.loadMoreAnchorComments)({conversationId:t,nextUrl:a.next})},n.createOnRef=J()(function(e){return function(t){var r=n.props.byComment;parseInt(e)===Number(r)&&(n.targetCommentEl=t)}}),n.scrollToTarget=function(){var e=Object(Z.default)(n),t=e.targetCommentEl,r=e.listEl;if(r&&t){var a=t.getBoundingClientRect(),o=a.top,i=a.height,s=r.getBoundingClientRect(),c=s.top,l=s.height;n.listEl.scrollTop+=o-c-(l-i)/2,t.classList.add("CommentItemV2--highlighted"),setTimeout(function(){return t.classList.remove("CommentItemV2--highlighted")},2e3),t.tabIndex=-1,t.focus()}},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.byComment&&this.scrollToTarget()}},{key:"componentDidUpdate",value:function(e){!e.comments.length&&this.props.comments.length&&this.props.byComment&&this.scrollToTarget()}},{key:"render",value:function(){var e=this,t=this.props,n=t.onItemLike,r=t.onItemDelete,a=t.onItemFeature,o=t.onItemApprove,i=t.onItemCollapse,s=t.onItemDislike,c=t.onNavBack,l=t.canOperateItem,p=t.isFetching,f=t.comments,h=void 0===f?[]:f,m=t.commentNeedsReview,b=t.openComment.collapsed,v=t.parent,g=t.commentPattern,y=t.totals,C=t.isDrained,O=t.isPrevDrained,k=t.isConversationMoreFetching,j=t.isConversationMoreDrained,_=t.offsetIndex,S=null;return p&&!h.length?S=Object(u.b)(d.Fragment,null,Object(u.b)(w.a,{className:"CommentItemV2",small:!0}),Object(u.b)("div",{className:"CommentsV2-openComment-divider"}),Object(u.b)("div",{className:"CommentsV2-replyNum"},"".concat(y," 条回复"))):h.length&&(S=h.map(function(t,c){return c?j||c!==_||k?k&&c===_?Object(u.b)(d.Fragment,{key:t.id},Object(u.b)(P.a,{key:t.id,onRef:e.createOnRef(t.id),isConversation:!0,commentNeedsReview:m,canOperate:l,parent:v,comment:t,onLike:n,onDelete:r,onFeature:a,onApprove:o,onCollapse:i,onDislike:s,collapsedShown:b,onReply:e.addComment}),Object(u.b)(w.a,{key:"NestCoomment-moreCommentButton-PlaceHolder",className:"NestCoomment-moreCommentButton ",small:!0})):Object(u.b)(P.a,{key:t.id,onRef:e.createOnRef(t.id),isConversation:!0,commentNeedsReview:m,canOperate:l,parent:v,comment:t,onLike:n,onDelete:r,onFeature:a,onApprove:o,onCollapse:i,onDislike:s,collapsedShown:b,onReply:e.addComment}):Object(u.b)(d.Fragment,{key:t.id},Object(u.b)(P.a,{key:t.id,onRef:e.createOnRef(t.id),isConversation:!0,commentNeedsReview:m,canOperate:l,parent:v,comment:t,onLike:n,onDelete:r,onFeature:a,onApprove:o,onCollapse:i,onDislike:s,collapsedShown:b,onReply:e.addComment}),Object(u.b)("div",{key:"NestCoomment-moreCommentButton",preset:"plain",className:"NestCoomment-moreCommentButton",onClick:e.loadMoreAnchorComments},Object(u.b)(re.a,null),Object(u.b)("p",null,"点击查看更多回复"))):Object(u.b)(d.Fragment,{key:t.id},Object(u.b)("div",{className:"CommentsV2-openComment"},Object(u.b)(P.a,{key:t.id,onRef:e.createOnRef(t.id),isConversation:!0,commentNeedsReview:m,canOperate:l,parent:v,comment:t,onLike:n,onDelete:r,onFeature:a,onApprove:o,onCollapse:i,onDislike:s,collapsedShown:b,onReply:e.addComment})),Object(u.b)("div",{className:"CommentsV2-openComment-divider"}),Object(u.b)("div",{key:"".concat(t.id,"-title")},Object(u.b)("div",{className:"CommentsV2-replyNum"},"".concat(y," 条回复"))))})),"bottom"===g?Object(u.b)(ne.b,{size:"fullPage",onClose:c},Object(u.b)("div",{className:"CommentsV2"},Object(u.b)(T.a,{isConversation:!0,commentPattern:g}),Object(u.b)(w.b,{className:"CommentListV2",onRef:function(t){e.listEl=t},isLocal:!0,isLoading:p,isDrained:C,isPrevDrained:O,onLoad:this.load,placeholder:Object(u.b)(w.a,{className:"CommentItemV2",small:!0}),getContainer:function(e){return e}},S))):Object(u.b)("div",{className:"CommentsV2"},Object(u.b)(T.a,{isConversation:!0,onNavBack:c}),Object(u.b)(w.b,{className:"CommentListV2",onRef:function(t){e.listEl=t},isLocal:!0,isLoading:p,isDrained:C,isPrevDrained:O,onLoad:this.load,placeholder:Object(u.b)(w.a,{className:"CommentItemV2",small:!0}),getContainer:function(e){return e}},S))}}]),t}(d.Component),X.propTypes={conversationId:h.a.number.isRequired,type:h.a.string,parent:h.a.object.isRequired,commentNeedsReview:h.a.bool},X.contextTypes={currentUser:h.a.object,authRequired:h.a.func.isRequired},K=Y))||K;var oe,ie,se,ce=n(132);n.d(t,"default",function(){return le});var le=Object(m.connect)(null,{updateCommentLikeStatus:g.o,updateCommentFeatureStatus:g.n,deleteComment:g.d,updateCommentCollapsed:g.l,updateCommentDisliked:g.m,approveComment:g.b,rejectComment:g.k})(oe=Object(ce.a)(null)((se=ie=function(e){function t(){var e,n;Object(o.a)(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(a)))).state={openedCommentId:null,isAnchorComments:!1,status:"open",order:"normal"},n.showConversation=function(e){var t=e.commentId,r=e.isAnchorComments;n.setState({openedCommentId:t,isAnchorComments:r})},n.showComments=function(){n.setState({openedCommentId:null,isAnchorComments:!1})},n.delete=function(e){var t=n.props,r=t.parent;return(0,t.deleteComment)(e,r.type,r.id)},n.feature=function(e){var t=n.props,r=t.parent,a=t.updateCommentFeatureStatus,o=t.notificationId;a({id:n.state.openedCommentId,commentId:e,parentId:r.id,parentType:r.type,notificationId:o})},n.like=function(e,t){var r=n.props,a=r.onItemLike,o=r.updateCommentLikeStatus;a&&a(e,t),o(e)},n.collapse=function(e){var t=n.props,r=t.parent;(0,t.updateCommentCollapsed)(e,r.type,r.id)},n.dislike=function(e){(0,n.props.updateCommentDisliked)(e)},n.approve=function(e){var t=n.props,r=t.parent,a=t.type;(0,t.approveComment)(e,r.type||a,r.id)},n.reject=function(e){var t=n.props,r=t.parent,a=t.type;(0,t.rejectComment)(e,r.type||a,r.id)},n.handleStatusChange=function(e){n.setState({status:e})},n.handleOrderChange=function(e,t){var r=n.props.onOrderChange;r&&r(e,t),n.setState({order:e})},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.onMount;e&&e(this.commentsContainerNode)}},{key:"render",value:function(){var e=this,t=this.props,n=t.parent,o=t.commentPattern,i=t.type,s=t.parent,c=(s=void 0===s?{}:s).commentPermission,l=s.relationship,d=void 0===l?{}:l,p=s.author,f=void 0===p?{}:p,h=t.needLoadCommentPermission,m=t.byComment,b=Object(a.a)(t,["parent","commentPattern","type","parent","needLoadCommentPermission","byComment"]),g=this.context.currentUser,y=void 0===d.isAuthor?g&&f.urlToken&&g.urlToken===f.urlToken:d.isAuthor,C="censor"===c&&!y,w="answer"===i||"article"===i,O=this.state,k=O.openedCommentId,j=O.status,_=O.order,S=O.isAnchorComments,x=S&&(k||m)||m;return Object(u.b)("div",{className:"Comments-container",ref:function(t){return e.commentsContainerNode=t}},Object(u.b)(G,Object(r.default)({className:v()({"CommentsV2--hidden":k&&"bottom"!==o})},b,{type:i,order:_,status:j,parent:n,commentPattern:o,commentNeedsReview:C,canOperateItem:w,onShowConversation:this.showConversation,onItemLike:this.like,onItemFeature:this.feature,onItemDelete:this.delete,onItemCollapse:this.collapse,onItemDislike:this.dislike,onItemApprove:this.approve,onItemReject:this.reject,byComment:x,onStatusChange:this.handleStatusChange,onOrderChange:this.handleOrderChange,needLoadCommentPermission:h,isAuthor:y})),k&&Object(u.b)(ae,Object(r.default)({},b,{parent:n,type:i,canOperateItem:w,onItemLike:this.like,onItemFeature:this.feature,onItemDelete:this.delete,onItemCollapse:this.collapse,onItemDislike:this.dislike,onItemApprove:this.approve,onItemReject:this.reject,commentPattern:o,conversationId:k,onNavBack:this.showComments,byComment:x,isAnchorComments:S,commentNeedsReview:C,onShowConversation:this.showConversation})))}}]),t}(d.Component),ie.propTypes={type:h.a.string.isRequired,parent:h.a.object.isRequired,onOrderChange:h.a.func,onItemLike:h.a.func,isAuthor:h.a.bool,onMount:h.a.func},ie.defaultProps={type:"answer"},ie.contextTypes={currentUser:h.a.object,authRequired:h.a.func.isRequired},oe=se))||oe)||oe},3383:function(e,t,n){"use strict";n.r(t);var r=n(4),a=n(5),o=n(8),i=n(6),s=n(7),c=n(1),l=n(0),u=n.n(l),d=n(3),p=n.n(d),f=n(20),h=n.n(f),m=n(17),b=n(44),v=n(734),g=n(181),y=n(70),C=n(33),w=(n(3356),8),O=9,k=13,j=48,_=57;function S(e,t){return e?t?!0===t?"":t:e:""}var x=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).onInputFocus=n.onInputFocus.bind(Object(C.default)(n)),n.onInputChange=n.onInputChange.bind(Object(C.default)(n)),n.onKeyDown=n.onKeyDown.bind(Object(C.default)(n)),n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"onInputFocus",value:function(){this.props.onFocus()}},{key:"onInputChange",value:function(e){var t=String(e.target.value);if(t){t=t[t.length-1];var n=this.props.chars,r=this.props.length;n.length===r?n=n.replace(/.$/,t):n+=t,this.props.onChange(n),n.length===r&&this.props.onFinish(n)}}},{key:"onKeyDown",value:function(e){var t=e.keyCode;if(!e.metaKey&&!e.ctrlKey&&t!==O&&t!==k){var n=this.props.chars;t===w?(n=n.slice(0,-1),this.props.onChange(n)):(t<j||t>_)&&(e.preventDefault(),this.props.onError(e))}}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e=this,t=this.props,n=t.length,r=t.chars,a=t.maskChar,o=t.autoFocus,i=t.className,s=t.children,l=r.length===n?n-1:r.length,u=r[l]||"";return Object(c.b)("label",{className:h()("TPass",i)},Object(c.b)("span",{className:"TPass-wrapper"},Object(c.b)(E,{length:n,chars:r,maskChar:a}),Object(c.b)("input",{className:"TPass-input",value:u,style:{left:60*l},onFocus:this.onInputFocus,onChange:this.onInputChange,onKeyDown:this.onKeyDown,onPaste:function(e){return e.preventDefault()},type:"number",min:"0",max:"9",pattern:"[0-9]*",autoFocus:o,ref:function(t){e.input=t}})),s)}}]),t}(u.a.Component);function E(e){for(var t,n=e.length,r=e.chars,a=e.maskChar,o=[],i=0;i<n;i+=1)t=r[i],o.push(Object(c.b)("span",{className:h()("TPassBox",{"TPassBox-mask":t&&Boolean(a)}),key:i},S(t,a)));return Object(c.b)("span",{className:"TPassBoxes"},o)}x.defaultProps={length:6,chars:"",maskChar:!1,autoFocus:!1,onFocus:function(){},onChange:function(){},onError:function(){},onFinish:function(){}},x.propTypes={length:p.a.number,chars:p.a.string,maskChar:p.a.oneOfType([p.a.bool,p.a.string]),autoFocus:p.a.bool,onFocus:p.a.func,onChange:p.a.func,onError:p.a.func,onFinish:p.a.func,className:p.a.string,children:p.a.node};var N=x,A=(n(3357),function(e){function t(){return Object(r.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){var e=this.props;return Object(c.b)("div",{className:h()("Spinner",e)},Object(c.b)("i",{className:"Spinner-loading"}))}}]),t}(l.Component));A.propTypes={className:p.a.string};var I=n(115),T=(n(3358),11);function L(){this.payments={},this.chosePaymentName=null,this.codeUrl="",this.qrLoaded=!1,this.need=null,this.passcode="",this.needSMS=!1,this.smsTimer=0,this.isInProgress=!1,this.error=null}var P=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).onPasscodeFocus=function(){n.state.error&&(n.setState({error:null}),6===n.state.passcode.length&&n.setState({passcode:""}))},n.onPasscodeInput=function(e){"object"==typeof e&&(e=e.target.value),n.setState({passcode:e})},n.onPasscodeFinish=function(e){n.tpass.blur(),n.payWithBalance(e)},n.onSendSMSCode=function(){n.props.trade.resendSMSCode(function(){n.startSMSTimer(),n.smsInput.focus()},function(e){n.setState({error:e})})},n.onQrLoad=function(){n.setState({qrLoaded:!0})},n.onBalanceFormSubmit=function(e){e.preventDefault(),n.payWithBalance(n.state.passcode)},n.setPayments=function(e){n.setState({payments:e})},n.confirmPayment=function(){var e=n.state,t=e.choseName,r=e.payments,a=n.props.onConfirmPayment,o=t;if(t||(o=r.balance&&r.balance.enable?"balance":"wechat"),a(!o),n.setState({chosePaymentName:o}),"wechat"===o&&n.isInWechat){var i=n.props.tradeNumber,s="".concat(location.protocol,"//").concat(location.host).concat(location.pathname),c="".concat("https://www.zhihu.com/pay/weixin/pay?service_id=".concat(T)+"&trade_number=".concat(i,"&redirect_uri=").concat(encodeURIComponent(s)));window.location.replace(c)}else n.props.trade["wechat"===o?"initWechatPay":"initBalancePay"]()},n.pid=0,n.smsTimer=null,n.state=new L,n.isInWechat=e.ua.Wechat,n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.trade;this.getPaymentsList(e),this.initListeners(e)}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.trade!==this.props.trade&&(this.setState(new L),setTimeout(function(){t.getPaymentsList(e.trade)},300),this.initListeners(e.trade))}},{key:"componentWillUnmount",value:function(){window.clearInterval(this.smsTimer),this.props.trade.dispose()}},{key:"getPaymentsList",value:function(e){var t=this;if(e){var n=this.pid+=1;e.getPaymentsList(function(e){t.pid===n&&t.setPayments(e)})}}},{key:"initListeners",value:function(e){var t=this;e&&e.on("payInited",function(e,n){t.setState(Object.assign({},n))}).on("paySuccess",function(){t.setState({isInProgress:!1,error:null}),t.props.onSuccess()}).on("payCancel",function(){t.setState({isInProgress:!1,chosePaymentName:null})}).on("payFail",function(e){var n=e;"object"!=typeof e||e instanceof Error||(n=e.message),t.setState({isInProgress:!1,error:n}),t.props.onFail(e)}).on("needSMS",function(e){t.setState({isInProgress:!1,error:null,needSMS:e.message,passcode:""})}).on("needWechatCode",function(){t.props.onError("needWechatCode")}).on("error",function(e,n){t.props.onError(e,n)})}},{key:"startSMSTimer",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;window.clearInterval(this.smsTimer),this.setState({smsTimer:t}),this.smsTimer=window.setInterval(function(){(t-=1)<=0?(window.clearInterval(e.smsTimer),e.smsTimer=null,e.setState({smsTimer:0})):e.setState({smsTimer:t})},1e3)}},{key:"payWithBalance",value:function(e){return 6!==e.length?(this.setState({error:"请输入 6 位支付密码"}),!1):(this.setState({isInProgress:!0,error:null}),this.props.trade.payWithBalance(e))}},{key:"renderPaymentsList",value:function(){var e=this,t=this.state,n=t.payments,r=t.chosePaymentName,a=t.choseName,o=this.props.trade;if(r)return null;var i=n.balance&&n.balance.amount,s=o.info.total,l=n.wechat&&n.wechat.enable,u=n.balance&&n.balance.enable,d=n.balance&&!n.balance.enable,p=i>=s?"使用余额（剩余 ".concat((i/100).toFixed(2),"）"):"微信支付",f=i>=s?"wallet":"wechatPayment",h="PaymentItem-".concat(i>=s?"wallet":"wechatPayment");a&&(p="wechat"===a?"微信支付":"使用余额（剩余 ".concat((i/100).toFixed(2),"）"),f="wechat"===a?"wechatPayment":"wallet",h="PaymentItem-".concat("wechat"===a?"wechatPayment":"wallet"));var b=Object(c.b)("div",null,Object(c.b)(y.a,{name:f,className:h}),Object(c.b)(m.c,{className:"Payment-Popover"},p),Object(c.b)(y.a,{className:"Select-arrow",name:"select"}));return Object(c.b)("div",{className:"PaymentsList"},Object(c.b)("span",{className:"Payment-Topline"}),Object(c.b)("span",{className:"PaymentWay"},"支付方式"),Object(c.b)(I.a,{placeholder:b},Object(c.b)(g.b,{plain:!0,className:"Payment-select",listClassName:"Payment-select-list",targetClassName:"Popover-targetContainer-verification",text:i>=s?"使用余额（剩余 ".concat((i/100).toFixed(2),"）"):"微信支付",menuToggler:b,onChange:function(t){"disabled"!==t&&e.setState({choseName:t})}},u&&Object(c.b)(g.a,{value:"balance",className:"PaymentItem"},Object(c.b)(y.a,{name:"wallet",className:"PaymentItem-wallet"}),"使用余额（剩余 ".concat((i/100).toFixed(2),"）")),d&&Object(c.b)(g.a,{value:"disabled",className:"PaymentItem PaymentItem--disabled"},Object(c.b)(y.a,{name:"wallet",className:"PaymentItem-wallet"}),"使用余额（剩余 ".concat((i/100).toFixed(2),"）")),l&&Object(c.b)(g.a,{value:"wechat",className:"PaymentItem"},Object(c.b)(y.a,{name:"wechatPayment",className:"PaymentItem-wechatPayment"}),"微信支付"))),Object(c.b)("span",{className:"Payment-Bottomline"}),Object(c.b)(m.c,{className:"Payment-CheckedButton",onClick:this.confirmPayment},"确认支付"))}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.trade,a=this.state,o=a.payments,i=a.chosePaymentName,s=a.codeUrl,l=a.needSMS,u=a.isInProgress;return r?Object(c.b)("div",{className:h()("Payment",n)},Object.keys(o).length?this.renderPaymentsList():Object(c.b)("div",{className:"Payment-placeholder"},Object(c.b)(A,null)),"wechat"===i&&Object(c.b)("div",{className:"Payment-wechatPay"},Object(c.b)("div",{className:"Payment-wechatPayTitle"},Object(c.b)("i",{className:"icon icon-ic_wechatpay PaymentIconWechat"}),"微信支付"),!this.isInWechat&&Object(c.b)("div",null,"使用微信扫描二维码完成支付"),this.state.qrLoaded?Object(c.b)("span",{className:"Payment-qrWrapper"},Object(c.b)("img",{role:"presentation",src:"//www.zhihu.com/qrcode?url=".concat(s),width:"150",height:"150"})):Object(c.b)("div",{className:"Payment-qrPlaceholder"},Object(c.b)(A,null),!this.isInWechat&&Object(c.b)("div",null,"正在生成二维码"),s&&Object(c.b)("img",{role:"presentation",src:"//www.zhihu.com/qrcode?url=".concat(s),width:"1",height:"1",onLoad:this.onQrLoad}))),"balance"===i&&Object(c.b)("form",{onSubmit:this.onBalanceFormSubmit,className:"Payment-balancePay"},Object(c.b)("div",{className:"Payment-balancePayTitle"},Object(c.b)("i",{className:"icon icon-wallet PaymentIconWallet"}),"余额支付"),!l&&Object(c.b)("div",null,Object(c.b)("div",{className:"Payment-description"},"请输入 6 位数知乎支付密码，用于支付验证。"),Object(c.b)(N,{chars:this.state.passcode,onFocus:this.onPasscodeFocus,onChange:this.onPasscodeInput,maskChar:!0,onFinish:this.onPasscodeFinish,className:h()("Payment-tpass",{"Payment-errorInput":this.state.error,"Payment-progressing":u}),autoFocus:!0,ref:function(t){e.tpass=t}},u&&Object(c.b)(A,{className:"Payment-balancePaySpinner"}))),Boolean(l)&&Object(c.b)("div",{className:"Payment-balancePaySms"},Object(c.b)("div",{className:"Payment-balancePaySmsText"},String(l)),Object(c.b)("input",{onChange:this.onPasscodeInput,value:this.state.passcode,className:h()("Payment-sms","SimpleInput",{"Payment-errorInput":this.state.error}),type:"text",pattern:"\\d{6}",minLength:"6",maxLength:"6",title:"验证码应为 6 位数字",placeholder:"输入 6 位数验证码",required:!0,autoFocus:!0,ref:function(t){e.smsInput=t}}),this.state.smsTimer?Object(c.b)("button",{className:"Payment-sendSms",type:"button",disabled:!0},this.state.smsTimer," 秒后可重发"):Object(c.b)("button",{onClick:this.onSendSMSCode,className:"Payment-sendSms",type:"button"},"发送验证码")),Object(c.b)("div",{className:"Payment-balancePayFooter"},Object(c.b)("p",{className:"Payment-errorTip",style:{visibility:this.state.error?"visible":"hidden"}},this.state.error),Boolean(l)&&Object(c.b)(m.c,{color:"blue",disabled:u,className:"Payment-balancePayConfirmBtn",type:"submit"},"确认")),!l&&Object(c.b)("div",{className:"Payment-balancePayForget"},"如果忘记密码请邮件联系"," ",Object(c.b)("email",{className:"Payment-email"},"i@zhihu.com")))):Object(c.b)("div",{className:h()("Payment",n)},Object(c.b)("div",{className:"Payment-placeholder Payment-placehoder--empty"},Object(c.b)(A,null)))}}]),t}(u.a.Component);P.propTypes={trade:p.a.object,autoChooseSinglePayment:p.a.bool,onSuccess:p.a.func.isRequired,onFail:p.a.func,onError:p.a.func,onConfirmPayment:p.a.func},P.defaultProps={trade:null,onSuccess:function(){},onFail:function(){},onError:function(){},autoChooseSinglePayment:!0,className:""};var R=P,M=n(195),D="",B=null;var q=n(18);n(3359);n.d(t,"TipjarDialog",function(){return V});var F=[200,500,1e3,5e3,1e4,2e4],z=100,V=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(i.a)(t).call(this,e))).lockScroll=function(){document.body.classList.add("scroll-locked"),n.scrollTop=window.scrollY,document.body.style.width="100%",document.body.style.position="fixed",document.body.style.top=-n.scrollTop+"px"},n.unlockScroll=function(){document.body.classList.remove("scroll-locked"),document.body.style.width=null,document.body.style.position=null,void 0!==n.scrollTop&&(window.scrollTo(0,n.scrollTop),n.scrollTop=void 0),document.body.style.top=null},n.onConfirmPayment=function(e){n.setState({chosePaymentName:e})},n.onPaySuccess=function(){n.props.onPaySuccess(),n.setState({chosePaymentName:!0,colseTijarDialogStatus:!0,trade:void 0,currentAmount:"",customButton:!1})},n.handleCustomAmount=function(){n.state.trade&&n.state.trade.dispose(),n.setState({showCustom:!0})},n.handleCustomChange=function(e){var t=e.target.value;isNaN(t)?n.setState({customAmount:""}):n.setState({customAmount:parseInt(t)||""})},n.handleCustomKeyUp=function(e){13===e.keyCode&&n.handleSubmitCustom()},n.handleSubmitCustom=function(){var e=n.state.customAmount*z;e>0&&e<=5e4&&(n.setState({customButton:!0,showCustom:!1,colseTijarDialogStatus:!1}),n.createTrade(e))},n.closeModal=function(){n.state.trade&&n.state.trade.dispose(),n.setState(n.getDefaultState())},n.handleAmountButton=function(e){n.createTrade(e.currentTarget.dataset.amount),n.setState({colseTijarDialogStatus:!1,customButton:!1,showCustom:!1})},n.createTrade=function(e){n.setState({tradeLoading:!0,currentAmount:e});var t=n.props.ua;n.props.addReward(e,t.Wechat?"wechat":"normal"),n.setState({tradeLoading:!1})},n.colseTijarDialog=function(){n.setState({chosePaymentName:!0,colseTijarDialogStatus:!0,trade:void 0,currentAmount:""}),n.props.colseTijarDialog()},n.state=n.getDefaultState(),n}return Object(s.a)(t,e),Object(a.a)(t,[{key:"componentDidMount",value:function(){this.showTip()}},{key:"componentDidUpdate",value:function(e){var t=e.TipjarRender,n=this.props,r=n.tradeNumber,a=n.type,o=n.isMobile,i=n.TipjarRender,s=this.state,c=s.trade,l=s.colseTijarDialogStatus,u="article"===a?11:17;if(r&&(!c||r!==c.tradeNo)&&!l){var d=new window.zhihu.pay.Trade(r,u);this.setState({trade:d})}o&&(!t&&i?this.lockScroll():t&&!i&&this.unlockScroll())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.TipjarRender,n=e.isMobile;t&&this.props.removeTradeNumber(),t&&n&&this.unlockScroll()}},{key:"getDefaultState",value:function(){return{showCustom:!1,customAmount:"",currentAmount:"",showTipModal:!1,customButton:!1,chosePaymentName:!0,colseTijarDialogStatus:!1}}},{key:"showTip",value:function(){var e,t,n=this;e="https://pay.zhihu.com/api/js",t=function(){n.setState({showTipModal:!0})},D&&e&&e!==D&&t(new Error("A pay-sdk from different source has been load")),D=e,window.zhihu&&window.zhihu.pay?window.zhihu.pay.ready(t):(B||(B=Object(M.loadScript)(e)),B.then(function(){return window.zhihu.pay.ready(t)},function(e){t(e),B=null}))}},{key:"renderAmountCustom",value:function(){var e=this.state,t=e.showCustom,n=e.customAmount,r=e.currentAmount,a=e.customButton;return Object(c.b)("div",{className:"Reward-TipjarDialog-amountCustom"},t?Object(c.b)("div",{className:"Reward-TipjarDialog-amountInput"},Object(c.b)("input",{name:"",type:"text",className:"SimpleInput",placeholder:"你想赞赏的金额（不超过 500）",value:n,onChange:this.handleCustomChange,onKeyUp:this.handleCustomKeyUp,ref:function(e){e&&e.focus()}}),Object(c.b)(m.c,{disabled:n<=0||n>500,color:"blue",preset:"primary",onClick:this.handleSubmitCustom},"确定"),Object(c.b)("div",{className:"Reward-TipjarDialog-error",style:{display:n>500?"block":"none"}},"不能超过 500 元")):Object(c.b)(m.c,{preset:"plain",className:a?"TipjarDialog-customButton-cheked":"TipjarDialog-customButton",onClick:this.handleCustomAmount},a?"自定义金额： ￥ ".concat(r/z):"自定义金额"))}},{key:"renderTipjarDialog",value:function(){var e=this,t=this.props,n=t.author,r=n.name,a=n.avatarUrl,o=n.isOrg,i=n.urlToken,s=n.id,l=t.tagline,u=this.state.currentAmount;return Object(c.b)("div",{className:"Reward-TipjarDialog"},Object(c.b)("div",{className:"Reward-TipjarDialog-user"},Object(c.b)("a",{href:"/".concat(o?"org":"people","/").concat(i||s),className:"Reward-UserAvatar"},Object(c.b)("img",{src:a.replace("_is","_l"),className:"Reward-Avatar",alt:"当前用户"})),r),Object(c.b)("div",{className:"Reward-TipjarDialog-tagLine"},l),Object(c.b)("div",{className:"Reward-TipjarDialog-selectAmount"},Object(c.b)("div",{className:"Reward-TipjarDialog-amountList"},F.map(function(t){return Object(c.b)(m.c,{key:t,"data-amount":t,onClick:e.handleAmountButton,color:"red",className:h()({"Reward-Button-checked":Number(u)===t})},Object(c.b)("b",null,Number(u)===t?"".concat(t/z," 元"):"￥ ".concat(t/z)))})),this.renderAmountCustom()))}},{key:"render",value:function(){var e=this.props,t=e.ua,n=e.TipjarRender,r=e.isMobile,a=e.tradeNumber,o=this.state,i=o.showCustom,s=o.tradeLoading,l=o.showTipModal,u=o.trade,d=o.chosePaymentName,p=r?v.a:b.b,f=r?"small":"default";return Object(c.b)(p,{overlay:!0,size:f,onClose:this.colseTijarDialog,className:"Reward-TipjarDialogModal"},n&&Object(c.b)("div",null,l&&d&&this.renderTipjarDialog(),(u||s)&&!i&&Object(c.b)(R,{trade:u,tradeNumber:a,ua:t,onSuccess:this.onPaySuccess,onConfirmPayment:this.onConfirmPayment})))}}]),t}(l.Component);V.propTypes={author:p.a.object,tagline:p.a.string,colseTijarDialog:p.a.func,addReward:p.a.func,tradeNumber:p.a.number,removeTradeNumber:p.a.func,onPaySuccess:p.a.func,isMobile:p.a.bool,type:p.a.string},V.defaultProps={tagline:q.n}},3384:function(e,t,n){"use strict";n.r(t);var r,a,o,i,s=n(23),c=n(27),l=n(4),u=n(5),d=n(8),p=n(6),f=n(7),h=n(1),m=n(3),b=n.n(m),v=n(0),g=n.n(v),y=n(21),C=n(20),w=n.n(C),O=n(489),k=n(19),j=n(103),_=n.n(j),S=n(1709),x=n(246),E=n(131),N=n(2411),A=n(17),I=n(244),T=n(456),L=n(22),P=n(56),R=n(461),M=n(183),D=n(1747),B=n(9),q=n(33),F=n(25),z=n(781),V=n.n(z),U=n(30),H=n.n(U),W=n(177),G=n(212),K=n(467),X=n(46);n(3271);function Y(){var e=Object(D.a)(["回复","",""]);return Y=function(){return e},e}var Z="zhihu::comment_local_key",Q=5,$=function(){return""},J=(r=Object(y.connect)(function(e){return{shouldOia:Object(X.g)(e)}}),Object(F.withRouter)(a=r((i=o=function(e){function t(e,n){var r;return Object(l.a)(this,t),(r=Object(d.a)(this,Object(p.a)(t).call(this,e,n))).initLocalComment=function(){var e=r.props,t=e.type,n=e.id;if(t&&n){var a=H.a.get(Z)||[],o="".concat(t,"_").concat(n),i=a.find(function(e){return e.key===o}),s=i&&i.value;s&&r.setState({value:{toHTML:function(){return s}},hasNoContent:!1})}},r.saveLocalComment=function(e){var t=r.props,n=t.type,a=t.id;if(n&&a){var o=e?e.toHTML():r.state.value.toHTML(),i="".concat(n,"_").concat(a),s=(H.a.get(Z)||[]).filter(function(e){return e.key!==i}),c=o?[].concat(Object(B.a)(s.slice(0,Q-1)),[{key:i,value:o}]):s;H.a.set(Z,c)}},r.handleChange=function(e){r.setState({value:e,hasNoContent:e.isEmpty})},r.handleCommentShow=r.context.authRequired(function(){r.setState({shown:!0}),r.hiddenInput.focus()}),r.handleCommentHide=function(){r.setState({shown:!1})},r.handleMobileComment=function(){r.onSubmit(),r.handleCommentHide()},r.focusInput=function(e){e.preventDefault(),r.input.focus()},r.onChange=r.handleChange.bind(Object(q.default)(r)),r.onFocus=r.handleFocus.bind(Object(q.default)(r)),r.onBlur=r.handleBlur.bind(Object(q.default)(r)),r.onSubmit=r.context.authRequired(r.handleSubmit.bind(Object(q.default)(r)),void 0,L.b),r.state={active:e.defaultActive,hasNoContent:!0,submitting:!1,shown:!1,value:{toHTML:$}},r}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.initLocalComment()}},{key:"componentWillUnmount",value:function(){this.saveLocalComment()}},{key:"handleFocus",value:function(){this.setState({active:!0})}},{key:"handleBlur",value:function(){var e=this;setTimeout(function(){return e.setState({active:!1})},100)}},{key:"handleSubmit",value:function(){var e=this,t=this.props,n=t.replyTo,r=t.onSubmit,a=t.onCancel,o=this.state.submitting,i=this.input.toHTML();if(i&&r&&!o){this.setState({submitting:!0}),this.saveLocalComment();var s=r(i,n);s.then?s.then(function(){a&&a(),e.input?(e.input.reset(),e.setState({value:{toHTML:$}},function(){return e.saveLocalComment()})):e.saveLocalComment({toHTML:$})}).finally(function(){e.setState({submitting:!1})}):(this.setState({submitting:!1}),a&&a(),this.input.reset()),k.default.trackEvent(this,{action:"Comment",element:"Button"})}}},{key:"renderInput",value:function(e){var t=this,n=e.placeholder,r=e.className,a=this.props.autoFocus;return Object(h.b)(g.a.Fragment,null,Object(h.b)(G.c,{keyMap:{FOCUS_COMMENT_INPUT:"shift+c"},handlers:{FOCUS_COMMENT_INPUT:this.focusInput}}),Object(h.b)(K.a,{className:w()("CommentEditor-input",r),defaultValue:this.state.value.toHTML(),allowMention:!0,allowPasteRichText:!1,autoFocus:Boolean(!1)||a,outputBlockType:"div",ref:function(e){t.input=e},placeholder:n,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange,onSubmit:this.onSubmit,minRows:5}))}},{key:"render",value:function(){var e=this.props,t=e.replyTo,n=e.commentNeedsReview,r=e.className,a=(e.onClick,e.onCancel),o=e.ownerAuthorIsOrg,i=e.ownerAuthorIsBrand,c=(e.type,e.id,e.shouldOia,e.preset,this.state),l=c.active,u=c.hasNoContent,d=c.submitting,p=o?"机构":"作者",f={preset:"primary",color:"blue",children:"评论",disabled:u||d};if(t){var m=V()(Y(),t.author.member.name,n?"，评论由".concat(p,"筛选后公开"):"");return Object(h.b)("div",{className:w()(r,"CommentEditor--inCommentItem",{"CommentEditor--active":l||!u})},this.renderInput({placeholder:m}),Object(h.b)("div",{className:"CommentEditor-actions"},Object(h.b)(A.c,{preset:"plain",onClick:a},"取消"),Object(h.b)(A.c,Object(s.default)({},f,{onClick:this.onSubmit}))))}var b="写下你的评论...";n&&(b=i?"已开启预审评论，评论由品牌筛选后公开":o?"已开启预审评论，评论由机构筛选后公开":"评论由作者筛选后显示");w()(r,"CommentEditor--normal"),this.state.shown;return Object(h.b)("div",{className:w()(r,"CommentEditor--normal",{"CommentEditor--active":l||!u})},this.renderInput({placeholder:b}),Object(h.b)(A.c,Object(s.default)({},f,{className:"CommentEditor-singleButton",onClick:this.onSubmit})))}}]),t}(v.Component),o.contextTypes={authRequired:b.a.func},a=i))||a)||a);J.defaultProps={defaultActive:!1,replyTo:null,inCommentItem:!1,autoFocus:!0,ownerAuthorIsOrg:!1,ownerAuthorIsBrand:!1},J.propTypes={className:b.a.string,defaultActive:b.a.bool,replyTo:b.a.object,inCommentItem:b.a.bool,commentNeedsReview:b.a.bool,canComment:b.a.object,onCancel:b.a.func,onSubmit:b.a.func.isRequired};var ee,te,ne,re,ae=J,oe=n(2471),ie=n(2470),se=n(2434),ce=n(1688),le=n(1691),ue=n(2467),de=n(2468),pe=n(2435),fe=n(2469),he=(n(57),n(2094),n(213)),me=n(18),be=n(150),ve=n(1777),ge=n(133),ye=n(1862),Ce=n(85),we=n(499),Oe=(n(3272),ee=Object(y.connect)(function(e){return{isWechat:e.env.userAgent.Wechat,shouldSpecialOia:Object(X.h)(e)}}),Object(F.withRouter)(te=ee((re=ne=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={reportModalShown:!1,isReplying:!1,collapsed:!0,guideShown:!1},n.getRedirectUrl=function(){var e=n.props.parent;switch(e.type){case"answer":return"/question/".concat(e.question.id,"/answer/").concat(e.id);case"article":return"https://zhuanlan.zhihu.com/p/".concat(e.id);default:return""}},n.like=n.context.authRequired(function(e){var t=n.props;(0,t.onLike)(t.comment.id,e)},me.S.like,L.b),n.dislike=n.context.authRequired(function(){var e=n.props;(0,e.onDislike)(e.comment.id)},me.S.like,L.b),n.delete=function(){var e=n.props;(0,e.onDelete)(e.comment.id)},n.feature=function(){var e=n.props;(0,e.onFeature)(e.comment.id)},n.collapse=function(){var e=n.props;(0,e.onCollapse)(e.comment.id)},n.approve=function(){var e=n.props;(0,e.onApprove)(e.comment.id)},n.showConversation=function(){var e=n.props;(0,e.onShowConversation)(e.comment.id)},n.startReply=n.context.authRequired(function(){n.setState({isReplying:!0})},void 0,L.b),n.stopReply=function(){n.setState({isReplying:!1})},n.openReportModal=n.context.authRequired(function(){n.setState({reportModalShown:!0})}),n.closeReportModal=function(e){if(e){var t=e.result.payload,r=t&&t.message||t&&t.code&&"举报失败";e.commentDeleteResult&&!(e.commentDeleteResult.payload||{}).code?ye.b.showModal({reportText:r}):Object(Ce.b)(r||"举报成功")}n.setState({reportModalShown:!1})},n.handleExpand=function(){n.setState({collapsed:!1})},n.handleToggleGuide=function(){n.setState({guideShown:!n.state.guideShown})},n.handleDelete=function(){return n.setState({deleteModal:!0})},n.handleCloseDelete=function(){return n.setState({deleteModal:!1})},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"renderRoleInfo",value:function(e,t){return"normal"===e?null:Object(h.b)("span",{className:"CommentItem-roleInfo"},"ancestor"===e||"author"===e&&"question"===t?" (提问者) ":" (作者) ")}},{key:"renderReplyTo",value:function(){var e=this.props.comment,t=e.replyToAuthor,n=e.resourceType;if(!t)return null;var r=t.member,a=void 0===r?{}:r,o=t.role;return Object(h.b)("span",null,Object(h.b)("span",{className:"CommentItem-reply"},"回复"),Object(h.b)(ge.a,{className:w()({"CommentItem-userLink":!1}),noBadge:!0,noHoverCard:!0,user:a}),this.renderRoleInfo(o,n))}},{key:"renderInner",value:function(){var e=this,t=this.props,n=t.comment,r=n.isDelete,a=n.collapsed,o=t.isConversation,i=t.ownerAuthorIsOrg;if(r)return o?Object(h.b)("div",{className:"CommentItem-deletedContent"},"这里有一条已删除的评论"):null;if(a&&o&&this.state.collapsed)return Object(h.b)("div",{className:"CommentItem-deletedContent"},"这里有一条已折叠的评论，",Object(h.b)(A.c,{preset:"plain",onClick:this.handleExpand},"查看"));var c,l=this.state,u=l.reportModalShown,d=l.isReplying,p=this.props,f=p.parent,m=f.canComment,b=(m=void 0===m?{status:!0}:m).status,v=f.questionType,g=p.commentNeedsReview,y=p.comment,C=p.onReply,O=p.status,k=p.type,j=p.canOperate,_=p.commentPattern,S=p.isMobile,x=y.id,E=y.author,N=y.content,I=y.voteCount,T=y.replyToAuthor,L=y.isAuthor,P=y.isParentAuthor,R=y.createdTime,M=y.featured,D=y.voting,B=y.reviewing,q=y.disliked,F=y.resourceType,z=y.collapsedReason,V=void 0===z?"":z,U=E||{},H=U.member,W=U.role;if(d)c=Object(h.b)(ae,{type:"comment",id:x,commentNeedsReview:g,className:"CommentItem-editor",defaultActive:!0,replyTo:y,onCancel:this.stopReply,onSubmit:C});else if("reviewing"===O)c=Object(h.b)("div",{className:"CommentItem-footer"},Object(h.b)(A.c,{preset:"plain",onClick:this.approve},Object(h.b)(oe.a,{style:{marginRight:5},center:!0,size:14}),"公开"),Object(h.b)(A.c,{className:w()({"CommentItem-hoverBtn":!0}),preset:"plain",onClick:this.handleDelete},Object(h.b)(ie.a,{style:{marginRight:5},center:!0,size:16}),"删除"));else{var G=L||P&&("question"!==k||"commercial"===v);c=Object(h.b)("div",{className:w()("CommentItem-footer",{"CommentItem-mobileFooter":!1})},Object(h.b)(A.c,{className:w()("CommentItem-likeBtn",D&&"is-liked"),preset:"plain",onClick:this.like,disabled:L},Object(h.b)(se.a,{style:{marginRight:5},center:!0,size:16}),I>0?I:"赞"),a&&V&&Object(h.b)("div",{className:"CommentItem-walleTag"},"阴阳怪气自动折叠"===V&&Object(h.b)(ce.a,{size:16,className:"CommentItem-walleIcon"}),V),!o&&T&&Object(h.b)(A.c,{preset:"plain",className:"CommentItem-talkBtn",onClick:this.showConversation},Object(h.b)(le.a,{style:{marginRight:5},center:!0,size:16}),"查看对话"),!o&&!L&&b&&!a&&Object(h.b)(A.c,{preset:"plain",className:w()({"CommentItem-hoverBtn":!0}),onClick:this.startReply},Object(h.b)(ue.a,{style:{marginRight:5},center:!0,size:16}),"回复"),P&&j&&!S&&Object(h.b)(A.c,{className:w()({"CommentItem-hoverBtn":!L}),preset:"plain",onClick:this.feature},Object(h.b)(de.a,{style:{marginRight:5},center:!0,size:16}),M?"取消推荐":"推荐"),P&&j&&!S&&Object(h.b)(A.c,{className:w()({"CommentItem-hoverBtn":!L}),preset:"plain",onClick:this.collapse},Object(h.b)(pe.a,{style:{marginRight:5},center:!0,size:14}),a?"取消折叠":"折叠"),!P&&!L&&j&&!S&&Object(h.b)(A.c,{className:w()({"CommentItem-hoverBtn":!0}),preset:"plain",onClick:this.dislike},Object(h.b)(se.a,{style:{transform:"rotate(180deg)",marginRight:5},size:16,center:!0}),q?"取消踩":"踩"),L||Object(h.b)(A.c,{className:w()({"CommentItem-hoverBtn":!0}),preset:"plain",onClick:this.openReportModal},Object(h.b)(fe.a,{style:{marginRight:5},center:!0,size:16}),"举报"),G&&Object(h.b)(A.c,{className:w()({"CommentItem-hoverBtn":!L}),preset:"plain",onClick:this.handleDelete},Object(h.b)(ie.a,{style:{marginRight:5},center:!0,size:16}),"删除"),!1,!1,Object(h.b)(ye.a,{shown:this.state.deleteModal,id:x,onDelete:this.delete,onClose:this.handleCloseDelete}),Object(h.b)(be.a,Object(s.default)({type:"comment",urlToken:x,shown:u,onClose:this.closeReportModal},G&&{onDeleteComment:function(){return e.props.onDelete(x)}},{notification:{failure:we.a},zaEnabled:!0})))}return Object(h.b)("div",null,Object(h.b)("div",{className:"CommentItem-meta"},H&&Object(h.b)(ge.a,{className:"CommentItem-avatar",avatar:!0,noHoverCard:"fixed"===_,user:H}),H&&Object(h.b)(ge.a,{className:w()({"CommentItem-userLink":!1}),noBadge:!0,noHoverCard:!0,user:H}),this.renderRoleInfo(W,F),this.renderReplyTo(),B&&Object(h.b)(pe.a,{className:"CommentItem-reviewing","data-tooltip":"".concat(!1===i?"评论未公开，由作者筛选后显示":"已开启预审评论，评论由机构筛选后公开"),center:!0,size:14}),Object(h.b)("span",{className:"CommentItem-time"},Object(he.toRelativeString)(R))),Object(h.b)(ve.a,{className:"CommentItem-content",html:N}),c)}},{key:"render",value:function(){var e=this.renderInner(),t=this.props,n=t.parent;n.type,n.id,t.isWechat;return e&&Object(h.b)("div",{className:"CommentItem",ref:this.props.onRef},e,!1)}}]),t}(v.PureComponent),ne.propTypes={comment:b.a.object.isRequired,parent:b.a.object.isRequired,commentNeedsReview:b.a.bool,type:b.a.string,isConversation:b.a.bool,onLike:b.a.func.isRequired,onShowConversation:b.a.func,onReply:b.a.func,onFeature:b.a.func,onDelete:b.a.func.isRequired,onCollapse:b.a.func,commentPattern:b.a.string,isMobile:b.a.bool},ne.contextTypes={currentUser:b.a.object,authRequired:b.a.func},te=re))||te)||te),ke=n(2598),je=n(2489),_e=n(2599);n(3277);function Se(e,t){switch(e){case"answer":return Object(P.n)(t);case"article":return Object(R.b)(t);default:return null}}var xe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={collapsed:!0,current:1},n.commentsWithPaginationElRef=g.a.createRef(),n.load=function(e,t,r){if(!n.props.isFetching&&!n.props.parent.adminClosedComment){var a=e||n.props,o=a.order,i=a.byComment,s=a.status,c=a.parent,l=c.id,u=c.type,d=a.dispatch,p=a.commentPattern;if(a.needLoadCommentPermission&&Se(u,l)&&d(Se(u,l)),r){d(Object(O.e)(u,l,{order:o,isPrevious:t,byComment:i,status:"collapsed",commentPattern:p},!0))}else d(Object(O.e)(u,l,{order:o,isPrevious:t,byComment:i,status:s,commentPattern:p}))}},n.addComment=function(e,t){var r=n.props,a=r.parent,o=a.id,i=a.type,s=r.dispatch,c=[i,o,e];return t&&(c[3]=t.id),s(O.a.apply(void 0,c))},n.featureItem=function(e){n.props.onItemFeature(e,n.lastFeaturedIndex)},n.handleOpenCollapsed=function(){n.setState({collapsed:!1}),n.load(n.props,!1,!0)},n.createOnRef=_()(function(e){return function(t){var r=n.props.byComment;e===Number(r)&&(n.targetCommentEl=t)}}),n.handlePageSelect=function(e){var t=n.props.onPaginationClick,r=n.state.current;t&&t(r,e),n.commentsElement.scrollIntoView(),n.setState({current:e}),n.loadByPagination(e)},n.loadByPagination=function(e,t){var r=t||n.props,a=r.order,o=r.byComment,i=r.status,s=r.parent,c=s.id,l=s.type,u=r.dispatch,d=r.commentPattern;r.needLoadCommentPermission&&Se(l,c)&&u(Se(l,c)),u(Object(O.e)(l,c,{order:a,isPrevious:!1,byComment:o,status:i,commentPattern:d,current:e}))},n.renderComment=function(e){var t=n.props,r=t.parent,a=r.type,o=r.author,i=(o=void 0===o?{isOrg:!1}:o).isOrg,s=t.isMobile,c=t.parent,l=t.commentNeedsReview,u=t.onShowConversation,d=t.status,p=t.onItemLike,f=t.onItemDelete,m=t.onItemCollapse,b=t.onItemDislike,v=t.onItemApprove,g=t.canOperateItem,y=t.commentPattern;return Object(h.b)(Oe,{key:e.id,isMobile:s,comment:e,onRef:n.createOnRef(e.id),status:d,type:a,parent:c,canOperate:g,commentNeedsReview:l,onShowConversation:u,ownerAuthorIsOrg:i,onLike:p,onReply:n.addComment,onFeature:n.featureItem,onDelete:f,onCollapse:m,onDislike:b,onApprove:v,commentPattern:y})},n.renderNormalComments=function(e){var t=n.state.collapsed,r=n.props.byComment,a=[];if(n.lastFeaturedIndex=0,e.length>0){var o=e[0].featured,i=!1;e.forEach(function(s,c){if(r||!s.collapsed){var l=e[c-1];if(!s.collapsed||(l&&l.collapsed||a.push(n.renderCollapsedDivider()),!t)){a.push(n.renderComment(s));var u=e[c+1];o&&!i&&s.featured&&(!u||!u.featured)&&(i=!0,n.lastFeaturedIndex=c,a.push(Object(h.b)("div",{className:"CommentList-divider",key:"divider-featured"},Object(h.b)("div",{className:"CommentList-dividerLine"}),Object(h.b)("div",{className:"CommentList-dividerText"},"以上为精选评论",Object(h.b)(S.a,{className:"CommentList-questionMark","data-tooltip":"精选评论包含回答作者推荐的评论和部分高赞评论",center:!0,size:16})))))}}})}return a},n.renderCollapsedComments=function(){var e=[],t=n.props.collapsedComments;return n.state.collapsed||!t||t.length<=0?[]:(e.push(t.map(function(e){return n.renderComment(e)})),e)},n.renderComments=function(e){return e.map(n.renderComment)},n.renderCollapsedDivider=function(){var e=n.props,t=e.isDrained,r=e.parent.collapsedCounts;return!t||r<=0?[]:n.state.collapsed?Object(h.b)("div",{className:"CommentList-action",key:"collapsed"},Object(h.b)("div",{className:"CommentList-expendCollapseButton"},Object(h.b)("span",{onClick:n.handleOpenCollapsed},Object(I.formatNumber)(r)," 条评论被折叠"),"（",Object(h.b)("a",{href:"//www.zhihu.com/question/52029856/answer/128623557",target:"_blank",rel:"noopener noreferrer"},"为什么？"),"）")):Object(h.b)("div",{className:"CommentList-divider",key:"divider-collapsed"},Object(h.b)("div",{className:"CommentList-dividerLine"}),Object(h.b)("div",{className:"CommentList-dividerText"},Object(I.formatNumber)(r)," 条评论被折叠（",Object(h.b)("a",{href:"//www.zhihu.com/question/52029856/answer/128623557",target:"_blank",rel:"noopener noreferrer"},"为什么？"),"）"))},n.renderCollapsedInfiLoader=function(){var e=n.state.collapsed;if(e)return[];var t=n.props.collapsedInfo,r=(t=void 0===t?{}:t).isFetching,a=t.isPrevDrained,o=t.isDrained;return Object(h.b)(E.b,{className:"CommentList",onRef:function(e){n.listEl=e},isLocal:!0,isLoading:r,isPrevDrained:a,isDrained:o,onLoad:function(t){return n.load(n.props,t,!e)},placeholder:Object(h.b)(E.a,{className:"CommentItem",small:!0})},n.renderCollapsedComments())},n.renderPatternContent=function(e){var t=n.props,r=t.isFetching,a=t.parent.adminClosedComment,o=t.byComment,i=t.status,s=t.order,c=t.totals,l=t.showPackupButton,u=t.handlePackupButton,d=Math.ceil(c/20),p=n.state.current;return a?null:r?Object(h.b)(ke.a,null):Object(h.b)("div",{ref:n.commentsWithPaginationElRef},Object(h.b)("div",{className:"CommentList"},"normal"===s&&"open"===i?n.renderNormalComments(e):n.renderComments(e)),d>1&&Object(h.b)(N.a,{className:"comments-pagination",current:p,total:d,onSelect:n.handlePageSelect}),!o&&n.renderCollapsedDivider(),!o&&n.renderCollapsedInfiLoader(),l&&Object(h.b)(_e.a,{onClick:u,commentsElRef:n.commentsWithPaginationElRef}))},n.renderModalContent=function(e){var t=n.props,r=t.collapsedInfo,a=t.parent.adminClosedComment,o=t.status,i=t.order,c=t.byComment,l=n.state.collapsed,u=l?n.props:r,d=u.isFetching,p=u.isDrained,f=u.isPrevDrained;if(p&&e.length<=0||a)return Object(h.b)("div",{className:"Comments-empty"},Object(h.b)(M.k,null,Object(h.b)(M.e,null),Object(h.b)("div",null,"还没有评论")));var m={getContainer:function(e){return e}};return Object(h.b)(E.b,Object(s.default)({className:"CommentList",onRef:function(e){n.listEl=e},isLocal:!0,isLoading:d,isPrevDrained:f,isDrained:p,onLoad:function(e){return n.load(n.props,e,!l)},placeholder:Object(h.b)(E.a,{className:"CommentItem",small:!0})},m),"normal"===i&&"open"===o?n.renderNormalComments(e):n.renderComments(e),!c&&n.renderCollapsedDivider(),!c&&n.renderCollapsedComments())},n.renderCommentEdit=function(e){var t=n.props,r=t.parent,a=r.canComment,o=(a=void 0===a?{status:!0}:a).status,i=a.reason,c=r.author,l=(c=void 0===c?{isOrg:!1}:c).isOrg,u=r.type,d=r.id,p=r.adminClosedComment,f=r.questionType,m=t.byComment,b=t.autoFocus,v=t.commentNeedsReview,g=p?"当前内容暂时无法评论":i,y=b&&!m;return o&&!p?Object(h.b)(ae,Object(s.default)({className:"Comments-".concat("top"===e?"top":"footer"),type:u,id:d,commentNeedsReview:v,onSubmit:n.addComment,autoFocus:y,ownerAuthorIsOrg:l,ownerAuthorIsBrand:"commercial"===f},"top"===e&&{preset:"default",onClick:function(e){k.default.trackEvent(e.target,{id:3905})}})):"top"!==e&&Object(h.b)("div",{className:w()("Comments-disabledText",{"Comments-disabledText--fixed":!1})},Object(h.b)("div",{className:"Comments-disabledReason"},g))},n.renderBottomButton=function(){var e=n.props.params,t=e.id,r=e.answerId,a=Boolean(r);return Object(h.b)("div",{className:"Comments-footer CommentEditor--normal"},Object(h.b)(A.c,{className:"CommentEditor-startCommentButton",preset:"primary",color:"blue",onClick:function(){return Object(x.b)(Object(T.a)(a?{type:"answer",id:r}:{type:"question",id:t},{utm_content:"comment_area"}),{zaProps:{id:3906}})}},"打开 App 参与站内讨论"))},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.byComment,n=e.commentPattern,r=e.parent.adminClosedComment,a=this.state.current;t&&this.scrollToTarget(),"bottom"!==n||r||this.loadByPagination(a)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.order,r=t.status,a=t.targetComment,o=t.commentPattern;n===e.order&&r===e.status||("bottom"===o?(this.setState({current:1}),this.loadByPagination(1,e)):this.load(e),this.setState({collapsed:!0}));var i=e.targetComment;!a&&i&&this.setState({collapsed:!i.collapsed})}},{key:"componentDidUpdate",value:function(e){!e.comments.length&&this.props.comments.length&&this.props.byComment&&this.scrollToTarget()}},{key:"componentWillUnmount",value:function(){this.props.dispatch(Object(L.e)(L.b))}},{key:"scrollToTarget",value:function(){var e=this.targetCommentEl,t=this.listEl;if(t&&e){var n=e.getBoundingClientRect(),r=n.top,a=n.height,o=t.getBoundingClientRect(),i=o.top,s=o.height;this.listEl.scrollTop+=r-i-(s-a)/2,e.classList.add("CommentItem--highlighted"),setTimeout(function(){return e.classList.remove("CommentItem--highlighted")},2e3),e.tabIndex=-1,e.focus()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.isAuthor,a=t.comments,o=t.commentPattern,i=t.commentInputPosition,c=t.parent,l=c.canComment,u=(l=void 0===l?{status:!0}:l).status,d=c.author,p=(d=void 0===d?{isOrg:!1}:d).isOrg,f=c.commentPermission,m=c.reviewingCounts,b=c.commentCount,v=c.adminClosedComment,g=t.totals,y=t.status,C=t.order,O=t.onStatusChange,k=t.onOrderChange,j=t.targetLink,_=a.filter(function(e){return!e.isDelete}),S="censor"===f&&r,x=S?{isCommentReviewer:S,onStatusChange:O,status:y,reviewingCounts:m}:{status:y},E=w()({Comments:!0,"Comments--withEditor":!0,"Comments-withPagination":"bottom"===o},n);return Object(h.b)("div",{className:E,ref:function(t){e.commentsElement=t}},Object(h.b)(je.a,Object(s.default)({commentCount:void 0!==b?b:g,commentClosed:v,targetLink:j,order:C,onOrderChange:k,commentPattern:o,isOrg:p,options:this.renderCommentEdit("top")},x)),"top"===i&&this.renderCommentEdit(),"bottom"===o?this.renderPatternContent(_):this.renderModalContent(_),"bottom"===i&&!u&&this.renderCommentEdit(),"bottom"===i&&u&&this.renderBottomButton())}}]),t}(v.Component);xe.propTypes={type:b.a.string,parent:b.a.object.isRequired,targetLink:b.a.node,commentNeedsReview:b.a.bool,byComment:b.a.oneOfType([b.a.number,b.a.string]),commentPattern:b.a.string,commentInputPosition:b.a.oneOf(["top","bottom"]),showPackupButton:b.a.bool,handlePackupButton:b.a.func,onPaginationClick:b.a.func,autoFocus:b.a.bool},xe.contextTypes={authRequired:b.a.func.isRequired},xe.defaultProps={commentInputPosition:"bottom",showPackupButton:!0,autoFocus:!0};var Ee=Object(y.connect)(function(e,t){var n=t.parent,r=t.parent,a=r.type,o=r.id,i=t.status,s=t.order,c=t.byComment,l=t.commentPattern,u=e.entities,d=e.comments,p="".concat(a,"_").concat(o),f=d.parent,h=d.pagination;"reviewing"===i&&(h=d.reviewing),"reverse"===s&&"open"===i&&(h=d.reverse);var m=[],b=d.collapsed[p]||{};b.ids&&b.ids.length>0&&(m=b.ids.map(function(e){return u.comments[e]}));var v=h[p]||{isPrevDrained:!1,isFetching:!1,isDrained:!1,ids:[]},g=v.isFetching,y=v.isPrevDrained,C=v.isDrained,w=v.ids,O=v.newIds,k=void 0===O?[]:O;return{isFetching:g,isPrevDrained:y,isDrained:C,totals:v.totals,comments:("bottom"!==l?w:k).map(function(e){return u.comments[e]}),collapsedInfo:b,collapsedComments:m,targetComment:u.comments[c],parent:Object.assign({},n,{},f[p])}})(xe);var Ne=function(e){function t(e,n){var r;return Object(l.a)(this,t),(r=Object(d.a)(this,Object(p.a)(t).call(this,e,n))).load=r.load.bind(Object(q.default)(r)),r.addComment=n.authRequired(r.addComment.bind(Object(q.default)(r)),void 0,L.b),r}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.load()}},{key:"load",value:function(){this.props.dispatch(Object(O.f)(this.props.commentId))}},{key:"addComment",value:function(e,t){var n=this.props,r=n.parent,a=r.type,o=r.id,i=n.commentId,s=n.dispatch,c=[a,o,e,t.id,i];return s(O.a.apply(void 0,c))}},{key:"render",value:function(){var e,t,n,r=this.props,a=r.onItemLike,o=r.onItemDelete,i=r.onItemFeature,s=r.onItemApprove,c=r.onItemCollapse,l=r.onItemDislike,u=r.onNavBack,d=r.canOperateItem,p=r.isFetching,f=r.comments,m=r.commentNeedsReview,b=r.openComment.collapsed,v=r.parent,g=r.parent.canComment,y=(g=void 0===g?{status:!0}:g).status,C=g.reason,w=r.commentPattern,O=r.commentId,k=this.context.currentUser;return Boolean(k&&f.find(function(e){return e.author&&e.author.member.urlToken===k.urlToken}))&&(t=(e=f.filter(function(e){return e.author&&e.author.member.urlToken!==k.urlToken}))[e.length-1]),p&&!f.length?n=Object(h.b)(E.a,{className:"CommentItem",small:!0}):f.length&&(n=f.map(function(e,t){return Object(h.b)(Oe,{key:t,isConversation:!0,commentNeedsReview:m,canOperate:d,parent:v,comment:e,onLike:a,onDelete:o,onFeature:i,onApprove:s,onCollapse:c,onDislike:l,collapsedShown:b})})),"bottom"===w?Object(h.b)(W.b,{size:"fullPage",onClose:u},Object(h.b)("div",{className:"Comments"},Object(h.b)(je.a,{isConversation:!0,commentPattern:w}),Object(h.b)("div",{className:"CommentList"},n))):Object(h.b)("div",{className:"Comments"},Object(h.b)(je.a,{isConversation:!0,onNavBack:u}),Object(h.b)("div",{className:"CommentList"},n),t&&(y?Object(h.b)(ae,{id:O,type:"conversation",className:"Comments-footer",replyTo:t,commentNeedsReview:m,onSubmit:this.addComment}):Object(h.b)("div",{className:"Comments-disabledText"},C)))}}]),t}(v.Component);Ne.propTypes={commentId:b.a.number.isRequired,type:b.a.string,parent:b.a.object.isRequired,commentNeedsReview:b.a.bool},Ne.contextTypes={currentUser:b.a.object,authRequired:b.a.func.isRequired};var Ae,Ie,Te,Le=Object(y.connect)(function(e,t){var n=t.commentId,r=e.entities.comments,a=e.comments.conversation[n]||{isFetching:!1,isDrained:!1,ids:[]};return{isFetching:a.isFetching,isDrained:a.isDrained,comments:a.ids.map(function(e){return r[e]}),openComment:r[n]}})(Ne),Pe=n(132),Re=Object(Pe.a)(null)((Te=Ie=function(e){function t(e){var n;Object(l.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={openedCommentId:null,status:"open",order:"normal"},n.like=function(e,t){var r=n.props,a=r.onItemLike,o=r.dispatch;a&&a(e,t),o(Object(O.j)(e))},n.collapse=function(e){var t=n.props,r=t.dispatch,a=t.parent;r(Object(O.g)(e,a.type,a.id))},n.dislike=function(e){return n.props.dispatch(Object(O.h)(e))},n.approve=function(e){var t=n.props,r=t.dispatch,a=t.parent,o=t.type;r(Object(O.b)(e,a.type||o,a.id))},n.handleStatusChange=function(e){n.setState({status:e})},n.handleOrderChange=function(e,t){n.props.onOrderChange&&n.props.onOrderChange(e,t),n.setState({order:e})};var r=e.parent,a=e.dispatch;return n.feature=function(e,t){return a(Object(O.i)(e,r.id,r.type,t))},n.delete=function(e){return a(Object(O.d)(e,r.type,r.id))},n.showConversation=function(e){return n.setState({openedCommentId:e})},n.showComments=function(){return n.setState({openedCommentId:null})},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.onMount;e&&e(this.domNode)}},{key:"render",value:function(){var e=this,t=this.props,n=t.parent,r=t.commentPattern,a=t.type,o=t.parent,i=(o=void 0===o?{}:o).commentPermission,l=o.relationship,u=void 0===l?{}:l,d=o.author,p=void 0===d?{}:d,f=t.needLoadCommentPermission,m=Object(c.a)(t,["parent","commentPattern","type","parent","needLoadCommentPermission"]),b=this.context.currentUser,v=void 0===u.isAuthor?b&&p.urlToken&&b.urlToken===p.urlToken:u.isAuthor,g="censor"===i&&!v,y="answer"===a||"article"===a,C=this.state,O=C.openedCommentId,k=C.status,j=C.order,_={commentNeedsReview:g,parent:n,type:a,canOperateItem:y,onShowConversation:this.showConversation,onItemLike:this.like,onItemFeature:this.feature,onItemDelete:this.delete,onItemCollapse:this.collapse,onItemDislike:this.dislike,onItemApprove:this.approve};return Object(h.b)("div",{className:"Comments-container",ref:function(t){return e.domNode=t}},Object(h.b)(Ee,Object(s.default)({},m,_,{commentPattern:r,className:w()({"Comments--hidden":O&&"bottom"!==r}),order:j,status:k,onStatusChange:this.handleStatusChange,onOrderChange:this.handleOrderChange,needLoadCommentPermission:f,isAuthor:v})),O&&Object(h.b)(Le,Object(s.default)({},m,_,{commentPattern:r,commentId:O,onNavBack:this.showComments})))}}]),t}(v.Component),Ie.propTypes={type:b.a.string.isRequired,parent:b.a.object.isRequired,onOrderChange:b.a.func,onItemLike:b.a.func,isAuthor:b.a.bool,onMount:b.a.func},Ie.defaultProps={type:"answer"},Ie.contextTypes={currentUser:b.a.object,authRequired:b.a.func.isRequired},Ae=Te))||Ae;t.default=Object(y.connect)()(Re)}}]);
//# sourceMappingURL=main.modals.3989b25e975f9b83b833.js.map